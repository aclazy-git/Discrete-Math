# 原书第8版

# 离散数学及其应用

[美] 肯尼思·H. 罗森（Kenneth H. Rosen）著

徐六通 杨娟 吴斌 译

经典教材全面升级，全球数百万学生阅读，新版包含超过800道例题和4200道习题

![](bff1724cfd5450b9e479e626d977518e01caa7e928c9e47dde6824173304562a.jpg)

![](ba1cc6bf81e153e320fa6aa5229c5cc55a76e4a23e2be624ed363dcf890a8184.jpg)

![](f96d7503833abd61593884f86cf3f41f7b163fdb344141e9fc3fb9f9700197bd.jpg)

Discrete Mathematics and Its Applications

Eighth Edition

本书是根据我多年来讲授离散数学的经验和兴趣写成的。对学生而言，我的目的是为他们提供内容准确且可读性强的教材，清晰地介绍并展示离散数学中的概念和技术。对于那些爱怀疑的学生，我的目标是展示离散数学的相关性和实用性。对于计算机科学专业的学生，我希望为他们将来的学习提供一切必需的数学基础。而对于数学专业的学生，我希望帮助他们理解重要的数学概念，并且意识到为什么这些概念对应用来说很重要。最重要的是，希望本书既能达到这些目标，又不含太多的水分。

对教师而言，我的目的是利用数学中行之有效的教学技术来设计一个灵活而全面的教学工具：只要有本书在手，教师就能迅速地从中筛选内容，以最适合特定学生的方式有效地开展离散数学的教学工作。希望我已经实现了这些目标。

在过去的30年中，本书取得了极大的成功，被世界各地超过100万名学生使用，并被翻译成多种语言，对此我感到非常欣慰。此次第8版所做的许多改进，正是得益于大量读者的反馈和建议。在这些读者中，既有来自北美600多所学校的师生，又有来自全球各地众多高校的读者，他们都曾将本书成功用作教材。由于所收到的这些反馈，以及在不断更新中所投入的大量精力，我才能够在每次升级时显著提高本书的吸引力和有效性。

本教材是为一学期或两学期的离散数学入门课程而设计的，适用于数学、计算机科学、工程等各类专业的学生。大学代数是唯一要求的先修课程，不过，要想真正学好离散数学，还是需要有一定的数学素养。本书的设计目标是满足各种类型离散数学入门课程的需求，内容高度灵活且非常全面。我希望本书不仅是一本成功的教科书，而且成为学生在日后的学习和职业生涯中可以参考的有价值的资源。

# 离散数学课程的目标

离散数学课程有多个目标。学生应该学会一系列特定的数学知识并知道怎样应用它们，更重要的是，这门课应教会学生怎样运用数学逻辑思维。为了达到这些目标，本教材特别强调数学推理以及问题求解的不同方法。本书中，五个重要主题将交织在一起：数学推理，组合分析，离散结构，算法思维，以及应用与建模。一门成功的离散数学课程应该小心谨慎地融合并平衡所有五个主题。

- 数学推理。学生必须理解数学推理以便阅读、领会并构造数学论证。本书开篇即讨论数理逻辑，这为后续讨论证明方法打下了基础。本书描述了构造证明的方法与技巧两个方面。本书特别强调数学归纳法，不仅给出了这种证明技术的许多不同类型的实例，还详细地解释了数学归纳法为什么是一种有效的证明技术。  
- 组合分析。一个重要的解题技巧就是计数或枚举对象。本书中关于枚举的讨论从计数的基本技术着手。重点是运用组合分析方法来解决计数问题并分析算法，而不是简单地应用公式。  
- 离散结构。离散数学课程应该教会学生如何处理离散结构，即表示离散对象以及对象之间关系的抽象数学结构。这些离散结构包括集合、置换、关系、图、树和有限状态机等。  
- 算法思维。有些类型的问题可以通过算法的规范说明来求解。当一个算法被清楚地描述后，就可以编写计算机程序来实现之。该活动涉及的数学部分包括该算法的规范说明、正确性的验证，以及执行算法所需要的计算机内存和时间分析等，这些在本书中均有阐述。算法将采用自然语言和一种易于理解的伪代码形式来描述。

- 应用与建模。离散数学在几乎每个可以想到的研究领域中都有应用。许多应用涉及本书提到的计算机科学和数据网络，还有一些应用涉及更为广泛的领域，如化学、生物学、语言学、地理学、商业和互联网等。这些是离散数学的自然而然重要的应用，而非人为编造的。用离散数学来建模是一项十分重要的问题求解技巧，学生可通过一些练习来自已构造模型，从而掌握这一技巧。

# 第8版中的变化

虽然第7版已经是一本极具影响力的教材，但许多教师还是提出了一些修改请求，以使本书更适于教学。我花了大量的时间和精力来满足这些请求，努力以自己的方式改进本书并使之紧跟最新发展。

第8版的修改基于20多位正式审稿人的意见、学生和教师的反馈以及我自己的见解，希望新版本能成为一个更加有效的教学工具。第8版中所做的大量更新是为了帮助学生更好地学习这些内容。我增加了额外的解释和例子以便阐述那些学生经常感到困难的内容，增加了知识性的和富有挑战性的新练习，还增加了一些与Internet、计算机科学以及数学生物学等密切相关的应用。在开发人员的努力下，本书配套网站现在提供了很多工具，可以帮助学生掌握关键概念并探索离散数学世界。此外，还提供了有效和全面的学习和评估工具，以作为教科书的补充。

我希望教师能仔细阅读新版，以了解如何满足自己的教学需求。要列出所有更新是不切实际的，不过，我将给出概要性的描述，包括一些关键更新及其所带来的好处，这对读者来说或许是有益的。

本书新版对许多内容进行了完善、更新、补充和润色，所有这一切都是为了使本书成为现代离散数学课程的更加有效的教学工具。之前使用过本教材的教师会发现这次更新遍及全书，其中最值得注意的修订如下。

# 全书范围的更新

- 对内容编排的完善贯穿全书，重点是使之更清晰，以便帮助学生阅读和理解概念。  
通过增加细节和解释来改进证明，同时提醒读者注意所采用的证明方法。  
- 新增例题，用于满足审稿人提出的需求，或是对新内容进行解释。有些例题可以在书中找到，有些例题则只在配套网站上提供。  
- 新增练习，有知识性的也有富有挑战性的，用于满足教师提出的需求或配合新内容。同时，还有些练习是为了完善或拓宽已有的练习。  
- 引入了更多的小标题以便将章节划分成更小的部分。  
- 极大地扩展了在线资源，以为教师和学生提供广泛的支持。后面会给出关于这些资源的详细描述。

# 主题方面的更新

- 逻辑。引入了若干逻辑谜题。一道新例题解释了如何将 $n$ 皇后问题建模为可满足性问题，这是一个简明易懂的例子。  
- 集合论。在正文中引入了多重集的概念（之前是在练习中引入的）。  
- 算法。新版讨论了字符串匹配算法，这是一个应用很广的重要算法，可用于拼写检查、关键字搜索、字符串匹配以及计算生物学。此外，还给出了求解字符串匹配练习的蛮力算法。  
- 数论。新版包含有关素数及其猜想的最新数值发现和理论发现。在正文中论述了扩展欧几里得算法和一遍(one-pass)算法（之前是在练习中介绍的）。
- 密码学。由于在云计算中的重要性，新版涵盖了同态加密的概念。  
- 数学归纳法。扩展了数学归纳法证明的模板，并将其放在数学归纳法证明的例题之前。  
- 计数方法。扩充了用于计数的除法法则的讨论。  
- 数据挖掘。在 $n$ 元关系一节讨论了数据挖掘中的一个关键概念——关联规则。另外，在练习中还引入了雅卡尔指数，可用于计算两个集合之间的距离。  
- 图论应用。添加了一道新例题，解释语义网络是如何工作的。这是人工智能中的一个重要结构，可以用图来建模。  
- 人物传记。新的人物传记包括怀尔斯、婆什迦罗、瓦列·普金、阿达马、张益唐和金特里。原有的传记也做了一些扩展和更新。这次更新是多方面的，包括具有历史意义的东方数学家、19世纪和20世纪的主要研究人员，以及目前活跃的21世纪的数学家和计算机科学家。

# 本书特色

易理解性。实践证明，本书对于初学者来说是易读易懂的。书中绝大部分内容不需要比大学代数更多的数学预备知识，需要额外帮助的学生可以在配套网站找到相应工具，以将数学素养提升到本书要求的水准。书中少数几处需要用到微积分知识的地方都已注明。大多数学生应该很容易理解用于表示算法的伪代码，无论是否正式学过程序设计语言。本书不要求正规计算机科学方面的预备知识。

每章都是从易于理解和易于领会的水平开始。一旦详细介绍了基本数学概念，就会给出稍难一些的内容以及在其他研究领域中的应用。

灵活性。为了便于灵活使用，本书做了精心的设计。各章对之前章节的依赖程度都被降到最低。每章分成长度大致相等的若干节，每节又根据内容划分成若干小节以方便教学。教师可以利用章节划分灵活地安排讲课进度。

写作风格。本书的写作风格是直接而又实用的。书中使用准确的数学语言，但没有采用过多的形式化与抽象，在数学命题中的记号和词语表达间做了精心的平衡。

数学严谨性和准确性。书中所有定义和定理的陈述都十分谨慎，这样学生可以欣赏语言的准确性和数学所需的严谨性。证明则是先由动机引入，然后再慢慢展开，并且所有步骤都经过了详细论证。证明中用到的公理及其所导出的基本性质在附录中均有描述，这呈现给学生一个清晰的概念，即在证明中他们能够做出何种假设。本书解释并大量使用了递归定义。

例题。全书共有超过800道例题，用来阐述概念、建立不同主题之间的关联以及介绍应用。在大部分例题中，首先提出问题，然后再以适量的细节给出解法。

应用。本书中的应用展示了离散数学在解决现实世界中的问题时的实用性。这些应用涉及广泛的领域，包括计算机科学、数据网络、心理学、化学、工程学、语言学、生物学、商业和互联网。

算法。离散数学的结论常常要用算法来表述，故书中多数章节都介绍了一些关键算法。这些算法采用文字叙述，同时也采用一种易于理解的结构化伪代码来描述。关于伪代码的描述和说明在附录C中给出。对于本书中的所有算法，都简要分析了其计算复杂度。

历史资料。书中对许多主题的背景做了简要介绍，并给出了89位数学家和计算机科学家的简短传记。这些科学家为离散数学做出过重要贡献，传记中介绍了他们的生活、事业和成就，同时配有照片（如果有的话）。

此外，我们还提供了一些历史资料，作为对正文中历史资料的补充。我们做了大量努力以使得本书能够反映新的发现。

关键术语和结论。每章最后列出关键术语和结论。关键术语只列出学生必须学会的那些，而非该章中定义的每个术语。

练习。书中包含4200多道练习题，涵盖大量不同类型的问题。不仅提供了足够多的简单练习用于培养基本技能，还提供了大量中等难度的练习和许多具有挑战性的练习。练习的叙述清晰而无歧义，并按难易程度进行了分级。练习中还包含一些特殊的讨论来展开正文中没有涉及的新概念，使得学生能够通过自己的努力来发现新的想法。

那些比平均难度稍难的练习用一个星号（*）标记，而那些更具挑战性的练习则用两个星号（**）来标记。需要用微积分知识求解的练习会明确指出。有些练习的结果要在正文中用到，我们用符号来标识这类题目。本书最后给出了所有奇数编号练习的答案或解题纲要。答案中大部分证明的步骤都十分清晰。

复习题。每章后面都有一组复习题。设计这些问题是为了帮助学生重点学习该章最重要的概念和技术。要回答这些复习题，学生必须写出较长的答案，而不是仅做一些计算或给出简答。

补充练习。每章后面都有一组丰富多样的补充练习。这些练习通常比每节后面的练习难度更大。补充练习旨在强化该章中的概念，并把不同主题更有效地综合起来。

计算机课题。每章后面还有一组计算机课题。全书共有大约150道计算机课题，用于将学生在计算和离散数学中所学到的内容联系起来。对于那些从数学角度或程序设计角度来看难度超过平均水平的计算机课题，我们用一个星号（ $\star$ ）标记，而那些非常具有挑战性的题目则用两个星号（ $\star \star$ ）标记。

计算和探索。每章后面都有一组计算和探索性的问题，共有大约120道。完成这些练习需要借助现有的软件工具，诸如学生或教师自己编写的程序，或像Maple或Mathematica这样的数学计算软件包。这些练习大多为学生提供了通过计算来发现一些新事实或想法的机会。（其中一些练习在配套的在线练习册《探索离散数学》（Exploring Discrete Mathematics)中也有讨论。）

写作课题。每章后面都有一组写作课题，要完成这类题目，学生需要参考数学方面的文献。有些题目本质上是关于历史知识的，需要学生查找原始资料；其他题目则将带领学生通往新内容和新思想。这些练习旨在向学生展示正文中没有深入探讨的想法，通过把数学概念和写作过程结合起来，帮助学生面对未来可能的研究领域。（在网络版或印刷版的《学生解题指南》（Student's Solutions Guide)中可以找到为这些题目准备的参考文献。）

附录。本书有三个附录。附录A介绍实数和正整数的公理，并解释如何利用这些公理直接证明事实。附录B介绍指数函数和对数函数，复习课程中常用的一些基本内容。附录C则介绍正文中用来描述算法的伪代码。

推荐读物。在附录后还提供了一份针对全书及各章的推荐读物。这些推荐读物包括难度不超过本书的书籍、更难些的书籍、阐述性的文章以及发表离散数学新发现的原始文章。其中一些是多年前出版的经典读物，而另一些是在最近几年才出版的。本书的网站中包含许多有价值资源的链接，可以作为对这些推荐读物的补充。

# 怎样使用本书

本书经过了精心写作和编排，以支持不同层次以及侧重点不同的离散数学课程。下表列出了核心章节和可选章节。为大学二年级学生开设一学期的离散数学入门课程可以以本书核心章节为基础，其他章节可由教师取舍。两学期的入门课程可以在核心章节上外加所有可选的数学章节。强调计算机科学的课程则可以涵盖部分或全部计算机科学章节。教师可以在本书网站上的《教师资源手册》(Instructor's Resource Guide)中找到离散数学课程教学大纲样本，以及针对本书章节的教学建议。

<table><tr><td>章节</td><td>核心章节</td><td>计算机科学可选章节</td><td>数学可选章节</td></tr><tr><td>1</td><td>1.1~1.8(视需要)</td><td></td><td></td></tr><tr><td>2</td><td>2.1~2.4, 2.6(视需要)</td><td></td><td>2.5</td></tr><tr><td>3</td><td></td><td>3.1~3.3(视需要)</td><td></td></tr><tr><td>4</td><td>4.1~4.4(视需要)</td><td>4.5, 4.6</td><td></td></tr><tr><td>5</td><td>5.1~5.3</td><td>5.4, 5.5</td><td></td></tr><tr><td>6</td><td>6.1~6.3</td><td>6.6</td><td>6.4, 6.5</td></tr><tr><td>7</td><td>7.1</td><td>7.4</td><td>7.2, 7.3</td></tr><tr><td>8</td><td>8.1, 8.5</td><td>8.3</td><td>8.2, 8.4, 8.6</td></tr><tr><td>9</td><td>9.1, 9.3, 9.5</td><td>9.2</td><td>9.4, 9.6</td></tr><tr><td>10</td><td>10.1~10.5</td><td></td><td>10.6~10.8</td></tr><tr><td>11</td><td>11.1</td><td>11.2, 11.3</td><td>11.4, 11.5</td></tr><tr><td>12</td><td></td><td>12.1~12.4</td><td></td></tr><tr><td>13</td><td></td><td>13.1~13.5</td><td></td></tr></table>

使用本书的教师可以选用或略去每节最后有挑战性的例题及练习来调整课程的难度。右侧的各章依赖图展示的是强依赖性。星号表示该章只有部分相关小节是学习后续章节所必需的。弱依赖关系不再列出。更多详细信息可以在《教师资源手册》中找到。

# 教辅资源

《学生解题指南》。这本可以单独购买的学生

手册包含所有奇数编号练习的完整解答。这些解答解释了为什么要用某种特定的方法以及为什么这种方法管用。对于有些问题，还给出了一两种其他可能的解法，以说明一个问题可以用多种不同方法来求解。指南的内容还包括：为每章后面的写作课题推荐的参考文献；关于如何撰写证明的指南；在离散数学学习中学生常犯的各类错误；为每章提供的考试样例及解答，以帮助学生准备考试。

《教师资料手册》。本手册在网站上提供，教师也可以申请印刷版，手册中包含书中所有偶数编号练习的完整解答。手册的内容还包括：关于如何讲授本书每章内容的建议，包括每节中应强调的重点以及如何组织内容；为每章提供的考试样例，以及一个包含1500多道考试题目的可选试题库，对于所有考试样例及试题库中的题目都给出了解答；针对不同的侧重点以及不同学生能力水平的课程教学大纲样本。

# 致谢

感谢所有将本书用作教材的教师和学生，他们来自不同的学校，并向我提供了很多有价值的反馈和有益的建议。正是有了他们的反馈，才使本书变得更为出色。特别感谢 Jerrold Grossman 和 Dan Jordan，作为第8版的技术评审，他们以“鹰眼”般敏锐的目光确保了本书的准确性。在本书出版过程中的各个阶段，他们两位多次审阅了本书的每个角落，帮助消除了之前勘误表中的错误，并防止出现新的错误。

感谢 Dan Jordan 为《学生解题指南》和《教师资源手册》做出的贡献。他在更新这些教辅资源方面完成了令人钦佩的工作。感谢 Jerrold Grossman，他是本书前 7 版教辅资源的作者，并为 Dan 提供了非常有价值的帮助。还要感谢许许多多曾经为本书创建并维护在线资源的人。特别

![](4e465d49fce3db05f81197d8b9e257d2ec4ef61896f58ccd3f4575ffd3bdc39f.jpg)

为给本书提供有价值的网站资源，我们花费了巨大的心血。建议教师花些时间浏览网站，以确定哪些资源可以帮助学生学习并探索离散数学知识。在线学习中心(OLC)的资源可供学生和教师使用，Connect $\text{念}$ 站点则专为交互式教学而设计，教师可以选择使用。

# 在线学习中心

在线学习中心可通过www.mhhe.com/rosen访问，其中包含信息中心、学生区和教师区。每一部分的主要特点如下。

# 信息中心

信息中心含有本书的基本信息，包括展开的目录（包括小节标题）、前言、教辅资源说明以及一个样章。还有一个链接，用来提交关于本书的错误报告或其他反馈信息。

# 学生区

学生区提供丰富的资源，包括下列与本书紧密相关的资源（书中通过特定图标标识）：

- 附加例题。你可以在该网站找到大量附加的例题，涵盖本书所有章节。这些例题主要集中在学生经常需要寻找额外资料的领域。虽然大部分例题只是扩充了基本概念，但在这里也能找到一些非常具有挑战性的例题。第8版中又添加了许多新的附加例题。  
- 交互式演示小程序。借助这些小程序，你能以交互方式探索重要算法是如何工作的，并且通过链接到例题和练习直接与本书内容相关联。网站还提供了附加说明，指导你如何应用这些小程序。  
- 自我评估。这些交互式指南帮助你评估自己对14个关键概念的理解程度。评估系统提供了一个问题库，其中每个问题包括一段简短教程和一道多选题。如果你选择了错误答案，系统会提供建议，帮助你理解错在哪里。利用自我评估系统，你应该能诊断出学习中的问题并找到合适的帮助。  
- 网络资源指南。该指南提供了数百个带有注释的外部网站链接，涉及历史及传记信息、谜题及问题、讨论、小程序示例、程序代码以及其他资源。

除此之外，学生区的资源还包括：

- 探索离散数学。这份资料能帮助学生利用计算机代数系统来完成离散数学中很广泛的一类计算。每章提供的内容包括：计算机代数系统中相关函数的描述及用法，离散数学中用于执行计算的程序，以及例题和练习。这些资料包括 Maple 和 Mathematica 两个版本。  
- 离散数学应用。这份资料共24章，每章都有独立的一组练习题，给出了各式各样有趣而又重要的应用，涉及离散数学中的三个领域——离散结构、组合学和图论。这些应用可以补充本书内容，同时也是自学的理想资料。  
- 证明撰写指南。该指南为撰写证明提供一些帮助，撰写证明是许多学生都觉得很难掌握的一种技巧。可以在课程刚开始时以及在需要写证明之后随时翻阅本指南，你会发觉自己撰写证明的能力提高了。（在《学生解题指南》中也有提供。）  
- 学习离散数学时的常见错误。该指南包括一个详细列表，列举了学生在学习离散数学时常有的一些误解以及容易犯的各类错误。建议你时常看看该列表，有助于避免常见的陷阱。（在《学生解题指南》中也有提供。）

- 对写作课题的建议。该指南为本书中的写作课题提供了非常有益的提示和建议，包括：有助于开展研究的各类参考文献，涵盖相关书籍和论文；各种相关资料，包括印刷版和在线版；做图书馆研究的技巧；提升写作质量的建议。（在《学生解题指南》中也有提供。）

# 教师区

网站的这一部分提供了对学生区所有资源的访问，以及为教师准备的资源：

- 教学大纲样本。给出了详细的课程大纲，为有不同侧重点以及不同学生背景和能力水平的课程提供了建议。  
- 教学建议。包含给教师的详细教学建议，包括全书章节概况、每小节详细注解以及关于练习的说明。  
- 可打印试题。以 TeX 格式和 Word 格式提供每章的可打印试题，教师还可以自行定制。  
- 讲义幻灯片以及图表。为教师提供了一组涵盖全部章节的完整 PowerPoint 幻灯片。此外，本书中所有的图和表格也以 PowerPoint 幻灯片形式提供。

什么是离散数学？离散数学是致力于研究离散对象的数学分支。（这里离散意味着由不同的或不相连的元素组成。）可利用离散数学来求解的问题包括：

- 在计算机系统中，有多少种方式可以选择一个合法的口令？  
- 赢得彩票的概率是多少？  
- 网络上的两台计算机之间是否存在通路？  
怎样鉴别垃圾邮件？  
- 怎样加密一则消息，使得只有预期收件人能够阅读？  
在交通系统中，两座城市之间的最短路径是什么？  
- 怎样按递增顺序排列一列整数？   
- 完成排序需要用到多少步骤？  
- 如何证明一种排序算法能正确地排序列表？  
怎样设计两个整数相加的电路？  
- 存在多少合法的因特网地址？

你将学习解决诸如以上问题时需要用到的离散结构和技术。

更一般地，每当需要对对象进行计数时，需要研究两个有限（或可数）集合之间的关系时，需要分析涉及有限步骤的过程时，就会用到离散数学。离散数学的重要性不断增长的一个关键原因是信息在计算机器中是以离散方式存储和处理的。

为什么要学习离散数学？学习离散数学有许多重要理由。首先，通过这门课程你可以培养自己的数学素养，即理解和构造数学论证的能力。没有这些技巧，你在学习数学科学时不可能走得太远。

其次，离散数学是学习数学科学中所有高级课程的必由之路。离散数学为许多计算机科学课程提供数学基础，包括数据结构、算法、数据库理论、自动机理论、形式语言、编译理论、计算机安全以及操作系统。学生会发现，若没有在离散数学课程中打下适当的数学基础，在学习后续课程时将会感到非常困难。有一个学生给我发送电子邮件，说在她选修的每门计算机科学课程中都用到了本书的知识。

以离散数学中研究的内容为基础的数学课程包括逻辑、集合论、数论、线性代数、抽象代数、组合学、图论及概率论（离散部分）。

此外，离散数学还包含在运筹学（包括离散优化）、化学、工程学以及生物学等领域的问题求解中所必需的数学基础。在本书中，我们将学习上述领域中的一些应用。

许多学生都感到他们的离散数学入门课程比以前选修过的课程更具挑战性。理由就是，本课程的主要目标之一是教授数学推理和问题求解，而非一些零散技巧的集合。本书练习的设计就反映了这个目标。虽然书中的大量练习与例题所阐述的内容多有类似，但还是有相当比例的练习需要创造性思维。这是有意而为之的。本书中讨论的内容提供了求解这些练习所需的工具，但你的任务是调动自己的创造性成功地使用这些工具。本课程的主要目标之一是学习如何解决那些可能与你以前遇到过的不大一样的问题。不过，学会求解一些特殊类型的练习，还不足以保证你能掌握在后续课程及职业生涯中所需的问题求解技能。虽然本书论述了众多不同的主题，但离散数学是一个极为多样化又涉猎广泛的研究领域。本书的目标之一是培养学生举一反三的能力，以便学生在将来的职业生涯中也能快速学会所需要的其他知识。

最后，离散数学是一门非常好的学习如何阅读和书写数学证明的课程。除了第1章和第5章给出的明确论述证明的资料外，本教材还包含大量定理的证明，以及要求学生完成证明的练习。这样不仅能加深学生对主题的理解，还能使学生为今后学习数学和计算机科学理论方面的高级课程做好充分准备。

练习。关于如何更好地学习离散数学（以及数学和计算机科学中的其他科目），我想给出一些建议。积极做练习的收获最多，建议你尽可能地多做练习。在完成老师布置的练习后，我鼓励你做更多的练习，如本书每节后面的练习和每章后面的补充练习。（注意练习前面的分级标记。）

# 练习标记的含义

<table><tr><td>无标记</td><td>常规练习</td></tr><tr><td>*</td><td>稍难的练习</td></tr><tr><td>**</td><td>富有挑战性的练习</td></tr><tr><td>【5】</td><td>练习中包含正文中要用到的结论(表1列出了这些练习在哪里会用到)</td></tr><tr><td>(需要微积分知识)</td><td>练习求解时需要用到极限或微积分中的概念</td></tr></table>

表 1 带有手形图标的练习,以及正文中哪里会用到这些练习  

<table><tr><td>节</td><td>练习</td><td>会用到的节</td><td>节</td><td>练习</td><td>会用到的节</td></tr><tr><td>1.1</td><td>42</td><td>1.3</td><td>4.3</td><td>37</td><td>4.1</td></tr><tr><td>1.1</td><td>43</td><td>1.3</td><td>4.4</td><td>2</td><td>4.6</td></tr><tr><td>1.3</td><td>11</td><td>1.6</td><td>4.4</td><td>44</td><td>7.2</td></tr><tr><td>1.3</td><td>12</td><td>1.6</td><td>6.4</td><td>21</td><td>7.2</td></tr><tr><td>1.3</td><td>19</td><td>1.6</td><td>6.4</td><td>25</td><td>7.4</td></tr><tr><td>1.3</td><td>34</td><td>1.6</td><td>7.2</td><td>15</td><td>7.2</td></tr><tr><td>1.3</td><td>46</td><td>12.2</td><td>9.1</td><td>26</td><td>9.4</td></tr><tr><td>1.7</td><td>18</td><td>1.7</td><td>10.4</td><td>59</td><td>11.1</td></tr><tr><td>2.3</td><td>74</td><td>2.3</td><td>11.1</td><td>15</td><td>11.1</td></tr><tr><td>2.3</td><td>81</td><td>2.5</td><td>11.1</td><td>30</td><td>11.1</td></tr><tr><td>2.5</td><td>15</td><td>2.5</td><td>11.1</td><td>48</td><td>11.2</td></tr><tr><td>2.5</td><td>16</td><td>2.5</td><td>12.1</td><td>12</td><td>12.3</td></tr><tr><td>3.1</td><td>45</td><td>3.1</td><td>A.2</td><td>4</td><td>8.3</td></tr><tr><td>3.2</td><td>74</td><td>11.2</td><td></td><td></td><td></td></tr></table>

做练习的最好方法是在查阅答案之前首先尝试自己解题。注意，书中提供的所有奇数编号练习的答案只是答案而已，而非完整的解答，特别是，这些答案中省略了获得解所需的推导过程。单独提供的《学生解题指南》则提供了本书中所有奇数编号练习的完整解答。当你在求解过程中遇到困境时，才建议查阅《学生解题指南》。越是尝试自己解题而非被动查阅或照抄解答，你学到的就越多。出版商有意不提供偶数编号练习的答案和解答，如果你在解这些练习时遇到困难，可以请教你的老师。

网络资源。本书的所有用户均可通过在线学习中心访问在线资源。在那里，你会找到：许多为澄清关键概念而设计的附加例题；衡量你对核心主题理解程度的自我评估；探索关键算法和其他概念的交互式演示小程序；精选的与离散数学相关的网络资源指南；帮助你掌握核心概念的附加解释和实践；关于撰写证明以及避免离散数学中常见错误的新增说明；关于重要应用的深度讨论；利用Maple和Mathematica软件探索离散数学中计算问题的指南。在书中的一些地方，当有其他在线资源可用时，会在页边用特定图标标识。关于这些以及其他在线资源的详细信息，参见前文中的说明。

<table><tr><td>主题</td><td>符号</td><td>意义</td></tr><tr><td rowspan="15">逻辑</td><td>¬p</td><td>p的否定</td></tr><tr><td>p∧q</td><td>p和q的合取</td></tr><tr><td>p∨q</td><td>p和q的析取</td></tr><tr><td>p⊕q</td><td>p和q的异或</td></tr><tr><td>p→q</td><td>p蕴含q</td></tr><tr><td>p↔q</td><td>p和q的双条件</td></tr><tr><td>p≡q</td><td>p和q的等价</td></tr><tr><td>T</td><td>永真式</td></tr><tr><td>F</td><td>矛盾式</td></tr><tr><td>P(x1, ...,xn)</td><td>命题函数</td></tr><tr><td>∀xP(x)</td><td>P(x)的全称量化</td></tr><tr><td>∃xP(x)</td><td>P(x)的存在量化</td></tr><tr><td>∃!xP(x)</td><td>P(x)的唯一存在量化</td></tr><tr><td>...</td><td>所以</td></tr><tr><td>p{S}q</td><td>S的部分正确性</td></tr><tr><td rowspan="28">集合</td><td>x∈S</td><td>x是S的成员</td></tr><tr><td>x∉S</td><td>x不是S的成员</td></tr><tr><td>{a1, ..., an}</td><td>一个集合的元素列表</td></tr><tr><td>{x|P(x)}</td><td>集合构造器记法</td></tr><tr><td>N</td><td>自然数集合</td></tr><tr><td>Z</td><td>整数集合</td></tr><tr><td>Z+</td><td>正整数集合</td></tr><tr><td>Q</td><td>有理数集合</td></tr><tr><td>R</td><td>实数集合</td></tr><tr><td>[a,b], (a,b)</td><td>闭区间，开区间</td></tr><tr><td>S=T</td><td>集合等式</td></tr><tr><td>∅</td><td>空集</td></tr><tr><td>S⊆T</td><td>S是T的子集</td></tr><tr><td>S⊆T</td><td>S是T的真子集</td></tr><tr><td>|S|</td><td>S的基数</td></tr><tr><td>P(S)</td><td>S的幂集合</td></tr><tr><td>(a1,a2, ..., an)</td><td>n元组</td></tr><tr><td>(a,b)</td><td>序偶</td></tr><tr><td>A×B</td><td>A和B的笛卡儿乘积</td></tr><tr><td>A∪B</td><td>A和B的并集</td></tr><tr><td>A∩B</td><td>A和B的交集</td></tr><tr><td>A-B</td><td>A和B的差集</td></tr><tr><td>A</td><td>A的补集</td></tr><tr><td>∪_{i=1}^{n}Ai</td><td>Ai的并集，i=1,2,...,n</td></tr><tr><td>∩_{i=1}^{n}Ai</td><td>Ai的交集，i=1,2,...,n</td></tr><tr><td>A⊕B</td><td>A和B的对称差</td></tr><tr><td>⊗0</td><td>可数集的基数</td></tr><tr><td>c</td><td>R的基数</td></tr><tr><td rowspan="22">函数</td><td>f(a)</td><td>函数f在a点的值</td></tr><tr><td>f:A→B</td><td>f是从A到B的函数</td></tr><tr><td>f1+f2</td><td>函数f1和f2的和</td></tr><tr><td>f1f2</td><td>函数f1和f2的积</td></tr><tr><td>f(S)</td><td>集合S在f之下的像</td></tr><tr><td>tA(s)</td><td>A上的恒等函数</td></tr><tr><td>f-1(x)</td><td>f的逆</td></tr><tr><td>f0g</td><td>f和g的组合</td></tr><tr><td>[x]</td><td>下取整函数</td></tr><tr><td>[f]</td><td>上取整函数</td></tr><tr><td>an</td><td>{a}中下标为n的项</td></tr><tr><td>∑ni=1na</td><td>a1,a2,···,an之和</td></tr><tr><td>∑aa∈S</td><td>aa之和，α∈S</td></tr><tr><td>Πni=1na</td><td>a1,a2,···,an之积</td></tr><tr><td>f(x)是O(g(x))</td><td>f(x)是大Og(x)</td></tr><tr><td>n!</td><td>n的阶乘</td></tr><tr><td>f(x)是Ω(g(x))</td><td>f(x)是大Ωg(x)</td></tr><tr><td>f(x)是Θ(g(x))</td><td>f(x)是大Θg(x)</td></tr><tr><td>~</td><td>渐近于</td></tr><tr><td>min(x,y)</td><td>x和y的最小值</td></tr><tr><td>max(x,y)</td><td>x和y的最大值</td></tr><tr><td>≈</td><td>约等于</td></tr><tr><td rowspan="10">整数</td><td>a|b</td><td>a整除b</td></tr><tr><td>a/b</td><td>a不整除b</td></tr><tr><td>adivb</td><td>a除以b所得的商</td></tr><tr><td>amodb</td><td>a除以b所得的余数</td></tr><tr><td>a≡b(modm)</td><td>a模m同余于b</td></tr><tr><td>a≠b(modm)</td><td>a模m不同余于b</td></tr><tr><td>Zm</td><td>模m整数集</td></tr><tr><td>(akak-1···ak0)b</td><td>以b为基数的表示</td></tr><tr><td>gcd(a,b)</td><td>a和b的最大公因子</td></tr><tr><td>lcm(a,b)</td><td>a和b的最小公倍数</td></tr><tr><td rowspan="9">矩阵</td><td>[aj]</td><td>矩阵，其中元素为aij</td></tr><tr><td>A+B</td><td>矩阵A和B的和</td></tr><tr><td>AB</td><td>矩阵A和B的积</td></tr><tr><td>In</td><td>n阶单位矩阵</td></tr><tr><td>AT</td><td>A的转置</td></tr><tr><td>AVB</td><td>矩阵A和B的并</td></tr><tr><td>A∧B</td><td>矩阵A和B的交</td></tr><tr><td>A⊗B</td><td>矩阵A和B的布尔积</td></tr><tr><td>A[n]</td><td>A的n次布尔幂</td></tr><tr><td rowspan="4">计数与概率</td><td>P(n,r)</td><td>n元素集合的r排列数</td></tr><tr><td>C(n,r)</td><td>n元素集合的r组合数</td></tr><tr><td>(n/r)</td><td>n选r的二项式系数</td></tr><tr><td>C(n;n1,n2,···,nm)</td><td>多项式系数</td></tr><tr><td rowspan="8">计数与概率</td><td>p(E)</td><td>E的概率</td></tr><tr><td>p(E|F)</td><td>给定F，E的条件概率</td></tr><tr><td>E(X)</td><td>随机变量X的期望值</td></tr><tr><td>V(X)</td><td>随机变量X的方差</td></tr><tr><td>Cn</td><td>卡塔兰数</td></tr><tr><td>N(Pi1···Pi)</td><td>具有性质Pi的元素个数，j=1，…，n</td></tr><tr><td>N(Pi1'···Pi')</td><td>不具有性质Pi的元素个数，j=1，…，n</td></tr><tr><td>Dn</td><td>n个元素的错排数</td></tr><tr><td rowspan="16">关系</td><td>S⊙R</td><td>关系R和S的复合</td></tr><tr><td>Rn</td><td>关系R的n次幂</td></tr><tr><td>R-1</td><td>逆关系</td></tr><tr><td>sc</td><td>条件C的选择操作</td></tr><tr><td>Pi, i2, ..., im</td><td>投影</td></tr><tr><td>Jp(R,S)</td><td>联合</td></tr><tr><td>Δ</td><td>对角线关系</td></tr><tr><td>R*</td><td>R的连通性关系</td></tr><tr><td>a~b</td><td>a等价于b</td></tr><tr><td>[a]R</td><td>a的R等价类</td></tr><tr><td>[a]m</td><td>模m的同余类</td></tr><tr><td>(S,R)</td><td>由集合S和偏序R构成的偏序集</td></tr><tr><td>a&lt; b</td><td>a、b有&lt;关系</td></tr><tr><td>a&gt; b</td><td>a、b有&gt;关系</td></tr><tr><td>a≤ b</td><td>a、b有≤关系</td></tr><tr><td>a≥ b</td><td>a、b有≥关系</td></tr><tr><td rowspan="26">图和树</td><td>(u,v)</td><td>有向边</td></tr><tr><td>G=(V,E)</td><td>以V为点集、E为边集的图</td></tr><tr><td>{u,v}</td><td>无向边</td></tr><tr><td>deg(v)</td><td>顶点v的度数</td></tr><tr><td>deg-(v)</td><td>顶点v的入度</td></tr><tr><td>deg+(v)</td><td>顶点v的出度</td></tr><tr><td>Kn</td><td>n个顶点的完全图</td></tr><tr><td>Cn</td><td>大小为n的圈图</td></tr><tr><td>Wn</td><td>大小为n的轮图</td></tr><tr><td>Qn</td><td>n立方体图</td></tr><tr><td>Kn,m</td><td>大小为n、m的完全二分图</td></tr><tr><td>G-e</td><td>G删除边e后的子图</td></tr><tr><td>G+e</td><td>G增加边e所得的图</td></tr><tr><td>G1∪G2</td><td>G1和G2的并</td></tr><tr><td>a, x1, ..., xn-1, b</td><td>从a到b的通路</td></tr><tr><td>a, x1, ..., xn-1, a</td><td>回路</td></tr><tr><td>κ(G)</td><td>G的顶点连通度</td></tr><tr><td>λ(G)</td><td>G的边连通度</td></tr><tr><td>r</td><td>平面图的面数</td></tr><tr><td>deg(R)</td><td>面R的度数</td></tr><tr><td>χ(G)</td><td>G的着色数</td></tr><tr><td>m</td><td>根树中内点的最大子树数</td></tr><tr><td>n</td><td>根树中的顶点数</td></tr><tr><td>i</td><td>根树中的内点数</td></tr><tr><td>l</td><td>根树中的叶子数</td></tr><tr><td>h</td><td>根树的高度</td></tr><tr><td>布尔代数</td><td>x\(\overline{x}\)x+yx·y(或xy)B\(F^d\)x|yx↓yx→y→x(x→y→y→xy)</td><td>布尔变量x的补x和y的布尔和x和y的布尔积{0,1}F的对偶x NAND yx NOR y非门或门与门</td></tr><tr><td>语言和有限状态机</td><td>λxyl(x)wR(V,T,S,P)Sw→w1w1→w2w1→w2&lt;A&gt; ::= =&lt;B&gt;c|d(S,I,O,f,g,s0)s0ABA*(S,I,f,s0,F)(S,I,f,s0)</td><td>空串x和y的连接串x的长度w的反串短语结构文法开始符号产生式w2可由w1直接派生w2可由w1派生巴克斯-诺尔范式带输出的有限状态机开始状态集合A和B的连接A的Kleene闭包不带输出的有限状态自动机图灵机</td></tr></table>

# 目录

Discrete Mathematics and Its Applications, 8E

# 出版者的话

# 译者序

# 前言

# 在线资源

# 致学生

# 作者简介

# 符号表

# 第1章 基础：逻辑和证明 1

# 1.1 命题逻辑 1

1.1.1 引言  
1.1.2 命题  
1.1.3 条件语句 4   
1.1.4 复合命题的真值表 7  
1.1.5 逻辑运算符的优先级 8  
1.1.6 逻辑运算和比特运算 8   
练习 9

# 1.2 命题逻辑的应用 15

1.2.1 引言 15  
1.2.2 语句翻译 15   
1.2.3 系统规范说明 16  
1.2.4 布尔搜索 16  
1.2.5 逻辑谜题 17  
1.2.6 逻辑电路 18

练习 20

# 1.3 命题等价式 23

1.3.1 引言 23  
1.3.2 逻辑等价式 23  
1.3.3 德·摩根律的运用 25  
1.3.4 构造新的逻辑等价式 26  
1.3.5 可满足性 28  
1.3.6 可满足性的应用 28  
1.3.7 可满足性问题求解 30

练习 31

# 1.4 谓词和量词 34

1.4.1 引言 34  
1.4.2 谓词 34   
1.4.3 量词 37   
1.4.4 有限域上的量词 39  
1.4.5 受限域的量词 39  
1.4.6 量词的优先级 40  
1.4.7 变量绑定 40  
1.4.8 涉及量词的逻辑等价式 40  
1.4.9 量化表达式的否定 41  
1.4.10 语句到逻辑表达式的翻译 42   
1.4.11 系统规范说明中量词的使用 43  
1.4.12 选自路易斯·卡罗尔的例子 44  
1.4.13 逻辑程序设计 45  
练习 46

# 1.5 嵌套量词 51

1.5.1 引言 51  
1.5.2 理解涉及嵌套量词的语句 51   
1.5.3 量词的顺序 52   
1.5.4 数学语句到嵌套量词 语句的翻译 53   
1.5.5 嵌套量词到自然语言的翻译 54  
1.5.6 汉语语句到逻辑表达式的翻译 54  
1.5.7 嵌套量词的否定 55  
练习 56

# 1.6 推理规则 62

1.6.1 引言 62  
1.6.2 命题逻辑的有效论证 62

1.6.3 命题逻辑的推理规则 63   
1.6.4 使用推理规则建立论证 65  
1.6.5 消解律 66  
1.6.6 谩误 66   
1.6.7 量化命题的推理规则… 67  
1.6.8 命题和量化命题推理规则的组合使用 68

练习 69

# 1.7 证明导论 72

1.7.1 引言 72  
1.7.2 一些专用术语 72  
1.7.3 理解定理是如何陈述的 73  
1.7.4 证明定理的方法 73  
1.7.5 直接证明法 73  
1.7.6 反证法 74  
1.7.7 归谬证明法 76  
1.7.8 证明中的错误 78  
1.7.9 良好的开端 79

练习 80

# 1.8 证明的方法和策略 81

1.8.1 引言 81  
1.8.2 穷举证明法和分情形证明法 81  
1.8.3 存在性证明 84  
1.8.4 唯一性证明 86  
1.8.5 证明策略 87  
1.8.6 寻找反例 89  
1.8.7 证明策略实践 90   
1.8.8 拼接 90   
1.8.9 开放问题的作用 92  
1.8.10 其他证明方法 93  
练习 94
关键术语和结论 96
复习题 97  
补充练习 98   
计算机课题 100  
计算和探索 101  
写作课题 101

# 第2章 基本结构：集合、函数、序列、求和与矩阵 102

# 2.1 集合 102

2.1.1 引言 102  
2.1.2 文氏图 104  
2.1.3 子集 105  
2.1.4 集合的大小 106  
2.1.5 幂集 107  
2.1.6 简卡儿积 107   
2.1.7 使用带量词的集合符号 … 109  
2.1.8 真值集和量词 109

练习 109

# 2.2 集合运算 112

2.2.1 引言 112  
2.2.2 集合恒等式 114  
2.2.3 扩展的并集和交集 116  
2.2.4 集合的计算机表示 117  
2.2.5 多重集 118

练习 119

# 2.3 函数 123

2.3.1 引言 123  
2.3.2 一对一函数和映上函数 … 125  
2.3.3 反函数和函数合成 128  
2.3.4 函数的图 130  
2.3.5 一些重要的函数 130  
2.3.6 部分函数 133

练习 133

# 2.4 序列与求和 138

2.4.1 引言 138  
2.4.2 序列 138  
2.4.3 递推关系 139  
2.4.4 特殊的整数序列 141  
2.4.5 求和 144

练习 147

# 2.5 集合的基数 150

2.5.1 引言 150  
2.5.2 可数集合 151  
2.5.3 不可数集合 153

练习 155

2.6 矩阵 157

2.6.1 引言 157  
2.6.2 矩阵算术 158   
2.6.3 矩阵的转置和幂 159   
2.6.4 0-1 矩阵 … 160   
练习 161

关键术语和结论 164  
复习题 166  
补充练习 166   
计算机课题 168  
计算和探索 169  
写作课题 169

# 第3章 算法 170

3.1 算法 170

3.1.1 引言 170  
3.1.2 搜索算法 172  
3.1.3 排序 174   
3.1.4 字符串匹配 176   
3.1.5 贪婪算法 177  
3.1.6 停机问题 179

练习 180

3.2 函数的增长 183

3.2.1 引言 183  
3.2.2 大 $o$ 记号 184  
3.2.3 一些重要函数的大 $o$ 估算 187  
3.2.4 函数组合的增长 190  
3.2.5 大 $\Omega$ 与大记号 191  
练习 192

3.3 算法的复杂度 196

3.3.1 引言 196  
3.3.2 时间复杂度 196  
3.3.3 矩阵乘法的复杂度 198  
3.3.4 算法范型 199  
3.3.5 理解算法的复杂度 201  
练习 203

关键术语和结论 207

复习题 208

补充练习 209   
计算机课题 211  
计算和探索 211  
写作课题 212

# 第4章 数论和密码学 213

4.1 整除性和模算术 213

4.1.1 引言 213  
4.1.2 除法 213  
4.1.3 除法算法 214  
4.1.4 模算术 215  
4.1.5 模 $m$ 算术 217

练习 218

4.2 整数表示和算法 220

4.2.1 引言 220  
4.2.2 整数表示 220  
4.2.3 整数运算算法 223  
4.2.4 模指数运算 225

练习 226

4.3 素数和最大公约数 229

4.3.1 引言 229  
4.3.2 素数 229  
4.3.3 试除法 230  
4.3.4 埃拉托斯特尼筛法 231  
4.3.5 关于素数的猜想和开放问题 235  
4.3.6 最大公约数和最小公倍数 236  
4.3.7 欧几里得算法 238  
4.3.8 gcd的线性组合表示 239  
练习 242

4.4 求解同余方程 245

4.4.1 引言 245  
4.4.2 线性同余方程 245  
4.4.3 中国剩余定理 247  
4.4.4 大整数的计算机算术 248  
4.4.5 费马小定理 249  
4.4.6 伪素数 250  
4.4.7 原根和离散对数 251  
练习 252

4.5 同余的应用 255

4.5.1 散列函数 255  
4.5.2 伪随机数 256  
4.5.3 校验码 257

练习 259

4.6 密码学 260

4.6.1 引言 260  
4.6.2 古典密码学 261  
4.6.3 公钥密码学 263  
4.6.4 RSA密码系统 265  
4.6.5 RSA加密 265   
4.6.6 RSA解密 266   
4.6.7 用RSA作为公钥系统… 266  
4.6.8 密码协议 267  
4.6.9 同态加密 268

练习 269

关键术语和结论 271  
复习题 273  
补充练习 273   
计算机课题 275  
计算和探索 276  
写作课题 276

# 第5章 归纳与递归 278

5.1 数学归纳法 278

5.1.1 引言 278  
5.1.2 数学归纳法 279  
5.1.3 为什么数学归纳法是有效的 280

5.1.4 选择正确的基础步骤 280   
5.1.5 运用数学归纳法进行证明的原则 281  
5.1.6 数学归纳法的优点与缺点 281  
5.1.7 利用数学归纳法证明的例子 281

5.1.8 使用数学归纳法时犯的错误 290

练习 291

5.2 强归纳法与良序性 296

5.2.1 引言 296  
5.2.2 强归纳法 296  
5.2.3 利用强归纳法证明的例子 298  
5.2.4 计算几何学中使用强归纳法 300  
5.2.5 利用良序性证明 302  
练习 302

5.3 递归定义与结构归纳法 306

5.3.1 引言 306  
5.3.2 递归地定义函数 307  
5.3.3 递归地定义集合与结构 …… 309  
5.3.4 结构归纳法 312  
5.3.5 广义归纳法 315  
练习 315

5.4 递归算法 320

5.4.1 引言 320  
5.4.2 证明递归算法的正确性 322  
5.4.3 递归与迭代 323  
5.4.4 归并排序 324

练习 327

5.5 程序正确性 329

5.5.1 引言 329  
5.5.2 程序验证 329  
5.5.3 推理规则 330   
5.5.4 条件语句 330   
5.5.5 循环不变量 332

练习 333

关键术语和结论 334  
复习题 335  
补充练习 336   
计算机课题 340  
计算和探索 341  
写作课题 341

# 第6章 计数 342

6.1 计数的基础 342   
6.1.1 引言 342

6.1.2 基本的计数原则 342  
6.1.3 比较复杂的计数问题 346  
6.1.4 减法法则（两个集合的客斥原理） 347  
6.1.5 除法法则 349   
6.1.6 树图 349

练习 350

6.2 鸽巢原理 354

6.2.1 引言 354  
6.2.2 广义鸽巢原理 355  
6.2.3 鸽巢原理的几个简单应用 357

练习 359

6.3 排列与组合 361

6.3.1 引言 361  
6.3.2 排列 361   
6.3.3 组合 362

练习 365

6.4 二项式系数和恒等式 367

6.4.1 二项式定理 368  
6.4.2 帕斯卡恒等式和三角形 370  
6.4.3 其他的二项式系数恒等式 371

练习 372

6.5 排列与组合的推广 375

6.5.1 引言 375  
6.5.2 有重复的排列 375  
6.5.3 有重复的组合 375  
6.5.4 具有不可区别物体的集合的排列 378  
6.5.5 把物体放入盒子 379

练习 382

6.6 生成排列和组合 385

6.6.1 引言 385  
6.6.2 生成排列 385  
6.6.3 生成组合 386  
练习 387

关键术语和结论 388

复习题 389

补充练习 390   
计算机课题 393  
计算和探索 394  
写作课题 394

# 第7章 离散概率 395

7.1 离散概率引论 395

7.1.1 引言 395  
7.1.2 有限概率 395  
7.1.3 事件组合的概率 398  
7.1.4 概率的推理 399

练习 399

7.2 概率论 402

7.2.1 引言 402  
7.2.2 概率指派 402  
7.2.3 事件的组合 403  
7.2.4 条件概率 404  
7.2.5 独立性 405  
7.2.6 伯努利试验与二项分布…406  
7.2.7 随机变量 407  
7.2.8 生日问题 408  
7.2.9 蒙特卡罗算法 409  
7.2.10 概率方法 411  
练习 412

7.3 贝叶斯定理 414

7.3.1 引言 414  
7.3.2 贝叶斯定理 415  
7.3.3 贝叶斯垃圾邮件过滤器 417  
练习 420

7.4 期望值和方差 422

7.4.1 引言 422  
7.4.2 期望值 422   
7.4.3 期望的线性性质 424   
7.4.4 平均情形下的计算复杂度 425  
7.4.5 几何分布 427  
7.4.6 独立随机变量 428  
7.4.7 方差 429  
7.4.8 切比雪夫不等式 431

练习 433   
关键术语和结论 435  
复习题 436  
补充练习 437   
计算机课题 440  
计算和探索 441  
写作课题 441

# 第8章 高级计数技术 442

8.1 递推关系的应用 442

8.1.1 引言 442  
8.1.2 用递推关系构造模型 443  
8.1.3 算法与递推关系 447

练习 450

8.2 求解线性递推关系 453

8.2.1 引言 453  
8.2.2 求解常系数线性齐次递推关系 454  
8.2.3 求解常系数线性非齐次递推关系 458

练习 460

8.3 分治算法和递推关系 463

8.3.1 引言 463  
8.3.2 分治递推关系 463

练习 469

8.4 生成函数 471

8.4.1 引言 471  
8.4.2 关于幂级数的有用事实 471  
8.4.3 计数问题与生成函数 474  
8.4.4 使用生成函数求解递推关系 477  
8.4.5 使用生成函数证明恒等式 478

练习 479

8.5 容斥 484

8.5.1 引言 484  
8.5.2 容斥原理 484  
练习 487

8.6 容斥原理的应用 488

8.6.1 引言 488  
8.6.2 容斥原理的另一种形式 488  
8.6.3 埃拉托色尼筛 489  
8.6.4 映上函数的个数 490  
8.6.5 错位排列 490

练习 492

关键术语和结论 493  
复习题 494  
补充练习 495   
计算机课题 497  
计算和探索 498  
写作课题 498

# 第9章 关系 500

9.1 关系及其性质 500

9.1.1 引言 500  
9.1.2 函数作为关系 501  
9.1.3 集合的关系 501  
9.1.4 关系的性质 502   
9.1.5 关系的组合 504

练习 506

9.2 $n$ 元关系及其应用 510

9.2.1 引言 510  
9.2.2 $n$ 元关系 510  
9.2.3 数据库和关系 511  
9.2.4 $n$ 元关系的运算 512  
9.2.5 SQL 514  
9.2.6 数据挖掘中的关联规则 … 514  
练习 516

9.3 关系的表示 518

9.3.1 引言 518  
9.3.2 用矩阵表示关系 518  
9.3.3 用图表示关系 521  
练习 522

9.4 关系的闭包 524

9.4.1 引言 524  
9.4.2 不同类型的闭包 524  
9.4.3 有向图中的路径 525  
9.4.4 传递闭包 526

9.4.5 沃舍尔算法 529  
练习 531   
9.5 等价关系 533  
9.5.1 引言 533  
9.5.2 等价关系 533  
9.5.3 等价类 534   
9.5.4 等价类与划分 536  
练习 538

9.6 偏序 542

9.6.1 引言 542  
9.6.2 字典顺序 544   
9.6.3 哈塞图 545  
9.6.4 极大元与极小元 546  
9.6.5 格 548  
9.6.6 拓扑排序 550

练习 551

关键术语和结论 556  
复习题 557  
补充练习 558   
计算机课题 561  
计算和探索 562  
写作课题 562

# 第10章 图 563

10.1 图和图模型 563

10.1.1 图模型 565  
练习 570

10.2 图的术语和几种特殊的图 573

10.2.1 引言 573  
10.2.2 基本术语 573  
10.2.3 一些特殊的简单图 575  
10.2.4 二分图 576  
10.2.5 二分图和匹配 577  
10.2.6 特殊类型图的一些应用 580  
10.2.7 从旧图构造新图 582

练习 584

10.3 图的表示和图的同构 587  
10.3.1 引言 587

10.3.2 图的表示 588  
10.3.3 邻接矩阵 588   
10.3.4 关联矩阵 590   
10.3.5 图的同构 590  
10.3.6 判定两个简单图是否同构 591

练习 593

10.4 连通性 598

10.4.1 引言 598  
10.4.2 通路 598  
10.4.3 无向图的连通性 …………………… 600  
10.4.4 图是如何连通的 601  
10.4.5 有向图的连通性 …………………… 603  
10.4.6 通路与同构 604  
10.4.7 计算顶点之间的通路数 605

练习 606

10.5 欧拉通路与哈密顿通路 611

10.5.1 引言 611  
10.5.2 欧拉通路与欧拉回路 611  
10.5.3 哈密顿通路与哈密顿回路 615  
10.5.4 哈密顿回路的应用 618  
练习 619

10.6 最短通路问题 623

10.6.1 引言 623  
10.6.2 最短通路算法 625  
10.6.3 旅行商问题 629  
练习 630

10.7 平面图 633

10.7.1 引言 633  
10.7.2 欧拉公式 634  
10.7.3 库拉图斯基定理 637  
练习 638

10.8 图着色 640

10.8.1 引言 640  
10.8.2 图着色的应用 644  
练习 645

关键术语和结论 648

复习题 650

补充练习 651

计算机课题 656

计算和探索 656

写作课题 657

# 第11章 树 658

11.1 树的概述 658

11.1.1 有根树 659  
11.1.2 树作为模型 662  
11.1.3 树的性质 663

练习 666

11.2 树的应用 668

11.2.1 引言 668  
11.2.2 二叉搜索树 668  
11.2.3 决策树 671   
11.2.4 前缀码 672  
11.2.5 博弈树 674

练习 678

11.3 树的遍历 681

11.3.1 引言 681  
11.3.2 通用地址系统 681  
11.3.3 遍历算法 682  
11.3.4 中缀、前缀和后缀记法 688

练习 690

11.4 生成树 693

11.4.1 引言 693  
11.4.2 深度优先搜索 694  
11.4.3 宽度优先搜索 696   
11.4.4 回溯的应用 698  
11.4.5 有向图中的深度优先搜索 700

练习 701

11.5 最小生成树 704

11.5.1 引言 704  
11.5.2 最小生成树算法 704

练习 707

关键术语和结论 709  
复习题 710  
补充练习 711   
计算机课题 714  
计算和探索 714  
写作课题 715

# 第12章 布尔代数 716

12.1 布尔函数 716

12.1.1 引言 716  
12.1.2 布尔表达式和布尔函数 717  
12.1.3 布尔代数恒等式 718  
12.1.4 对偶性 720  
12.1.5 布尔代数的抽象定义 720  
练习 721

12.2 布尔函数的表示 722

12.2.1 积之和展开式 723  
12.2.2 函数完备性 724

练习 724

12.3 逻辑门电路 725

12.3.1 引言 725  
12.3.2 门的组合 726  
12.3.3 电路的例子 726  
12.3.4 加法器 728

练习 729

12.4 电路的极小化 731

12.4.1 引言 731  
12.4.2 卡诺图 732  
12.4.3 无须在意的条件 737  
12.4.4 奎因-莫可拉斯基方法 737  
练习 741

关键术语和结论 743

复习题 744  
补充练习 744   
计算机课题 746  
计算和探索 746  
写作课题 747

# 第13章 计算模型 748

13.1 语言和文法 748

13.1.1 引言 748  
13.1.2 短语结构文法 749  
13.1.3 短语结构文法的类型 751  
13.1.4 派生树 752   
13.1.5 巴克斯-诺尔范式 754

练习 755

13.2 带输出的有限状态机 758

13.2.1 引言 758  
13.2.2 带输出的有限状态机 759

练习 762

13.3 不带输出的有限状态机 764

13.3.1 引言 764  
13.3.2 串的集合 764  
13.3.3 有限状态自动机 765  
13.3.4 有限状态机的语言识别 766  
13.3.5 非确定性的有限状态 自动机 771

练习 773

13.4 语言的识别 777

13.4.1 引言 777  
13.4.2 克莱因定理 778  
13.4.3 正则集合和正则文法 781  
13.4.4 一个不能由有限状态自动机识别的集合 783

13.4.5 一些更强大的机器 783  
练习 784

13.5 图灵机 786

13.5.1 引言 786  
13.5.2 图灵机的定义 787  
13.5.3 用图灵机识别集合 789  
13.5.4 用图灵机计算函数 790  
13.5.5 不同类型的图灵机 790  
13.5.6 丘奇-图灵论题 791  
13.5.7 计算复杂度、可计算性和可判定性 791

练习 794

关键术语和结论 796  
复习题 797  
补充练习 798   
计算机课题 800  
计算和探索 800  
写作课题 800

附录A 实数和正整数的公理… 802   
附录B 指数与对数函数 807  
附录C 伪代码 809  
推荐读物 813  
参考文献 817  
奇数编号练习答案

# 基础：逻辑和证明



为了理解数学，我们必须理解正确的数学论证（即证明）是由什么组成的。一旦证明一个数学语句是真的，我们就称之为定理。关于同一主题的定理集合就组成了我们对这个主题的认知。为了学习一个数学主题，我们需要主动构造关于此主题的数学论证，而不仅仅是阅读论述。此外，了解一个定理的证明通常就有可能通过细微改变使结论能够适应新的情境。

每个人都知道证明在数学中的重要性，但许多人对于证明在计算机科学中的重要程度感到惊讶。事实上，证明常常用于验证计算机程序对所有可能的输入值产生正确的输出值，用于揭示算法总是产生正确结果，用于建立一个系统的安全性，以及用于创造人工智能系统。并且，已经有自动推理系统被创造出来，即让计算机自己来构造证明。

本章将解释一个正确的数学论证是如何组成的，并介绍构造这样的论证的工具。我们将开发一系列不同的证明方法以证明许多不同类型的结论。在介绍了多种不同证明方法后，我们将介绍一些构造证明的策略。我们还将介绍猜想的概念，并通过研究猜想来解释数学发展的过程。

# 1.1 命题逻辑

# 1.1.1 引言

逻辑规则给出数学语句的准确含义。这些规则可以用来区分数学论证的有效或无效。由于本书的一个主要目的是教会读者如何理解和构造正确的数学论证，所以我们从介绍逻辑开始离散数学的学习。

逻辑不仅对理解数学推理十分重要，而且在计算机科学中有许多应用。这些逻辑规则用于计算机电路设计、计算机程序构造、程序正确性验证以及许多其他方面。而且，已经开发了一些软件系统用于自动构造某些（但不是全部）类型的证明。在随后的几章中将逐一讨论这些应用。

# 1.1.2 命题

我们首先介绍逻辑的基本构件——命题。命题是一个陈述语句（即陈述事实的语句），它或真或假，但不能既真又假。

例1 下面的陈述句均为命题。

1. 华盛顿特区是美利坚合众国的首都。  
2. 多伦多是加拿大的首都。  
3. $1 + 1 = 2$   
4. $2 + 2 = 3$

命题1和3为真，而命题2和4为假。

例2给出了不是命题的若干语句。

例2 考虑下述语句。

1. 几点了？
2. 仔细读这个。
3. $x + 1 = 2$   
4. $x + y = z$ 。

语句1和2不是命题，因为它们不是陈述句。语句3和4不是命题，因为它们既不为真，也不为假。注意，如果我们给语句3和4中的变量赋值，那么语句3和4可以变成命题。1.4节还将讨论把这一类语句改成命题的其他方法。

我们用字母来表示命题变量（或称为语句变量），即表示命题的变量，就像用字母表示数值变量那样。习惯上用字母 $p$ ， $q$ ， $r$ ， $s$ ，…表示命题变量。如果一个命题是真命题，则它的真值为真，用T表示；如果它是假命题，则其真值为假，用F表示。不能用简单的命题来表示的命题称为原子命题。

涉及命题的逻辑领域称为命题演算或命题逻辑。它最初是2300多年前由古希腊哲学家亚里士多德系统地创建的。

现在我们转而关注从已有命题产生新命题的方法。这些方法由英国数学家布尔在他的名为《The Laws of Thought》(思维定律)的书中讨论过。许多数学陈述都是由一个或多个命题组合而来。由已知命题用逻辑运算符组合而来的新命题也被称为复合命题。

定义1 令 $p$ 为一命题，则 $p$ 的否定记作 $\neg p$ （也可记作 $\overline{p}$ ），指“不是 $p$ 所指的情形”。命题 $\neg p$ 读作“非 $p$ ”。 $p$ 的否定 $(\neg p)$ 的真值和 $p$ 的真值相反。

评注 否定运算符的记号并没有统一标准。尽管 $\neg p$ 和 $\overline{p}$ 是数学中最常用的表示 $p$ 的否定的记号，但你仍有可能会见到其他的记法，如 $\sim p$ 、 $-p$ 、 $p'$ 、 $Np$ 和！ $p$ 。

例3找出命题“Michael的PC运行Linux”的否定，并用中文表示。

解否定为“并非Michael的PC运行Linux”，也可以更简单地表达为“Michael的PC并不运行Linux”。

例4找出命题“Vandana的智能手机至少有32GB内存”的否定并用中文表示。

# Links

![](cdd29393b7f28d97c8797792c29d0ff12768ad4a59bc6c046bff5add808c6d38.jpg)  
Source: National Library of Medicine

亚里士多德(Aristotle，公元前384一公元前322）生于希腊北部的斯塔基尔地区。他的父亲是马其顿国王的宫廷侍医。亚里士多德年幼时父亲去世，因而没能子承父业。当他的母亲也去世后，年轻的亚里士多德就成了孤儿。他的监护人抚养他长大，并教授他诗歌、修辞艺术和希腊语。在亚里士多德17岁时，监护人将他送到雅典进一步深造。此后20年里亚里士多德在雅典柏拉图学院师从柏拉图学习并进行自己的学术研究。当柏拉图于公元前347年去世时，亚里士多德没有被选中继承师钵，因为他的哲学思想与柏拉图有很大的分歧。亚里士多德来到赫尔墨斯国王的宫廷，在那里供职三年并与国王的侄女结婚。当波斯人打败赫尔墨斯国王后，他前往

米蒂利尼，受马其顿国王腓力二世的聘请，担任太子亚历山大（就是后来著名的亚历山大大帝)的老师。亚里士多德教授了亚历山大五年，在腓力二世逝世后，亚里士多德重返雅典并创建了自己的吕克昂学园。

亚里士多德的追随者通常被称为“逍遥派”，意思是巡游讲学，因为亚里士多德经常在花园中边散步边讨论哲学问题。亚里士多德在吕克昂学园讲学长达13年，他早上给自己的高才生们讲课，而晚上则给广大听众演讲。当亚历山大大帝于公元前323年去世后，那里立刻掀起了反亚历山大的狂潮，致使亚里士多德被冠以莫须有的不敬神罪名。亚里士多德逃亡到加而西斯避难。他在加而西斯生活了一年，于公元前322年死于胃病。

亚里士多德的著作主要分为三类：供普通大众阅读的文集、科学事实的汇编集以及系统的论辩文集。系统的论辩文集涉及逻辑学、哲学、心理学、物理学和自然历史。亚里士多德的著作由一个学生保存并隐藏在一个拱顶中，大约200年后一个富裕的书藏家发现了它。这些著作被送往罗马，在那里学者们研究并发行新版本以流传后世。

解否定为“并非Vandana的智能手机至少有32GB内存”，也可以表达为“Vandana的智能手机并没有至少32GB内存”，或者可以更简单地表达为“Vandana的智能手机有不到32GB内存”。

表1是命题 $p$ 及其否定的真值表。此表针对命题 $p$ 的两种可能真值各有一行。每一行显示对应于 $p$ 的真值时 $\neg p$ 的真值。

命题的否定也可以看作否定运算符作用在命题上的结果。否定运算符从一个已知命题构造出一个新命题。现在我们将引入从两个或多个已知命题构造新命题的逻辑运算符。这些逻辑运算符也称为联结词。

表 1 命题之否定的真值表  

<table><tr><td>p</td><td>¬p</td></tr><tr><td>T</td><td>F</td></tr><tr><td>F</td><td>T</td></tr></table>

定义2 令 $p$ 和 $q$ 为命题。 $p$ 、 $q$ 的合取即命题“ $p$ 并且 $q$ ”，记作 $p \wedge q$ 。当 $p$ 和 $q$ 都是真时， $p \wedge q$ 命题为真，否则为假。

表2展示了 $p \wedge q$ 的真值表。此表每一行对应 $p$ 和 $q$ 真值的4种可能组合之一。4行分别对应真值对TT、TF、FT和FF，其中第一个真值是 $p$ 的真值，第二个真值是 $q$ 的真值。

注意在逻辑中，有时候会用“但是”一词替代“并且”一词来表示合取。比如，语句“阳光灿烂，但是在下雨”是“阳光灿烂并且在下雨”的另一种说法。（在自然语言中，“并且”和“但是”在意思上有微妙的不同，这里我们不关心这个细微差别。）

例5找出命题 $p$ 和 $q$ 的合取，其中 $p$ 为命题“Rebecca的PC至少有16GB空闲磁盘空间”， $q$ 为命题“Rebecca的PC处理器的速度大于 $1\mathrm{GHz}$ ”。

解 这两个命题的合取 $p \wedge q$ 是命题“Rebecca的PC至少有16GB空闲磁盘空间，并且Rebecca的PC处理器的速度大于 $1\mathrm{GHz}$ ”。这个合取可以更简单地表示成“Rebecca的PC至少有16GB空闲磁盘空间，并且其处理器的速度大于 $1\mathrm{GHz}$ ”。这一命题要想为真，两个给定的条件都必须为真。当其中一个或两个条件为假时，它就是假命题。

定义3 令 $p$ 和 $q$ 为命题。 $p$ 和 $q$ 的析取即命题“ $p$ 或 $q$ ”，记作 $p \lor q$ 。当 $p$ 和 $q$ 均为假时，合取命题 $p \lor q$ 为假，否则为真。

表3展示了 $p \vee q$ 的真值表。

表 2 两个命题合取的真值表  

<table><tr><td>p</td><td>q</td><td>p ∧ q</td></tr><tr><td>T</td><td>T</td><td>T</td></tr><tr><td>T</td><td>F</td><td>F</td></tr><tr><td>F</td><td>T</td><td>F</td></tr><tr><td>F</td><td>F</td><td>F</td></tr></table>

表 3 两个命题析取的真值表  

<table><tr><td>p</td><td>q</td><td>p ∨ q</td></tr><tr><td>T</td><td>T</td><td>T</td></tr><tr><td>T</td><td>F</td><td>T</td></tr><tr><td>F</td><td>T</td><td>T</td></tr><tr><td>F</td><td>F</td><td>F</td></tr></table>

在析取中使用的联结词或(or)对应于在自然语言中使用或字的两种情况之一，即兼或(inclusive or)。析取式为真，只要两个命题之一为真或两者均为真即可。也就是说，当 $p$ 和 $q$ 均为真或者 $p$ 和 $q$ 恰好有一个为真时， $p \lor q$ 为真。

例6 令 $p$ 和 $q$ 分别表示命题“选修过微积分课的学生可以选修本课程”和“选修过计算机科学导论课的学生可以选修本课程”，在命题逻辑中用这两个命题翻译语句“选修过微积分课或计算机科学导论课的学生可以选修本课程”。

解 我们假定这个语句的意思是同时选修过微积分课和计算机科学导论课的学生以及只选修过其中一门课的学生都可以选修本课程。故，这个语句可以表达成 $p$ 和 $q$ 的兼或或析取，即 $p \lor q$ 。

例7 如果 $p$ 和 $q$ 就是例5中的两个命题，它们的析取是什么？

解 $p$ 和 $q$ 的析取 $p \vee q$ 是命题“Rebecca的PC至少有16GB空闲磁盘空间，或者Rebecca的PC处理器的速度大于 $1\mathrm{GHz}$ ”。

当Rebecca的PC至少有16GB空闲磁盘空间时，当Rebecca的PC处理器的速度大于1GHz时，当两个条件都为真时，该命题均为真。当两个条件同时为假时，即当Rebecca的PC少于16GB空闲磁盘空间，并且其处理器的速度小于等于1GHz时，此命题为假。

或联结词除了用于表示析取，也可以用来表示异或。与两个命题 $p$ 和 $q$ 的析取不同，当恰好 $p$ 和 $q$ 之一为真时，这两个命题的异或为真；而当 $p$ 和 $q$ 两者均为真(或均为假)时，它就为假。

定义4 令 $p$ 和 $q$ 为命题。 $p$ 和 $q$ 的异或（记作 $p \oplus q$ ）是这样一个命题：当 $p$ 和 $q$ 中恰好只有一个为真时命题为真，否则为假。

两个命题异或的真值表如表4所示。

例8 令 $p$ 和 $q$ 分别表示命题“学生就餐时可以配一份沙拉”和“学生就餐时可以配一份汤”。 $p$ 和 $q$ 的异或 $p \oplus q$ 表示什么？

解 $p$ 和 $q$ 的异或是当恰好 $p$ 和 $q$ 之一为真时才为真的命题，即 $p \oplus q$ 是语句“学生就餐时可以配一份沙拉或一份汤，但不能兼得”。注意，这样的语句通常表达成“学生就餐时可以配一份沙拉或一份汤”，而不需要明确写上同时拿两份是不允许的。

例9 令 $p$ 和 $q$ 分别表示命题“我要用全部积蓄去欧洲旅行”和“我要用全部积蓄买一辆电动车”，在命题逻辑中用这两个命题翻译语句“我要用全部积蓄去欧洲旅行或买一辆电动车”。

解为了翻译这个语句，我们首先注意到这里的或肯定是异或，因为可以使用全部积蓄去欧洲旅行或者使用全部积蓄买一辆电动车，但不能同时去欧洲旅行和买一辆电动车（这是显然的，因为每个选项都会花掉全部积蓄），所以这个语句可以表达成 $p \oplus q$ 。

# 1.1.3 条件语句

下面讨论其他几个重要的命题组合方式。

定义5 令 $p$ 和 $q$ 为命题。条件语句 $p \rightarrow q$ 是命题“如果 $p$ ，则 $q$ ”。当 $p$ 为真而 $q$ 为假时，条件语句 $p \rightarrow q$ 为假，否则为真。在条件语句 $p \rightarrow q$ 中， $p$ 称为假设（前件、前提）， $q$ 称为结论（后件）。

语句 $p \rightarrow q$ 称为条件语句，因为 $p \rightarrow q$ 可以断定在条件 $p$ 成立的时候 $q$ 为真。条件语句也称为蕴含。

# Links

![](a957f7cb79bcc62d626938d1297298ddd1998bf90e1a14e3d46974833c95ec6b.jpg)  
Source:Library of Congress Washington, D.C. 20540 USA [LC-US262-61664]

乔治·布尔(GeorgeBoole，1815—1864）他是皮匠的儿子，1815年11月生于英格兰的林肯郡。由于家境贫寒，布尔不得不在帮助养家的同时为自己能受教育而奋斗。尽管如此，他依然成为19世纪最重要的数学家之一。尽管他曾考虑过以牧师为业，但最终还是决定从教，并且不久就开办了自己的学校。在备课的时候，布尔不满意当时的数学课本，便决定阅读大数学家的著作。在阅读法国大数学家拉格朗日的论文时，布尔在变分法方面有所发现。变分法是数学分析的一个分支，它通过优化某些参数来寻求曲线和曲面。

1848年，布尔出版了《数理逻辑分析》(The Mathematical Analysis of Logic)一书，这是他对符号逻辑诸多贡献中的第一次。1849年，他被任命为位于爱尔兰科克的皇

后学院数学教授。1854年，他出版了最著名的著作《思维定律》（The Laws of Thought）。在这本书中布尔引入了现在以他的名字命名的布尔代数。布尔撰写了关于微分方程和差分方程的教科书，这些教科书在英国一直沿用到19世纪末。布尔在1855年结婚，他的妻子是皇后学院一位希腊文教授的侄女。1864年布尔死于肺炎，这是由于在一次暴风雨中尽管已经被淋透了，但他仍坚持上课而引起的。

条件语句 $p \rightarrow q$ 的真值表如表5所示。注意，当 $p$ 和 $q$ 都为真，以及当 $p$ 为假（与 $q$ 的真值无关）时，语句 $p \rightarrow q$ 为真。

表 4 两个命题异或的真值表  

<table><tr><td>p</td><td>q</td><td>p ⊕ q</td></tr><tr><td>T</td><td>T</td><td>F</td></tr><tr><td>T</td><td>F</td><td>T</td></tr><tr><td>F</td><td>T</td><td>T</td></tr><tr><td>F</td><td>F</td><td>F</td></tr></table>

表 5 条件语句 $p \rightarrow  q$ 的真值表  

<table><tr><td>p</td><td>q</td><td>p→q</td></tr><tr><td>T</td><td>T</td><td>T</td></tr><tr><td>T</td><td>F</td><td>F</td></tr><tr><td>F</td><td>T</td><td>T</td></tr><tr><td>F</td><td>F</td><td>T</td></tr></table>

由于条件语句在数学推理中具有很重要的作用，所以表达 $p \rightarrow q$ 的术语也很多。即使不是全部，你也会碰到下面几个常用的条件语句的表述方式：

“如果 $p$ ，则 $q$ ”

“p蕴含q”

“如果 $p$ ， $q$ 1

“ $p$ 仅当 $q$ ”

“ $p$ 是 $q$ 的充分条件”

“ $q$ 的充分条件是 $p$ ”

“q如果p”

“q每当 $p$ 1

“q当p”

“ $q$ 是 $p$ 的必要条件”

“ $p$ 的必要条件是 $u_{i}^{*}$

“ $q$ 由 $\ngtr$ 得出”

“q除非p”

“q假定p”

为了便于理解条件语句的真值表，可以将条件语句想象为义务或合同。例如，许多政治家在竞选时都许诺：“如果我当选了，那么我将会减税。”如果这个政治家当选了，选民将期望他能减税。再者，如果这个政治家没有当选，那么选民就无法期望他能减税，尽管这个人也许有足够的影响力可令当权者减税。只有在该政治家当选但却没有减税的情况下，选民才能说政治家违背了竞选诺言。这种情形对应于在 $p \rightarrow q$ 中 $p$ 为真但 $q$ 为假的情况。

类似地，考虑教授可能做出的如下陈述：“如果你在期末考试中得了满分，那么你的成绩将被评定为A。”如果你设法在期末考试中得满分，那么你可以期望得到A。如果你没得到满分，那么你是否能得到A将取决于其他因素。然而，如果你得到满分，但教授没有给你A，你会有受骗的感觉。

评注 因为蕴含式 $p$ 蕴含 $q$ 的众多表达方式中有些容易引起混淆，这里提供一些消除混淆的建议。记住“ $p$ 仅当 $q$ ”表达了与“如果 $p$ ，则 $q$ ”同样的意思，注意“ $p$ 仅当 $q$ ”说的是当 $q$ 不为真时 $p$ 不能为真。也就是说，如果 $p$ 为真但 $q$ 为假，则这个语句为假。当 $p$ 为假时， $q$ 可以为真也可以为假，因为语句并没有谈及 $q$ 的真值。

例如，假设教授告诉你：“你在这门课能获得A，仅当期末考试至少得90分。”那么，如果这门课得了A，你就知道自己期末考试至少得了90分。如果没有得A，你的期末考试可能至少得了90分也可能没到90分。要小心不要用“q仅当p”来表达p→q，因为这是错误的。这里“仅”字起了关键作用。要明白这一点，请注意当p和q取不同的真值时，“q仅当p”和p→q的真值是不同的。为了理解为什么“q是p的必要条件”等价于“如果p，则q”，观察一下，“q是p的必要条件”意思是p不能为真除非q为真，或者如果q为假，则p为假。这就相当于在说：如果p为真，则q为真。为了理解为什么“p是q的充分条件”等价于“如果p，则q”，注意“p是q的充分条件”的意思是如果p为真，就必须q也为真。这就相当于在说：如果p为真，则q也为真。

为了记住“ $q$ 除非 $\neg p$ ”表达了和 $p \rightarrow q$ 条件语句一样的意思，注意“ $q$ 除非 $\neg p$ ”的意思是如果 $\neg p$ 是假的，则 $q$ 必是真的。也就是说，当 $p$ 为真，而 $q$ 为假时，语句“ $q$ 除非 $\neg p$ ”是假的，否则是真的。因此，“ $q$ 除非 $\neg p$ ”与 $p \rightarrow q$ 总是具有相同的真值。

例10 说明了条件语句与中文语句之间的转换。

例10 令 $p$ 为语句“Maria学习离散数学”， $q$ 为语句“Maria会找到好工作”。用中文表达语句 $p \rightarrow q$ 。

解 从条件语句的定义我们得知，当 $p$ 为语句“Maria学习离散数学”， $q$ 为语句“Maria会找到好工作”时， $p \rightarrow q$ 代表语句“如果Maria学习离散数学，那么她会找到好工作”。

还有许多其他表述方法来表达这个条件语句。其中最自然的表述有“当Maria学习了离散数学，她就会找到一份好工作”“Maria想要得到一份好工作，她只要学习离散数学就足够了。”“Maria会找到一份好工作，除非她没有学习离散数学”。

注意我们定义条件语句的方法比其中文表达更加通用。比如，例10中的条件语句以及语句“如果今日天晴，那么我们就去海滩”都是日常语言中的语句，其中假设和结论之间都有一定的联系。而且，第一个语句是真的，除非Maria学习离散数学但没有找到好工作；而第二个语句是真的，除非今日的确天晴但我们没有去海滩。另一方面，语句“如果Juan有智能手机，那么 $2 + 3 = 5$ ”总是成立的，因为它的结论是真的（这时假设部分的真值无关紧要）。条件语句“如果Juan有智能手机，那么 $2 + 3 = 6$ ”是真的，如果Juan没有智能手机，即使 $2 + 3 = 6$ 为假。在自然语言中，我们不会使用最后这两个条件语句（除非偶尔有意讽刺一下），因为其中的假设和结论之间没有什么联系。在数学推理中我们考虑的条件语句比语言中使用的要广泛一些。条件语句作为一个数学概念不依赖于假设和结论之间的因果关系。我们关于条件语句的定义规定了它的真值，而这一定义不是以语言的用法为基础的。命题语言是一种人工语言，这里为了便于使用和记忆，才将其类比于语言的用法。

许多程序设计语言中使用的if-then结构与逻辑中使用的不同。大部分程序设计语言中都有if then S这样的语句，其中 $p$ 是命题而S是一个程序段(待执行的一条或多条语句)。当程序的运行遇到这样一条语句时，如果 $p$ 为真，就执行S；但如果 $p$ 为假，则S不执行。如例11所示。

例11 如果执行语句

$$
\text {i f} 2 + 2 = 4 \text {t h e n} x := x + 1
$$

之前变量 $x = 0$ ，执行语句之后 $x$ 的值是什么？（符号 $\coloneqq$ 代表赋值，语句 $x\coloneqq x + 1$ 表示将 $x + 1$ 的值赋给 $x_{\circ}$ ）

解因为 $2 + 2 = 4$ 为真，所以赋值语句 $x\coloneqq x + 1$ 会被执行。因此，在执行此语句之后， $x$ 的值是 $0 + 1 = 1$ □

逆命题、逆否命题与反命题 由条件语句 $p \rightarrow q$ 可以构成一些新的条件语句。特别是三个常见的相关条件语句还拥有特殊的名称。命题 $q \rightarrow p$ 称为 $p \rightarrow q$ 的逆命题，而 $p \rightarrow q$ 的逆否命题是命题 $\neg q \rightarrow \neg p$ 。命题 $\neg p \rightarrow \neg q$ 称为 $p \rightarrow q$ 的反命题。我们发现，三个由 $p \rightarrow q$ 衍生的条件语句中，只有逆否命题总是和 $p \rightarrow q$ 具有相同的真值。

我们首先证明条件命题 $p \rightarrow q$ 的逆否命题 $\neg q \rightarrow \neg p$ 总是和 $p \rightarrow q$ 具有相同的真值。为此，请注意只有当 $\neg p$ 为假且 $\neg q$ 为真，也就是 $p$ 为真且 $q$ 为假时，该逆否命题为假。现在我们来证明，对 $p$ 和 $q$ 的所有可能的真值，逆命题 $q \rightarrow p$ 和反命题 $\neg p \rightarrow \neg q$ 与 $p \rightarrow q$ 都不具有相同的真值。注意，当 $p$ 为真且 $q$ 为假时，原命题为假，而逆命题和反命题都是真的。

当两个复合命题总是具有相同真值时，无论其命题变量的真值是什么，我们称它们是等价的。因此一个条件语句与它的逆否命题是等价的。条件语句的逆与反也是等价的，读者可以验证这一点，但它们都不与原条件语句等价（我们将在1.3节研究等价命题）。请注意一个最常见的逻辑错误是假设条件语句的逆或反等价于这个条件语句。

我们在例12中解释条件语句的使用。

例12找出语句“每当下雨时，主队就能获胜”的逆否命题、逆命题和反命题。

解因为“ $q$ 每当 $p$ ”是表达语句 $p\rightarrow q$ 的一种方式，原始语句可以改写为“如果下雨，那么主队就能获胜”。因此，这个条件语句的逆否命题是“如果主队没有获胜，那么没有下雨”。逆命题是“如果主队获胜，那么下雨了”。反命题是“如果没有下雨，那么主队没有获胜”。其中只有逆否命题等价于原始语句。

双条件语句 现在我们介绍另外一种命题复合方式来表达两个命题具有相同真值。

定义6 令 $p$ 和 $q$ 为命题。双条件语句 $p \leftrightarrow q$ 是命题“ $p$ 当且仅当 $q$ ”。当 $p$ 和 $q$ 有同样的真值时，双条件语句为真，否则为假。双条件语句也称为双向蕴含。

$p \leftrightarrow q$ 的真值表如表6所示。注意，当条件语句 $p \rightarrow q$ 和 $q \rightarrow p$ 均为真时，语句 $p \leftrightarrow q$ 为真，否则为假。这就是为什么我们用“当且仅当”来表示这一逻辑联结词，并且符号的写法就是把符号 $\leftarrow$ 和 $\rightarrow$ 结合起来。表达 $p \leftrightarrow q$ 的一些其他常用方式还有“ $p$ 是 $q$ 的充分必要条件”“如果 $p$ 那么 $q$ ，反之亦然”“ $p$ 当且仅当 $q$ ”“ $p$ 恰好当 $q$ ”。

表 6 双条件语句 $p \leftrightarrow q$ 的真值表  

<table><tr><td>p</td><td>q</td><td>p ↔ q</td></tr><tr><td>T</td><td>T</td><td>T</td></tr><tr><td>T</td><td>F</td><td>F</td></tr><tr><td>F</td><td>T</td><td>F</td></tr><tr><td>F</td><td>F</td><td>T</td></tr></table>

双条件语句的最后一种表示方式可以用缩写符号“iff”代替“当且仅当”（if and only if）。注意， $p \leftrightarrow q$ 与 $(p \rightarrow q) \land (q \rightarrow p)$ 有完全相同的真值。

例13 令 $p$ 为语句“你可以搭乘该航班”，令 $q$ 为语句“你买机票了”。则 $p \leftrightarrow q$ 为语句“你可以搭乘该航班当且仅当你买机票了”。此语句为真，如果 $p$ 和 $q$ 均为真或均为假，也就是说，如果你买机票了就能搭乘该航班，或者如果你没买机票就不能搭乘该航班。此命题为假，当 $p$ 和 $q$ 有相反真值时，也就是说，当你没买机票但却能搭乘该航班时（比如你获得一次免费旅行）或当你买了机票却不能搭乘该航班时（比如航空公司拒绝你登机）。

双条件的隐式使用 你应该意识到在自然语言中双条件并不总是显式地使用。特别是在自然语言中很少使用双条件中的“当且仅当”结构。通常用“如果，那么”或“仅当”结构来表示双向蕴含。“当且仅当”的另一部分则是隐含的。也就是逆命题是蕴含的而没有明说出来。例如，考虑一下自然语言语句“如果你吃完饭了，则可以吃餐后甜点”。其真正含义是“你可以吃餐后甜点当且仅当你吃完饭”。后面这个语句在逻辑上等价于两个语句“如果你吃完饭，那么你可以吃甜点”和“仅当你吃完了饭，你才能吃甜点”。由于自然语言的这种不精确性，我们需要对自然语言中的条件语句是否隐含它的逆做出假设。因为数学和逻辑注重精确，所以我们总是区分条件语句 $p \rightarrow q$ 和双条件语句 $p \leftrightarrow q$ 。

# 1.1.4 复合命题的真值表

我们已经介绍了五个重要的逻辑联结词——合取、析取、异或、蕴含、双条件。此外，我们还介绍了否定。可以用这些联结词来构造含有一些命题变量的结构复杂的复合命题。我们可以用真值表来决定这些复合命题的真值，如例14所示。采用单独的列来找出在这个复合命题构造过程中出现的每个复合表达式的真值。对应于命题变量真值的每种组合，复合命题的真值位于表中最后一列。

例14 构造复合命题 $(p \vee \neg q) \rightarrow (p \wedge q)$ 的真值表。

解因为真值表涉及两个命题变量 $p$ 和 $q$ ，所以此表有四行，每行对应一对真值TT、TF、FT和FF。前两列分别表示 $p$ 和 $q$ 的真值。第3列为 $\neg q$ 的真值，用于计算第4列中 $p\lor \neg q$ 的真值。第5列给出 $p\land q$ 的真值。（ $p\lor \neg q)\rightarrow (p\land q)$ 的真值在最后一列。最终的真值表如表7所示。

表 7 复合命题 $\left( {p \vee  \neg q}\right)  \rightarrow  \left( {p \land  q}\right)$ 的真值表  

<table><tr><td>p</td><td>q</td><td>¬q</td><td>p ∨ ¬q</td><td>p ∧ q</td><td>(p ∨ ¬q)→(p ∧ q)</td></tr><tr><td>T</td><td>T</td><td>F</td><td>T</td><td>T</td><td>T</td></tr><tr><td>T</td><td>F</td><td>T</td><td>T</td><td>F</td><td>F</td></tr><tr><td>F</td><td>T</td><td>F</td><td>F</td><td>F</td><td>T</td></tr><tr><td>F</td><td>F</td><td>T</td><td>T</td><td>F</td><td>F</td></tr></table>

# 1.1.5 逻辑运算符的优先级

我们可以用所定义的否定运算符和逻辑运算符来构造复合命题。我们通常使用括号来规定复合命题中的逻辑运算符的作用顺序。例如， $(p \lor q) \land (\neg r)$ 是 $p \lor q$ 和 $\neg r$ 的合取。然而，为了减少括号的数量，我们规定否定运算符先于所有其他逻辑运算符。这意味着 $\neg p \land q$ 是 $\neg p$ 和 $q$ 的合取，即 $(\neg p) \land q$ ，而不是 $p$ 和 $q$ 的合取的否定，即 $\neg (p \land q)$ 。

另一个常用的优先级规则是合取运算符优先于析取运算符，这样 $p \lor q \land r$ 意思是 $p \lor (q \land r)$ ，而非 $(p \lor q) \land r$ ，而 $p \land q \lor r$ 意思是 $(p \land q) \lor r$ 而非 $p \land (q \lor r)$ 。因为这个规则不太好记，所以我们将继续使用括号以使析取运算符和合取运算符的作用顺序看起来很清晰。

最后，一个已被接受的规则是条件运算符和双条件运算符的优先级低于合取运算符和析取运算符的优先级。因此， $p \rightarrow q \lor r$ 意思是 $p \rightarrow (q \lor r)$ 而非 $(p \rightarrow q) \lor r$ ， $p \lor q \rightarrow r$ 意思是 $(p \lor q) \rightarrow r$ 而非 $p \lor (q \rightarrow r)$ 。尽管条件运算符的优先级高于双条件运算符的优先级，但当条件运算符和双条件运算符的作用顺序有歧义时，我们也将使用括号。表8展示了逻辑运算符 $\neg$ 、 $\land$ 、 $\lor$ 、 $\rightarrow$ 和 $\leftrightarrow$ 的优先级。

表 8 逻辑运算符的优先级  

<table><tr><td>运算符</td><td>优先级</td></tr><tr><td>¬</td><td>1</td></tr><tr><td>∧</td><td>2</td></tr><tr><td>∨</td><td>3</td></tr><tr><td>→</td><td>4</td></tr><tr><td>←</td><td>5</td></tr></table>

<table><tr><td>真值</td><td>比特</td></tr><tr><td>T</td><td>1</td></tr><tr><td>F</td><td>0</td></tr></table>

# 1.1.6 逻辑运算和比特运算

计算机用比特表示信息。比特是一个具有两个可能值的符号，即0和1。比特一词的含义来自二进制数字（binary digit），因为0和1是数的二进制表示中用到的数字。1946年，著名的统计学家约翰·图基(John Tukey)引入了这一术语。一

# Links

![](f5a1c1b3ac78fd67fc3da2e01d142f3c3166e02558441af9ae202f54c3a191ba.jpg)  
©Alfred Eisenstaedt/  
The LIFE Picture Collection/Getty Images

约翰·怀尔德·图基(John Wilder Tukey，1915—2000）图基生于马萨诸塞州新贝德福德，是个独生子。他的双亲都是教师，他们认为家庭教育最适合开发他的潜力。他的正规教育从布朗大学开始，主修数学和化学。他在布朗大学获得化学硕士学位，接着在普林斯顿大学继续深造，研究领域也从化学转向数学。1939年，由于在拓扑学方面的工作，他获得普林斯顿大学博士学位，同时被任命为普林斯顿大学数学讲师。随着第二次世界大战的爆发，他加入了火力控制研究办公室(Fire Control Research Office)，开始了统计学方面的工作。图基发现统计研究很适合他，他的技能给多位有影响力的统计学家留下了深刻印象。1945年，随着战争的结束，图基回到普林斯顿大学数学系担任统计学教授，并在AT&T贝尔实验室兼职。图基于1966

年创立了普林斯顿大学统计学系并担任该系首任主任。图基在统计学的许多领域做出了重要贡献，包括方差分析、时间序列的谱估计、关于单次试验所得一组参数值的推断以及统计学原理。不过，他最著名的工作是他与库雷(J.W.Cooley)共同发明的快速傅里叶变换。除了在统计学领域的贡献外，图基还是一位语言大师，术语比特(bit)和软件(software)的创造就是他的贡献。

图基服务于总统科学顾问委员会，贡献其见解和专业知识。他曾担任过多个重要的委员会主席，涉及环境、教育以及化学与健康。他还服务于与核裁军相关的委员会。图基得过许多奖项，包括国家科学奖章。

历史注解曾经有过别的词来称呼二进制数字，例如binit和bigit，但从来没有被广泛接受。采用bit一词可能是因为它作为英语常用词所具有的含义。要了解图基选用bit一词的缘由，请参见《Annals of the History of Computing》1984年4月刊。

比特可以用于表示真值，因为只有两个真值，即真与假。习惯上，我们用1表示真，用0表示假。也就是说，1表示T(真)，0表示F(假)。如果一个变量的值或为真或为假，则此变量就称为布尔变量。于是一个布尔变量可以用一比特表示。

计算机的比特运算（或位运算）对应于逻辑联结词。只要在运算符 $\wedge$ 、 $\vee$ 和 $\oplus$ 的真值表中用1代替T，用0代替F，就能得到表9各列所对应的位运算表。我们还会用符号OR、AND和XOR分别表示运算符V、 $\wedge$ 和 $\oplus$ ，许多程序设计语言正是这样表示的。

表 9 位运算符 OR、AND 和 XOR 的真值表  

<table><tr><td>x</td><td>y</td><td>x ∨ y</td><td>x ∧ y</td><td>x ⊕ y</td></tr><tr><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>0</td><td>1</td><td>1</td><td>0</td><td>1</td></tr><tr><td>1</td><td>0</td><td>1</td><td>0</td><td>1</td></tr><tr><td>1</td><td>1</td><td>1</td><td>1</td><td>0</td></tr></table>

信息一般用比特串（即由0和1构成的序列）表示。这时，对比特串的运算就可用来处理信息。

定义7比特串是0比特或多比特的序列。比特串的长度就是它所含比特的数目。

例15 101010011是一个长度为9的比特串。

可以把位运算扩展到比特串上。我们将两个长度相同的比特串的按位OR、按位AND和按位XOR分别定义为这样的比特串，其中每个比特均由两个比特串的相应比特分别经由OR、AND和XOR运算而得。我们分别用符号 $\vee$ 、 $\wedge$ 和 $\oplus$ 表示按位OR、按位AND和按位XOR运算。我们用例16来解释比特串的按位运算。

例16 求比特串0110110110和1100011101的按位OR、按位AND和按位XOR（为了方便阅读，比特串将按四位分组）。

解 这两个比特串的按位OR、按位AND和按位XOR分别由对应比特的OR、AND和XOR得到，其结果是

01 1011 0110

110001 1101

11 1011 1111 按位OR

0100010100 按位AND

10 1010 1011 按位XOR

# 练习

1. 下列哪些语句是命题？这些是命题的语句的真值是什么？

a)波士顿是马萨诸塞州首府

b)迈阿密是佛罗里达州首府

c) $2 + 3 = 5$

$\mathrm{d})5 + 7 = 10$

e) $x + 2 = 11$

f)回答这个问题

2. 下列哪些是命题？这些命题的真值是什么？

a)别过去

b) 几点了？

c)在缅因州没有黑苍蝇

d) $4 + x = 5$

e)月亮是由绿色的奶酪构成的

f) $2^{n}\geqslant 100$

3. 下列各命题的否定是什么？

a)Linda比Sanjay年轻

b)Mei比Isabella挣得多

c)Moshe比Monica高

d) Abby比Ricardo富有

4. 下列各命题的否定是什么？

a)Janice比Juan有更多的Facebook好友

b)Quincy比Venkat聪明

c)Zelda开车去学校的里程要比Paola更远

d)Briana睡觉的时间比Gloria长

5. 下列各命题的否定是什么？

a)Mei有一台MP3播放器

b)新泽西没有污染

c) $2 + 1 = 3$

d)缅因州的夏天又热又晒

6. 下列各命题的否定是什么？

a) Jennifer 和 Teja 是朋友

b)面包师说的一打有13个

c) Abby 每天发送 100 多条文本信息

d)121 是一个完全平方数

7. 下列各命题的否定是什么？

a)Steve的笔记本电脑有大于100GB的空闲磁盘空间

b) Zach 阻止来自 Jennifer 的邮件和短信

c) $7\cdot 11\cdot 13 = 999$

d) Diane 周日骑自行车骑了 100 英里

8. 假设智能手机A有256MB RAM和32GB ROM，并且其相机的分辨率是8MP；智能手机B有288MB RAM和64GB ROM，并且其相机的分辨率是4MP；而智能手机C有128MB RAM和32GB ROM，并且其相机的分辨率是5MP。试判定下面每个命题的真值。

a)智能手机B的RAM是三款手机中最多的。

b)智能手机C比智能手机B具有更多的ROM或者更高分辨率的相机。

c)智能手机B比智能手机A具有更多的RAM、更多的ROM和更高分辨率的相机。

d)如果智能手机B比智能手机C具有更多的RAM和更多的ROM，则它也具有更高分辨率的相机。

e)智能手机A比智能手机B具有更多的RAM当且仅当智能手机B比智能手机A具有更多的RAM。

9. 假设在最近的财年期间，Acme计算机公司的年收入是1380亿美元且其净利润是80亿美元，Nadir软件公司的年收入是870亿美元且净利润是50亿美元，Quixote媒体的年收入是1110亿美元且净利润是130亿美元。试判断有关最近财年的每个命题的真值。

a)Quixote媒体的年收入最多。

b)Nadir软件公司的净利润最少并且Acme计算机公司的年收入最多。

c)Acme计算机公司的净利润最多或者Quixote媒体的净利润最多。

d)如果Quixote媒体的净利润最少，则Acme计算机公司的年收入最多。

e)Nadir软件公司的净利润最少当且仅当Acme计算机公司的年收入最多。

10. 令 $p$ 、 $q$ 为如下命题：

$p$ ：本周我买了一张彩票。

$q$ ：我赢得了百万美元大奖。

试用汉语表达下列各命题。

a) $\neg p$

b) $p \vee q$

c) $p\to q$

d) $p\wedge q$

e) $p\leftrightarrow q$

f) $\neg p\to \neg q$

g) $\neg p\land \neg q$

h) $\neg p\lor (p\land q)$

11. 令 $p$ 和 $q$ 分别表示命题“在新泽西海岸游泳是允许的”和“在海岸附近发现过鲨鱼”。试用汉语表达下列每个复合命题。

a) $\neg q$

b) $p\wedge q$

c) $\neg p\lor q$

d) $p\to \neg q$

e) $\neg q\to p$

f) $\neg p\to \neg q$

g) $\mathrm{p}\leftrightarrow \neg \mathrm{q}$

h) $\neg p\land (p\lor \neg q)$

12. 令 $p$ 和 $q$ 分别表示命题“选举已经有了结果”和“选票已经计数完毕”。试用汉语表达下列各命题。

a) $\neg p$

b) $p \vee q$

c) $\neg p\land q$

d) $q\to p$

e) $\neg q\to \neg p$

f) $\neg p\to \neg q$

g) $p\leftrightarrow q$

h) $\neg q \vee (\neg p \wedge q)$

13. 令 $p$ 、 $q$ 为如下命题：

$p$ ：气温在零度以下。

$q$ ：正在下雪。

用 $p$ 、 $q$ 和逻辑联结词(包括否定)写出下列各命题：

a)气温在零度以下且正下着雪。  
b)气温在零度以下，但没有下雪。  
c)气温不在零度以下，并且没有下雪。  
d)要么正下着雪，要么在零度以下（也许两者兼有）。  
e)如果气温在零度以下，则也下着雪。  
f)要么气温在零度以下，要么下着雪；但如果气温在零度以下，就没有下雪。  
g)气温在零度以下是下雪的充分必要条件。

14. 令 $p$ 、 $q$ 和 $r$ 为如下命题：

$p$ ：你得流感了。

$q$ ：你错过了期末考试。

$r$ ：这门课你通过了。

将下列各命题用汉语表示：

a) $p\to q$

b) $\neg q\leftrightarrow r$

c) $q\to \neg r$

d) $p\lor q\lor r$

e) $(p\to \neg r)\lor (q\to \neg r)$

f) $(p\wedge q)\vee (\neg q\wedge r)$

15. 令 $p$ 、 $q$ 为如下命题：

$p$ ：你开车车速超过每小时65英里（1英里 $= 1.6$ 公里）。

$q$ ：你接到一张超速罚单。

用 $p$ 、 $q$ 和逻辑联结词（包括否定）写出下列命题：

a) 你开车车速没有超过每小时65英里。  
b)你开车车速超过每小时65英里，但没接到超速罚单。  
c) 如果你开车车速超过每小时65英里，你将接到一张超速罚单。  
d)如果你开车车速不超过每小时65英里，你就不会接到超速罚单。  
e)开车车速超过每小时65英里足以接到超速罚单。  
f)你接到一张超速罚单，但你开车车速没超过每小时65英里。  
g) 只要你接到一张超速罚单，你开车车速就超过每小时 65 英里。

16. 令 $p$ 、 $q$ 、 $r$ 为如下命题：

$p$ ：你的期末考试得了A。

$q$ ：你做了本书每一道练习。

$r$ ：这门课你得了A。

用 $p$ 、 $q$ 、 $r$ 和逻辑联结词（包括否定）写出下列命题：

a)这门课你得了A，但你并没做本书的每道练习。  
b)你的期末考试得了A，你做了本书的每一道练习，并且这门课你得了A。  
c)想在这门课得A，你必须在期末考试得A。  
d)你的期末考试得了A，你没有做本书的每道练习；尽管如此，这门课你依然得了A。  
e)期末考试得A并且做本书的每道练习，足以使你这门课得A。  
f)这门课得A当且仅当你做本书的每道练习或期末考试得A。

17. 令 $p$ 、 $q$ 、 $r$ 为如下命题：

$p$ ：在这个地区发现过灰熊。

$q$ ：在乡间小路上徒步旅行是安全的。

$r$ ：乡间小路两旁的草莓成熟了。

用 $p$ 、 $q$ 、 $r$ 和逻辑联结词(包括否定)写出下列命题：

a)乡间小路两旁的草莓成熟了，但在这个地区没有发现过灰熊。

b)在这个地区没有发现过灰熊，且在乡间小路上徒步旅行是安全的，但乡间小路两旁的草莓成熟了。  
c)如果乡间小路两旁的草莓成熟了，徒步旅行是安全的当且仅当在这个地区没有发现过灰熊。  
d)在乡间小路上徒步旅行是不安全的，但在这个地区没有发现过灰熊且小路两旁的草莓成熟了。  
e)为了使在乡间小路上旅行是安全的，其必要但非充分条件是乡间小路两旁的草莓没有成熟且在这个地区没有发现过灰熊。  
f)只要在这个地区发现过灰熊且乡间小路两旁的草莓成熟了，在乡间小路上徒步旅行就是不安全的。

18. 判断下列这些双条件语句是真是假：

a) $2 + 2 = 4$ 当且仅当 $1 + 1 = 2$

b) $1 + 1 = 2$ 当且仅当 $2 + 3 = 4$

c) $1 + 1 = 3$ 当且仅当猴子会飞。

d) $0 > 1$ 当且仅当 $2 > 1$

19. 判断下列各条件语句是真是假：

a)如果 $1 + 1 = 2$ ，则 $2 + 2 = 5$

b)如果 $1 + 1 = 3$ ，则 $2 + 2 = 4$

c)如果 $1 + 1 = 3$ ，则 $2 + 2 = 5$

d)如果猴子会飞，则 $1 + 1 = 3$

20. 判断下列各条件语句是真是假：

a)如果 $1 + 1 = 3$ ，则独角兽存在。

b)如果 $1 + 1 = 3$ ，则狗能飞。

c)如果 $1 + 1 = 2$ ，则狗能飞。

d)如果 $2 + 2 = 4$ ，则 $1 + 2 = 3$

21. 对下列各语句，判断其中想表达的是兼或还是异或，说明理由。

a)晚餐配有咖啡或者茶。  
b)口令必须至少包含3个数字或至少8个字符长。  
c)这门课程的先修课程是数论课程或者密码学课程。  
d)你可以用美元或者欧元支付。

22. 对下列各语句，判断其中想表达的是兼或还是异或，说明理由。

a)要求有 $\mathrm{C} + +$ 或Java的经验。  
b)午餐包括汤或沙拉。  
c)你必须持护照或选民登记卡才能入境。   
d) 出版或销毁。

23. 对下列各语句，说一说如果其中的联结词是兼或（即析取）与异或时的含义。你认为语句想表示的是哪个或？

a) 要选修离散数学课，你必须已经选修过微积分或一门计算机科学的课桩。  
b)当你从Acme汽车公司购买一部新车时，你就能得到2000美元现金折扣或 $2\%$ 的汽车贷款。  
c)两人套餐包括A栏中的两道菜或B栏中的三道菜。  
d)如果下雪超过两英尺或寒风指数低于 $-100^{\circ}\mathrm{F}$ ，学校就停课。

24. 把下列语句写成“如果 $p$ ，则 $q$ ”的形式。[提示：参考本节列出的条件语句的常用表达方式。]

a)要想晋升，帮老板洗车是很有必要的。  
b)吹南风预示着春天要来了。  
c)保修单有效的充分条件是你的计算机购买时间不超过一年。  
d) Willy 只要行骗就会被抓住。  
e)你可以访问网站仅当你支付了订阅费。  
f)当选是源于了解合适的人群。  
g) 每当坐船 Carol 就会晕船。

25. 把下列语句写成“如果 $p$ ，则 $q$ ”的形式。[提示：参考条件语句的常用表达方式。]

a) 每当刮东北风，天会下雪。  
b)苹果树会开花，如果天暖持续一周。  
c)活塞队赢得冠军就意味着他们打败了湖人队。  
d)必须走8英里才能到达朗斯峰的顶峰。  
e)想要得到终身教授职位，只要能世界闻名就够了。  
f)如果你驾车超过400英里，就需要买汽油了。

g)你的保修单是有效的，仅当你购买的CD机不超过90天。

h)Jan会去游泳，除非水太凉了。

i)我们将会拥有美好的未来，假定人们相信科学。

26. 把下列语句写成“如果 $p$ ，则 $q$ ”的形式。[提示：参考本节列出的条件语句的常用表达方式。]

a)我会记得把地址发给你，仅当你给我发一封电子邮件。  
b)要成为美国公民，只要你生在美国就行了。  
c)如果你保存好课本，它会是你未来其他课程有用的参考书。  
d) 红翼队将赢得斯坦利杯，如果其守门员表现出色。  
e)你获得这一职位，表明你有最好的信誉。  
f)有风暴时沙滩会受到侵蚀。  
g)必须有一个有效的口令才能登录到服务器。  
h)你可以登顶，除非你太晚才开始爬山。  
i) 你能获得一个免费的冰激凌，假设你是明天的前100位顾客。

27. 把下列命题写成“ $p$ 当且仅当 $q$ ”的形式。

a)如果外边很热你就买冰激凌蛋卷，并且如果你买冰激凌蛋卷，则外边很热。  
b)你赢得竞赛的充分必要条件是你有唯一的获胜券。  
c)你得到提拔仅当你有关系网，并且你有关系网仅当你得到了提拔。  
d)如果你看电视，心智会衰退；反之亦然。  
e)火车恰恰在我乘坐的那些日子晚点。

28. 把下列命题写成“ $p$ 当且仅当 $q$ ”的形式。

a)你这门课得A的充分必要条件是你学习如何求解离散数学问题。  
b)如果你每天看报，你就了解情况；反之亦然。   
c)如果是周末，天就下雨；如果天下雨，就是周末。  
d) 你能看到巫师仅当巫师不在家，巫师不在家仅当你能看到巫师。  
e)我的航班恰恰当我需要赶后续航班的时候晚点。

29.叙述下列各条件语句的逆命题、逆否命题和反命题。

a)如果今天下雪，我明天就去滑雪。  
b) 只要有测验，我就来上课。  
c)一个正整数是素数，仅当它没有1和自身以外的因子。

30.叙述下列各条件语句的逆命题、逆否命题和反命题

a)如果今晚下雪，我将待在家里。  
b)只要是阳光充足的夏天，我就去海滩。  
c)如果我工作到很晚，那我就有必要睡到中午。

31. 下列各复合命题的真值表有多少行？

a) $p\to \neg p$

b) $(p\lor \neg r)\land (q\lor \neg s)$

c) $q\vee p\vee \neg s\vee \neg r\vee \neg t\vee u$

d) $(p\wedge r\wedge t)\leftrightarrow (q\wedge t)$

32. 下列各复合命题的真值表有多少行？

a) $(q\to \neg p)\lor (\neg p\to \neg q)$   
b) $(p\lor \neg t)\land (p\lor \neg s)$   
c) $(p\to r)\vee (\neg s\to \neg t)\vee (\neg u\to v)$   
d) $(p\wedge r\wedge s)\vee (q\wedge t)\vee (r\wedge \neg t)$

33. 构造下列各复合命题的真值表。

a) $p\wedge \neg p$

b) $p \vee \neg p$

c) $(p\lor \neg q)\rightarrow q$

d) $(p\lor q)\rightarrow (p\land q)$

e) $(p\to q)\leftrightarrow (\neg q\to \neg p)$

f) $(p\to q)\to (q\to p)$

34. 构造下列各复合命题的真值表。

a) $p\to \neg p$

b) $p\leftrightarrow \neg p$

c) $p\oplus (p\vee q)$

d) $(p\wedge q)\rightarrow (p\vee q)$

$$
\mathrm {e}) (q \rightarrow \neg p) \leftrightarrow (p \leftrightarrow q)
$$

$$
f) (p \leftrightarrow q) \oplus (p \leftrightarrow \neg q)
$$

35. 构造下列各复合命题的真值表。

a) $(p\lor q)\rightarrow (p\oplus q)$

$$
\mathrm {b}) (p \oplus q) \rightarrow (p \wedge q)
$$

c) $(p\lor q)\oplus (p\land q)$

$$
\mathrm {d}) (p \leftrightarrow q) \oplus (\neg p \leftrightarrow q)
$$

e) $(p\leftrightarrow q)\oplus (\neg p\leftrightarrow \neg r)$

$$
f) (p \oplus q) \rightarrow (p \oplus \neg q)
$$

36. 构造下列各复合命题的真值表。

a) $p\oplus p$

$$
b) p \oplus \neg p
$$

c) $p\oplus \neg q$

$$
\mathrm {d}) \neg p \oplus \neg q
$$

e) $(p\oplus q)\vee (p\oplus \neg q)$

$$
f) (p \oplus q) \wedge (p \oplus \neg q)
$$

37.构造下列各复合命题的真值表。

a) $p\to \neg q$

$$
b) \neg p \leftrightarrow q
$$

c) $(p\to q)\lor (\neg p\to q)$

$$
\mathrm {d}) (p \rightarrow q) \wedge (\neg p \rightarrow q)
$$

e) $(p\leftrightarrow q)\lor (\neg p\leftrightarrow q)$

$$
f) (\neg p \leftrightarrow \neg q) \leftrightarrow (p \leftrightarrow q)
$$

38. 构造下列各复合命题的真值表。

a) $(p\lor q)\lor r$

$$
b) (p \vee q) \wedge r
$$

c) $(p\wedge q)\vee r$

$$
\mathrm {d}) (p \wedge q) \wedge r
$$

e) $(p\lor q)\land \neg r$

$$
f) (p \wedge q) \vee \neg r
$$

39.构造下列各复合命题的真值表。

a) $p\to (\neg q\lor r)$

$$
b) \neg p \rightarrow (q \rightarrow r)
$$

c) $(p\to q)\lor (\neg p\to r)$

$$
\mathrm {d}) (p \rightarrow q) \wedge (\neg p \rightarrow r)
$$

e) $(p\leftrightarrow q)\lor (\neg q\leftrightarrow r)$

$$
f) (\neg p \leftrightarrow \neg q) \leftrightarrow (q \leftrightarrow r)
$$

40. 构造 $((p \rightarrow q) \rightarrow r) \rightarrow s$ 的真值表。

41.构造 $(p\leftrightarrow q)\leftrightarrow (r\leftrightarrow s)$ 的真值表。

42. 不借助于真值表，试解释为什么在 $p$ 、 $q$ 和 $r$ 真值相同时 $(p \lor \neg q) \land (q \lor \neg r) \land (r \lor \neg p)$ 为真，而在其他情况下为假。

43. 不借助于真值表，试解释为什么在 $p$ 、 $q$ 和 $r$ 至少有一个为真并且至少有一个为假时 $(p \lor q \lor r) \land (\neg p \lor \neg q \lor \neg r)$ 为真，而当三个变量具有相同真值时为假。

44. 如果 $p_1, p_2, \dots, p_n$ 是 $n$ 个命题，试解释为什么

$$
\bigwedge_ {i = 1} ^ {n - 1} \bigwedge_ {j = i + 1} ^ {n} (\neg p _ {i} \vee \neg p _ {j})
$$

为真当且仅当 $p_1, p_2, \dots, p_n$ 中最多只有一个为真。

45. 用练习44构造一个复合命题，该命题为真当且仅当 $p_1$ ， $p_2$ ，…， $p_n$ 中恰好只有一个为真。[提示：模仿练习44构造复合命题使得其为真当且仅当 $p_1$ ， $p_2$ ，…， $p_n$ 中至少有一个为真。]

46. 假定在计算机程序中，执行下列语句之前 $x = 1$ ，在执行之后 $x$ 的值是什么？

a) if $x + 2 = 3$ then $x \coloneqq x + 1$

$$
\mathrm {b}) \text {i f} (x + 1 = 3) \mathrm {O R} (2 x + 2 = 3) \text {t h e n} x := x + 1
$$

c) if $(2x + 3 = 5)$ AND $(3x + 4 = 7)$ then $x \coloneqq x + 1$

$$
\mathrm {d}) \text {i f} (x + 1 = 2) \mathrm {X O R} (x + 2 = 3) \text {t h e n} x := x + 1
$$

e) if $x < 2$ then $x := x + 1$ .

47. 求下列各对比特串的按位 OR、按位 AND 及按位 XOR。

a)101 1110，010 0001

$$
b) 1 1 1 1 0 0 0 0, 1 0 1 0 1 0 1 0
$$

c)00 0111 0001，10 0100 1000

$$
d) 1 1 1 1 1 1 1 1 1, 0 0 0 0 0 0 0 0 0
$$

48. 计算下列表达式。

a)11000A(01011V11011)

$$
\mathrm {b}) (0 1 1 1 1 \wedge 1 0 1 0 1) \vee 0 1 0 0 0
$$

c) $(01010\oplus 11011)\oplus 01000$

$$
\mathrm {d}) (1 1 0 1 1 \vee 0 1 0 1 0) \wedge (1 0 0 0 1 \vee 1 1 0 1 1)
$$

模糊逻辑可以用于人工智能。在模糊逻辑中，命题的真值是一个0和1之间的数（含0和1）。真值为0的命题为假，真值为1的命题为真。命题的真值介于0和1之间表明真值的不同程度。例如，语句“Fred是幸福的”可以被赋予真值0.8，因为Fred大部分时间是幸福的；而“John是幸福的”可以被赋予真值0.4，因为他只在不到一半的时间里感到幸福。用这样的真值求解练习 $49\sim 51$

49.模糊逻辑中命题否定的真值是1减去该命题的真值。语句“Fred是不幸福的”和“John是不幸福的”的真值是什么？  
50. 模糊逻辑中两个命题合取的真值是两个命题真值的最小值。语句“Fred 和 John 都是幸福的”和“Fred 和 John 都是不幸福的”的真值是什么？  
51.模糊逻辑中两个命题析取的真值是两个命题真值的最大值。语句“Fred是幸福的或John是幸福的”与“Fred是不幸福的或John是不幸福的”的真值是什么？  
* 52. 试问断言“本语句为假”是命题吗？  
* 53. 有一个含 100 条语句的列表, 其中第 $n$ 条语句写的是 “列表中恰有 $n$ 条语句为假”。

a) 你能从这些语句中得出什么结论？  
b)如果第 $n$ 条语句写的是“列表至少有 $n$ 条语句为假”，回答问题a。  
c)假设这个列表包含99条语句，回答问题b。

54. 古老的西西里传说中有一个理发师住在边远小镇上，人们要穿越危险的山路才能找到他。理发师给并且只给那些自己不刮胡子的人刮胡子。有这样的理发师吗？

# 1.2 命题逻辑的应用

# 1.2.1 引言

逻辑在数学、计算机科学和其他许多学科有着许多重要的应用。数学、自然科学以及自然语言中的语句通常不太准确，甚至有歧义。为了使表达更精确，可以将它们翻译成逻辑语言。例如，逻辑可用于软件和硬件的规范说明（specification），因为在开发前这些规范说明必须要准确。另外，命题逻辑及其规则可用于设计计算机电路、构造计算机程序、验证程序的正确性以及构造专家系统。逻辑可用于分析和求解许多熟悉的谜题。基于逻辑规则的软件系统也已经开发出来，它能够自动构造某种类型的（当然不是全部的）证明。在后续章节中，我们将讨论命题逻辑的部分应用。

# 1.2.2 语句翻译

有许多理由需要把自然语言语句翻译成由命题变量和逻辑联结词组成的表达式。特别是，汉语（以及其他各种人类语言）常有二义性。把语句翻译成复合命题（以及本章稍后要介绍的其他类型的逻辑表达式）可以消除歧义。注意，这样翻译时也许需要根据语句的含义做一些合理的假设。此外，一旦完成了从语句到逻辑表达式的翻译，我们就可以分析这些逻辑表达式以确定它们的真值，对它们进行操作，并用(1.6节中讨论的)推理规则对它们进行推理。

为了解释把语句翻译成逻辑表达式的过程，考虑下面两个例子。

例1 怎样把下面的语句翻译成逻辑表达式？

“你可以在校园访问因特网，仅当你主修计算机科学或者你不是新生。”

解 将这一语句翻译为逻辑表达式有许多方法。尽管可以用一个命题变量如 $p$ 来表示这一语句，但这种表示在分析其含义或用它做推理时没有多大帮助。我们的办法是用命题变量表示语句中的每个成分，并找出它们之间合适的逻辑联结词。具体地说，令 $a$ 、 $c$ 和 $f$ 分别表示“你可以在校园访问因特网”“你主修计算机科学”和“你是个新生”。注意“仅当”是一种表达条件语句的方式，上述语句可以译为

$$
a \rightarrow (c \vee \neg f)
$$

例2 怎样把下面的语句翻译成逻辑表达式？

“如果你身高不足4英尺(约1.22米)，那么你不能乘坐过山车，除非你已年满16周岁。”

解 令 $q$ 、 $r$ 和 $s$ 分别表示“你能乘坐过山车”“你身高不足4英尺”和“你已年满16周岁”，则上述语句可以翻译为

$$
(r \wedge \neg s) \rightarrow \neg q
$$

![](e56b0c39fa3cd106b4450daee8875655b030e42e863e13129d7ef3a78df18918.jpg)

当然，还有其他方式可以把上述语句表示为逻辑表达式，但上面使用的这一表达式已满足我们的需要。

# 1.2.3 系统规范说明

在描述硬件系统和软件系统时，将自然语言语句翻译成逻辑表达式是很重要的一部分。系统和软件工程师根据自然语言描述的需求，生成精确而无二义性的规范说明，这些规范说明用来作为系统开发的基础。例3说明了如何在这一过程中使用复合命题。

例3 使用逻辑联结词表示规范说明“当文件系统已满时，就不能发送自动应答”。

解 翻译这个规范说明的方法之一是令 $p$ 表示“能够发送自动应答”，令 $q$ 表示“文件系统满了”，则 $\neg p$ 表示“并非能够发送自动应答这种情况”，也就是“不能发送自动应答”。因此，我们的规范说明可以用条件语句 $q \rightarrow \neg p$ 来表示。

系统规范说明应该是一致的，也就是说，系统规范说明不应该包含可能导致矛盾的相互冲突的需求。当规范说明不一致时，就无法开发出一个满足所有规范说明的系统。

例4 确定下列系统规范说明是否一致。

“诊断消息存储在缓冲区中或者被重传。”

“诊断消息没有存储在缓冲区中。”

“如果诊断消息存储在缓冲区中，那么它被重传。”

解 要判断这些规范说明是否一致，我们首先用逻辑表达式表示它们。令 $p$ 为“诊断消息存储在缓冲区中”，令 $q$ 表示“诊断消息被重传”。则上面几个规范说明可以写为 $p \lor q$ 、 $\neg p$ 和 $p \rightarrow q$ 。使所有三个规范说明为真的一个真值赋值必须包含 $p$ 为假，从而使 $\neg p$ 为真。因为我们要使 $p \lor q$ 为真，但 $p$ 又必须为假，所以 $q$ 必须为真。由于当 $p$ 为假且 $q$ 为真时， $p \rightarrow q$ 为真，所以我们得出结论：这些规范说明是一致的，因为当 $p$ 为假且 $q$ 为真时它们都是真的。使用真值表检验 $p$ 和 $q$ 的四种可能的真值赋值，可以得出同样的结论。

例5 如果在例4中加上一个系统规范说明“诊断消息没有被重传”，它们还能保持一致吗？

解 由例4的推理可知，只有当 $p$ 为假且 $q$ 为真时那三个规范说明才为真。然而，本例中的新规范说明是 $\neg q$ ，当 $q$ 为真时它为假。因此，这四个规范说明是不一致的。

# 1.2.4 布尔搜索

逻辑联结词广泛用于海量信息如网页索引的搜索中。由于搜索采用命题逻辑的技术，所以被称为布尔搜索。

在布尔搜索中，联结词 AND 用于匹配同时包含两个搜索项的记录，联结词 OR 用于匹配两个搜索项之一或两项均匹配的记录，而联结词 NOT（有时写作 AND NOT）用于排除某个特定的搜索项。当布尔搜索用来定位可能感兴趣的信息时，经常需要细心安排逻辑联结词的使用。下面的例 6 解释布尔搜索是怎样执行的。

例6 网页搜索 大部分Web搜索引擎支持布尔搜索技术，通常有助于寻找有关特定主题的网页。例如，用布尔搜索查找关于新墨西哥州(New Mexico)的大学网页，我们可以寻找与NEW AND MEXICO AND UNIVERSITIES匹配的网页。搜索的结果将包括含有NEW（新）、MEXICO（墨西哥）和UNIVERSITIES（大学）三个词的那些网页。这里包含了所有我们感兴趣的网页，还包括其他网页，如墨西哥的新的大学网页。（注意在Google以及其他许多搜索引擎中，并不需要“AND”一词，因为搜索引擎默认包含所有搜索项。）多数搜索引擎还支持使用引号以搜索特定的短语。因此，使用“New Mexico”AND UNIVERSITIES匹配网页搜索会更有效。

接下来，要找出与新墨西哥州或亚利桑那州（Arizona）的大学有关的网页，我们可以搜索与（NEW AND MEXICO OR ARIZONA）AND UNIVERSITIES匹配的网页。（注意，这里联结

![](fca0f52a5b3bbef86f013de2d384230cf542b26c7a80db272aa04f483b82a523.jpg)

词AND优先于联结词OR。同样，在Google中用于搜索的项应该是NEW MEXICO OR ARIZONA。)这一搜索的结果将包括含UNIVERSITIES一词，并且或者含有NEW与MEXICO两个词，或者含有ARIZONA一词的所有网页。同样，除了这两类我们感兴趣的网页外还会列出其他网页。最后，要想找出有关墨西哥(不是新墨西哥州)的大学网页，可以先找与MEXICO AND UNIVERSITIES匹配的网页，但由于这一搜索的结果将会包括有关新墨西哥州的大学网页以及墨西哥的大学网页，所以更好的办法是搜索与（MEXICO AND UNIVERSITIES）NOT NEW匹配的网页。这一搜索的结果将包括含MEXICO和UNIVERSITIES两个词但不含NEW一词的所有网页。（在Google以及其他搜索引擎中，NOT一词会用符号“-”来代替。因此，在Google中，最后一个搜索项可以写成MEXICO UNIVERSITIES-NEW。）

# 1.2.5 逻辑谜题

可以用逻辑推理解决的谜题称为逻辑谜题。求解逻辑谜题是实践逻辑规则的一种非常好的方法。同样，用于执行逻辑推理的计算机程序通常也使用著名的逻辑谜题来演示它们的能力。许多人对求解逻辑谜题颇感兴趣，有许多书和杂志以及Web网页上也登载有逻辑谜题以供娱乐。

在此，我们将讨论三个逻辑谜题，难度逐级增加。在练习中可以找到更多的谜题。1.3节我们还会讨论 $n$ 皇后谜题和数独游戏。

例7 作为把公主从海盗那里营救回来的报酬，国王给你机会来赢得隐藏在三个箱子中的宝藏，但只有一个箱子中有宝藏，另外两个箱子是空的。要想赢，你必须选对箱子。第一和第二个箱子上都写有“这个箱子是空的”，第三个箱子上写着“宝藏在第二个箱子中”。从来不撒谎的皇后告诉你只有一个提示是真的，而其他两句都是假的。你会选择哪个箱子来赢得宝藏？

解设 $p_i$ 为命题“宝藏在第 $i$ 个箱子中”， $i = 1$ ，2，3。把皇后的提示翻译成命题逻辑，则三个箱子上的提示分别为 $\neg p_1$ ， $\neg p_2$ ， $p_2$ 。所以，皇后所言可以翻译为

$(\neg p_1 \land \neg (\neg p_1) \land \neg p_2) \lor (\neg (\neg p_1) \land \neg p_2 \land \neg p_2) \lor (\neg (\neg p_1) \land \neg (\neg p_2) \land p_2))$ 利用命题逻辑的规则，可知上式等价于 $(p_1 \land \neg p_2) \lor (p_1 \land p_2)$ 。由分配律， $(p_1 \land \neg p_2) \lor (p_1 \land p_2)$ 等价于 $p_1 \land (\neg p_2 \lor p_2)$ 。因为 $(\neg p_2 \lor p_2)$ 必然为真，这就等价于 $p_1 \land T$ ，而这又等价于 $p_1$ 。因此，宝藏就在第一个箱子里（即 $p_1$ 为真），而 $p_2$ 和 $p_3$ 为假；第二个箱子上的提示是唯一为真的。（这里我们用到了将在1.3节讨论的命题等价的概念。）

接下来，我们介绍一个由雷蒙德·斯马亚(Raymond Smullyan)提出的谜题，斯马亚是一名逻辑谜题大师，已经写作了十多本含有极富挑战性的逻辑推理谜题的书籍。

例8 斯马亚在文献[Sm78]中提出了许多与如下情形有关的谜题：一个岛上居住着两类人——骑士和无赖。骑士总是说真话，而无赖永远在撒谎。你碰到两个人 $A$ 和 $B$ 。如果 $A$ 说“ $B$ 是骑士”，而 $B$ 说“我们两个是两类人”，请问 $A$ 和 $B$ 到底是什么样的人？

解 令 $p$ 和 $q$ 分别表示语句“A是骑士”和“B是骑士”，则 $\neg p$ 和 $\neg q$ 就分别表示“A是无赖”和“B是无赖”。

我们首先考虑 $A$ 是骑士这样一种可能，这就是说， $p$ 是真的。如果 $A$ 是骑士，那他说的“ $B$ 是骑士”就是真话，因此 $q$ 为真，从而 $A$ 和 $B$ 就是一类人。然而，如果 $B$ 是骑士，那么 $B$ 说的“我们两个是两类人”，即 $(p \wedge \neg q) \vee (\neg p \wedge q)$ 就应该为真，然而并非如此，因为前面的结论是 $A$ 和 $B$ 都是骑士。因此，我们可以得出 $A$ 不是骑士，即 $p$ 为假。

如果 $A$ 是无赖，则由无赖永远在撒谎可知， $A$ 所说的“ $B$ 是骑士”即“ $q$ 是真的”就是一个谎言。这意味着 $q$ 为假， $B$ 也是无赖。而且，如果 $B$ 是无赖，那么 $B$ 说的“我们两个是两类人”也是谎言，这与 $A$ 和 $B$ 都是无赖是一致的。所以，我们得出结论 $A$ 和 $B$ 都是无赖。

在本节末的练习 $23\sim 27$ 中，我们会进一步讨论斯马亚关于骑士和无赖的谜题。而在练习 $28\sim 35$ 中，我们介绍的谜题将涉及三类人：这里所说的骑士、无赖，还有一类可能说谎的

Links

Extra Examples

间谍。

接下来，我们介绍一个与两个孩子有关的泥巴孩子谜题(muddy children puzzle)。

例9 父亲让两个孩子（一个男孩和一个女孩）在后院玩耍，并让他们不要把身上搞脏。然而，在玩耍的过程中，两个孩子额头上都沾了泥。当孩子们回来后，父亲说：“你们当中至少有一个人额上有泥。”然后要求孩子们用“是”和“否”回答问题：“你知道你额头上是否有泥吗？”父亲问了两遍同样的问题。假设每个孩子都可以看到对方的额头上是否有泥，但不能看见自己的额头，孩子们在每次被问到这个问题时将会怎样回答呢？假设两个孩子都很诚实并且都同时回答每一次提问。

解 令 $s$ 和 $d$ 分别表示语句“儿子的额头上有泥”和“女儿的额上有泥”。当父亲说：“你们当中至少有一个人额上有泥”时，表示的是 $s \vee d$ 为真。当父亲第一次问那个问题时两个孩子都将回答“否”，因为他们都看到对方的额头上有泥。也就是说，儿子知道 $d$ 为真，但不知道 $s$ 是否为真。而女儿知道 $s$ 为真，但不知道 $d$ 是否为真。

在儿子对第一次询问回答“否”后，女儿可以判断出 $d$ 必为真。这是因为问第一次问题时，儿子知道 $s \vee d$ 为真，但不能判断 $s$ 是否为真。利用这个信息，女儿能够得出结论 $d$ 必定为真，因为如果 $d$ 为假，则儿子就有理由推出，由于 $s \vee d$ 为真，那么 $s$ 必定为真，因此他对第一个问题的回答应为“是”。儿子也可以类似推断出 $s$ 必为真。因此，第二次两个孩子都将回答“是”。

# 1.2.6 逻辑电路

命题逻辑可应用于计算机硬件的设计。这是1938年克劳德·香农(Claude Shannon)首次发现并写在他的MIT硕士论文中的。第12章将深入学习这个课题(参见该章的香农传记)。这里我们对这个应用做简单介绍。

逻辑电路（或数字电路）接受输入信号 $p_1$ ， $p_2$ ，…， $p_n$ ，每个信号1比特[或0（关)或1

# Links

![](33291dc0fc24be2b4afd2fc0d0fe3914c88915ba7a304fbf5e76dbcf03db4d01.jpg)  
Courtesy of Indiana University Archives

雷蒙德·斯马亚(Raymond Smullyan，1919—2017）斯马亚出生于纽约皇后区的法洛克威，是商人和家庭主妇的儿子。他中学就辍学了，因为他想学自己感兴趣的东西而不是中学课本上的知识。他先就读于俄勒冈州的太平洋学院和里德学院，后于1955年在芝加哥大学获得数学专业本科学位。他靠在社团组织和俱乐部里以“FIVE-ACEMerrill”为艺名表演魔术来支付大学费用。他师从普林斯顿大学的Alonzo Church，并于1959年获得了逻辑学博士学位。从普林斯顿大学毕业后，斯马亚曾在达特茅斯学院、普林斯顿大学、犹太大学和纽约城市大学教授数学和逻辑学。1981年，他加入印第安纳大学哲学系，现在他是该校的荣誉退休教授。

斯马亚写过许多关于具有娱乐性的逻辑和数学书籍，包括《撒旦、康托尔和无穷》（Satan，Cantor, and Infinity）、《这本书的书名是什么？》（What Is the Name of This Book?）、《美女，还是老虎？》（The Lady or the Tiger?）、《爱丽斯漫游谜题乐园》（Alice in Puzzleland）、《模仿一只知更鸟》（To Mock a Mockingbird）、《永远未定》(Forever Undecided)以及《天方夜谭之谜：古代和现代迷人的逻辑谜题》（The Riddle of Scheherazade: Amazing Logic Puzzles, Ancient and Modern）。因为他的逻辑谜题具有挑战性和娱乐性并能激发思维，所以他被认为是现代的 Lewis Carroll。斯马亚也写过几本关于将演绎逻辑应用于国际象棋方面的书、三本哲学短文和格言集，以及几本高深的数理逻辑和集合论的书籍。斯马亚对自引用(self-reference)特别感兴趣，并且将哥德尔的一些结论（证明了不可能写出一个计算机程序来求解所有的数学问题）进行了扩展。他还热衷于向大众解释数理逻辑的思想。

斯马亚是一位天才的音乐家，经常与第二任妻子一同弹奏钢琴，她是一位专业的钢琴演奏家。制造望远镜是他的一个嗜好。他还对光学和立体照相感兴趣。他说：“我从不像某些人那样不能同时兼顾教学和研究，因为我在教学的时候就是在做研究。”有一部片名为《本片不需要片名》（This Film Needs No Title)的纪录短片就是描述斯马亚的。

（开]，产生输出信号 $s_1$ ， $s_2$ ，…， $s_n$ ，每个1比特。一般来说，数字电路可以有多个输出，但是在本小节中我们将局限于讨论只有一个输出信号的逻辑电路。

复杂的数字电路可以从三种简单的基本电路（如图1所示的门电路（gate））构造而来。逆变器或非门（NOT gate）接受一个输入比特 $p$ ，产生 $\neg p$ 作为输出。或门（OR gate）接受两个输入信号 $p$ 和 $q$ ，每个一比特，产生信号 $p \lor q$ 作为输出。最后，与门（AND gate）接受两个输入信号 $p$ 和 $q$ ，每个一比特，产生信号 $p \land q$ 作为输出。我们可以用这三种基本门来构造更复杂的电路，如图2所示。

![](4a5fe17d6e67e038248d4c32305139668309c7a9867bd37bcbc8e8288e329080.jpg)  
图1 基本逻辑门

![](0cf6e994b7697f932762db6b35d722786cb992520c0f17b6ae219af483337ff5.jpg)  
图2 一个组合电路

给定一个由基本电路构造而得的电路以及该电路的输入，我们可以通过追踪电路来确定输出，如例10所示。

例10 确定图2所示组合电路的输出。

解 在图2中我们给出了电路中每个逻辑门的输出。可以看到与门接受的输入为 $p$ 和 $\neg q$ （即以 $q$ 为输入的逆变器的输出），因而产生输出 $p \land \neg q$ 。接下来，注意到或门接受的输入为 $p \land \neg q$ 和 $\neg r$ （即以 $r$ 为输入的逆变器的输出），因而产生最终输出 $(p \land \neg q) \lor \neg r$ 。

假设我们对于一个数字电路的输出能用否定、析取、合取来构造一个公式。这样，我们就能系统地构造数字电路来产生期望的输出，如例11所示。

例11 给定输入 $p$ 、 $q$ 和 $r$ ，构造一个输出为 $(p\lor \neg r)\land (\neg p\lor (q\lor \neg r))$ 的数字电路。

解为了构造所期望的电路，我们分别为 $p \lor \neg r$ 和 $\neg p \lor (q \lor \neg r)$ 构造不同的电路，再用与门把它们组合起来。为构造 $p \lor \neg r$ 的电路，我们先用一个逆变器从输入 $r$ 产生 $\neg r$ 。然后用一个或门来组合 $p$ 和 $\neg r$ 。为了构造 $\neg p \lor (q \lor \neg r)$ 的电路，我们首先用一个逆变器获得 $\neg r$ 。然后用一个或门接受输入 $q$ 和 $\neg r$ 以获得 $(q \lor \neg r)$ 。最后，我们用另一个逆变器和一个或门接受输入 $p$ 和 $(q \lor \neg r)$ 来得到 $\neg p \lor (q \lor \neg r)$ 。

为了完成构造，我们用最后一个与门来接受输入 $p \lor \neg r$ 和 $\neg p \lor (q \lor \neg r)$ 。最后的电路如图3所示。

![](fead9c7ae1b3f6fd38a4e4c457941ba3ffbc26237cc21b08404b34822b5c839a.jpg)  
图3 $(p\lor \neg r)\land (\neg p\lor (q\lor \neg r))$ 的电路

我们将在第12章讨论布尔代数场景中采用不同的记号来深入研究逻辑电路。

# 练习

在练习 $1\sim 6$ 中，用给定的命题将语句翻译成命题逻辑中的形式。

1. 你不能编辑一个受保护的维基百科条目，除非你是一名管理员。用 $e$ ：“你不能编辑一个受保护的维基百科条目”和 $a$ ：“你是一名管理员”来表达你的答案。

2. 你可以看这部电影仅当你已经年满18岁或得到父母同意。用 $m$ : “你可以看这部电影”、 $e$ : “你已经年满18岁”和 $p$ : “你已经得到父母同意”来表达你的答案。

3. 你能够毕业仅当你已经完成了专业的要求并且你不欠大学学费并且你没有逾期不归还图书馆的书。用 $g$ ：“你能够毕业”、 $m$ ：“你不欠大学学费”、 $r$ ：“你已经完成了专业的要求”和 $b$ ：“你没有逾期不归还图书馆的书”来表达你的答案。

4. 要想使用机场的无线网络，你必须支付每日的使用费，除非你是该服务的一个订户。用 $w$ ：“你能使用机场的无线网络”、 $d$ ：“你支付每日的使用费”和 $s$ ：“你是该服务的一个订户”来表达你的答案。

5. 你有资格当美国总统仅当你已年满35岁、出生在美国或者你出生时你的双亲是美国公民并且你在这个国家至少生活了14年。用 $e$ ：“你有资格当美国总统”、 $a$ ：“你已年满35岁”、 $b$ ：“你出生在美国”、 $p$ ：“在你出生的时候，你的双亲均是美国公民”和 $r$ ：“你在美国至少生活了14年”来表达你的答案。

6. 你能升级操作系统仅当你有一个32位的处理器且主频在 $1\mathrm{GHz}$ 或以上、至少1GB内存、16GB空闲硬盘空间，或者一个64位处理器且主频在 $2\mathrm{GHz}$ 或以上、至少2GB内存、至少32GB空闲硬盘空间。用 $u$ ：“你能升级操作系统”、 $b_{32}$ ：“你有一个32位的处理器”、 $b_{64}$ ：“你有一个64位的处理器”、 $g_{1}$ ：“你的处理器主频在 $1\mathrm{GHz}$ 或以上”、 $g_{2}$ ：“你的处理器主频在 $2\mathrm{GHz}$ 或以上”、 $r_{1}$ ：“你的处理器至少1GB内存”、 $r_{2}$ ：“你的处理器至少2GB内存”、 $h_{16}$ ：“你有16GB空闲硬盘空间”和 $h_{32}$ ：“你有32GB空闲硬盘空间”来表达你的答案。

7. 使用命题 $p$ : “对消息进行病毒扫描”和 $q$ : “消息来自一个未知的系统”以及逻辑联结词 (包括否定) 来表达下列系统规范说明。

a）“每当消息来自一个未知的系统时，对消息进行了病毒扫描。”  
b）“消息来自一个未知的系统，但没有对消息进行病毒扫描。”  
c）“每当消息来自一个未知的系统时，就有必要对消息进行病毒扫描。”  
d）“当消息不是来自一个未知的系统时，没有对消息进行病毒扫描。”

8. 使用命题 $p$ : “用户输入有效的口令”、 $q$ : “访问被授权”、 $r$ : “用户已经支付了订阅费”以及逻辑联结词(包括否定)来表达下列系统规范说明。

a）“用户已经支付了订阅费，但没有输入有效的口令。”  
b）“每当用户已经支付了订阅费并输入有效的口令，访问被授权。”  
c）“如果用户没有支付订阅费，则访问被拒绝。”  
d）“如果用户没有输入有效的口令但已经支付了订阅费，则访问被授权。”

9. 下列系统规范说明一致吗？“系统处于多用户状态当且仅当系统运行正常。如果系统运行正常，则它的核心程序起作用。核心程序不起作用，或者系统处于中断模式。如果系统不处于多用户状态，它就处于中断模式。系统不处在中断模式。”  
10. 下列系统规范说明一致吗？“每当对系统软件进行升级时，用户不能访问文件系统。如果用户能访问文件系统，那么他们能保存新文件。如果用户不能保存新文件，那么系统软件未被升级。”  
11. 下列系统规范说明一致吗？“路由器能向边缘系统发送分组仅当它支持新的地址空间。路由器要能支持新的地址空间，就必须安装最新版本的软件。如果安装了最新版本的软件，路由器就能向边缘系统发送分组。路由器不支持新的地址空间。”  
12. 下列系统规范说明一致吗？“如果文件系统未加锁，那么新消息就需要排队。如果文件系统未加锁，则系统正常运行；反之亦然。如果新消息未排队，就会送入消息缓冲区。如果文件系统未加锁，那么新消息将被送入消息缓冲区。新消息不会被送入消息缓冲区。”  
13. 你会用什么样的布尔搜索来寻找关于新泽西州(New Jersey)海滩的网页？如果你想找关于（位于英吉利海峡的）泽西岛(the isle of Jersey)海滩的网页呢？  
14. 你会用什么样的布尔搜索来寻找关于在西弗吉尼亚（West Virginia）徒步旅行的网页？如果你想找关于在弗吉尼亚（Virginia）而非西弗吉尼亚徒步旅行的网页呢？

15. 你会用什么样的 Google 搜索来寻找位于纽约州 (New York) 或新泽西州 (New Jersey) 的埃塞俄比亚 (Ethiopian) 餐厅？

16. 你会用什么样的 Google 搜索来寻找男士鞋或非工作用的靴子？

17. 假设在例 7 中，三个箱子上的提示分别为“宝藏在第三个箱子中”“宝藏在第一个箱子中”和“这个箱子是空的”。对于下面的每一句话，试判断从不撒谎的皇后是否可以这么说？如果可以，请问宝藏在哪个箱子中？

a）“所有提示都是假的。”

b）“恰好有一个提示是真的。”

c）“恰好有两个提示是真的。”

d）“三个提示全部为真。”

18. 假设在例7中，三个箱子中的两个有宝藏。三个箱子上的提示分别为“这个箱子是空的”“第一个箱子中有宝藏”和“第二个箱子中有宝藏”。对于下面的每一句话，试判断从不撒谎的皇后是否可以这么说？如果可以，请问宝藏在哪两个箱子中？

a）“所有提示都是假的。”

b）“恰好有一个提示是真的。”

c）“恰好有两个提示是真的。”

d）“三个提示全部为真。”

* 19. 一个边远村庄的每个人要么总说真话，要么总说谎。村民对于旅游者的提问总是只用“是”或“否”来回答。假定你在这一地区旅游，走到了一个岔路口。一条岔路通向你想去的遗址，另一条岔路通向丛林深处。一村民恰好站在岔路口，问他一个什么问题就能确定走哪条路？

20. 一个探险者被食人族抓住了。食人者有两种：总是说谎的和总是说真话的。除非探险者能判断出一位指定的食人者是说谎者还是说真话者，否则他就要被烤了吃。探险者只被允许问这位食人者一个问题。

a)解释为什么问“你是说谎者吗”是不行的。

b)找出一个问题，使探险者可以判断该食人者是总是说谎的还是总是讲真话的。

21. 当三位教授在一家餐厅落座时，女主人问他们：“每位都要喝咖啡吗？”第一位教授说：“我不知道。”第二位教授接着说：“我不知道。”最后，第三位教授说：“不，不是每个人都想喝咖啡。”女主人回来并将咖啡递给想喝咖啡的教授。她是如何找出谁想喝咖啡的？

22. 当你规划一个聚会时需要知道该邀请些什么人。在你可能邀请的人中有三个棘手的朋友。你知道如果 Jasmine 参加，她对 Samir 在场会感到不快；Samir 仅当 Kanti 到场才会出席；而 Kanti 不会出席除非 Jasmine 也在场。你如何邀请三人的组合而不使某人不愉快？

练习 $23\sim 27$ 是关于斯马亚创建的骑士和无赖岛岛民的，这个岛上居住着只说真话的骑士和只说假话的无赖。你遇见两个人 $A$ 和 $B$ 。可能的话，请根据 $A$ 、 $B$ 所说的话判断两人到底是什么人。如果不能确定这两个是什么人，那么你能推断出什么可能的结论吗？

23. $A$ 说“我们中至少有一个是无赖”， $B$ 什么都没说。

24. $A$ 说“我们两个都是骑士”， $B$ 说“A是无赖”。

25. $A$ 说“我是无赖或者 $B$ 是骑士”， $B$ 什么都没说。

26. $A$ 和 $B$ 都说“我是骑士”。

27. $A$ 说“我们都是无赖”， $B$ 什么都没说。

练习 $28\sim 35$ 是关于一个居住着三种人的岛民的：只讲真话的骑士、只讲假话的无赖和可能讲真话也可能讲假话的间谍(斯马亚在[Sm78]中称之为正常人)。你遇见三个人A、B和C。你知道其中一人是骑士、一人是无赖，还有一人是间谍。三人都知道其他两人是哪种类型的人。对于下列每种情况，可能的话请确定是否有唯一解并确定谁是骑士、无赖和间谍。当没有唯一解时，请列出所有可能的解或者说明无解。

28. $A$ 说“ $C$ 是无赖”， $B$ 说“A是骑士”，而 $C$ 说“我是间谍”。

29. $A$ 说“我是骑士”， $B$ 说“我是无赖”，而 $C$ 说“ $B$ 是骑士”。

30. $A$ 说“我是无赖”， $B$ 说“我是无赖”，而 $C$ 说“我是无赖”。

31. $A$ 说“我是骑士”， $B$ 说“A说的是真话”，而 $C$ 说“我是间谍”。

32. $A$ 说“我是骑士”， $B$ 说“A不是无赖”，而 $C$ 说“ $B$ 不是无赖”。

33. $A$ 说“我是骑士”， $B$ 说“我是骑士”，而 $C$ 说“我是骑士”。

34. $A$ 说“我不是间谍”， $B$ 说“我不是间谍”，而 $C$ 说“A是间谍”。

35. $A$ 说“我不是间谍”， $B$ 说“我不是间谍”，而 $C$ 说“我不是间谍”。

练习 $36\sim 42$ 的谜题可以通过先把语句翻译成逻辑表达式，然后再用真值表对这些表达式进行推理来

求解。

36. 对于 Cooper 先生的谋杀案，警察有三个怀疑对象：Smith 先生、Jones 先生和 Williams 先生。他们三人都声称没有杀害 Cooper。Smith 还称 Cooper 是 Jones 的朋友并且 Williams 不喜欢他。Jones 也声称他不认识 Cooper 并且 Cooper 被害的当天他不在镇上。Williams 也声称他在案发当天看见 Smith 和 Jones 与 Cooper 在一起，因此不是 Smith 就是 Jones 是凶手。在下列情况下，你能判断谁是凶手吗？

a)三人中有一人是凶手，清白的那两个人说的是真话，但凶手说的话不一定为真。

b) 清白者没有撒谎。

37. Steve 想用两个事实来判断三位工作人员的相对薪水。首先，他知道如果 Fred 的薪水不是三人中最高的，那么 Janice 的薪水最高。其次，他知道如果 Janice 的薪水不是最低的，那么 Maggie 的薪水最高。从以上 Steve 所知道的事实，是否有可能确定 Fred、Maggie 和 Janice 的相对薪水？如果能，谁的最高谁的最低？解释你的推理过程。

38. 五个朋友都能进入聊天室。如果知道下面这些信息，能确定谁在聊天吗？Kevin 或 Heather 或两人都在聊天。Randi 或 Vijay 但不是两人同时在聊天。如果 Abby 在聊天，那么 Randi 也在聊天。Vijay 和 kevin 或者两人都在聊天，或者都不聊天。如果 heather 在聊天，那么 Abby 和 kevin 也在聊天。解释你的推理过程。

39. 一位侦探访谈了罪案的四位证人。从证人的话中侦探得出的结论是：如果男管家说的是真话，那么厨师说的也是真话；厨师和园丁说的不可能都是真话；园丁和杂役不可能都在说谎；如果杂役说真话，那么厨师就在说谎。侦探能分别判定这四位证人是在说真话还是撒谎？解释你的推理过程。

40. 四个朋友被认定为非法进入某计算机系统的嫌疑人。他们已对调查当局做出了陈述。Alice 说：“是 Carlos 干的。” John 说：“我没干。” Carlos 说：“是 Diana 干的。” Diana 说：“Carlos 说是我干的，他说谎。”

a)如果当局还知道四个嫌疑人中恰有一人在说真话，那么是谁作案？解释你的推理过程。

b)如果当局还知道恰有一人在说谎，那么是谁作案？解释你的推理过程。

41. 假设在通往两个房间的门上均写着提示。第一扇门上的提示为“在这个房间里有一位美女，而在另一个房间里则是一只老虎”；在第二扇门上写着“在两个房间中有一个是美女，并且有一个是老虎”。假定你知道其中一个提示是真的，另一个是假的。那么哪扇门后面是美女呢？

Links

42. 试求解下面这个由爱因斯坦提出的著名的逻辑谜题，也称为斑马谜题。五位具有不同国籍和不同工作的人居住在一条街上挨着的5所房子里。每所房子刷着不同的颜色。他们养着不同的宠物，喜欢喝不同的饮料。根据以下提示，试确定谁养斑马（zebra）、谁喜欢喝（饮料之一的）矿泉水。英国人住在红色的房子里。西班牙人养了一条狗。日本人是一个油漆工。意大利人喜欢喝茶。挪威人住在左边的第一所房子里。绿房子紧挨着白房子的右边。摄影师养了一只蜗牛。外交官住在黄房子里。中间那个房子里的人喜欢喝牛奶。绿房子的主人喜欢喝咖啡。挪威人的房子紧挨着蓝色房子。小提琴家喜欢喝橘子汁。养狐狸的人所住的房子与医师的房子相邻。养马的人所住的房子与外交官的房子相邻。[提示：绘一张表，其中行表示每个人，列表示他们房子的颜色、他们的工作、他们养的宠物以及他们喜欢喝的饮料，用逻辑推理来判断表中正确的项。]

43.弗里多尼亚有50名参议员。每名参议员或者诚实的或者不诚实的。假设你知道，至少有一个弗里多尼亚参议员是诚实的，并且任何两个弗里多尼亚参议员中至少有一个是不诚实的。基于这些事实，你是否能确定有多少弗里多尼亚参议员是诚实的？有多少是不诚实的？如果能，答案是什么？

44. 找出每个组合电路的输出。

![](52615de0dc19499df40c00484067e31b31f8c83f155d7ece112901312bd0f830.jpg)

![](c987d72574c47d027e102128b1d7933f8fd5c3d71d57dcb7697f8b4b8989fef9.jpg)

45. 找出每个组合电路的输出。

![](f7c721c647813eff34fb4c5856501e2814ff3fce2edbaf0945a9a20cb783e9f8.jpg)

![](2fd5b3363510e2fde618980e47f9ff985c32bb5fc24b68dd2520da028d6fc385.jpg)

46. 试用逆变器、或门、与门构造一个组合电路，从输入比特 $p$ 、 $q$ 和 $r$ 产生输出（ $p \wedge \neg r$ ）V（ $\neg q \wedge r$ ）。  
47. 试用逆变器、或门、与门构造一个组合电路，从输入比特 $p$ 、 $q$ 和 $r$ 产生输出（ $(\neg p \lor \neg r) \land \neg q)\lor (\neg p \land (q \lor r))$ 。

# 1.3 命题等价式

# 1.3.1 引言

数学证明中使用的一个重要步骤就是用真值相同的一条语句替换另一条语句。因此，从给定复合命题生成具有相同真值命题的方法广泛使用于数学证明的构造。注意我们用术语“复合命题”来指由命题变量通过逻辑运算形成的一个表达式，比如 $p \wedge q$ 。

我们就从根据可能的真值对复合命题进行分类开始讨论。

定义1 一个真值永远是真的复合命题（无论其中出现的命题变量的真值是什么），称为永真式（tautology），也称为重言式。一个真值永远为假的复合命题称为矛盾式（contradiction）。既不是永真式又不是矛盾式的复合命题称为可能式（contingency）。

在数学推理中永真式和矛盾式往往很重要。下面的例1解释了这两类复合命题。

例1我们可以只用一个命题变量来构造永真式和矛盾式。构造 $p \vee \neg p$ 和 $p \wedge \neg p$ 的真值表如表1所示。因为 $p \vee \neg p$ 总是真的，所以它是永真式。因为 $p \wedge \neg p$ 总是假的，所以它是矛盾式。

表 1 永真式和矛盾式的例子

表 2 德・摩根律  

<table><tr><td>p</td><td>¬p</td><td>p ∨ ¬p</td><td>p ∧ ¬p</td></tr><tr><td>T</td><td>F</td><td>T</td><td>F</td></tr><tr><td>F</td><td>T</td><td>T</td><td>F</td></tr></table>

# 1.3.2 逻辑等价式

在所有可能的情况下都具有相同真值的两个复合命题称为逻辑等价的。我们也可以如下定义这一概念。

定义2 如果 $p \leftrightarrow q$ 是永真式，则复合命题 $p$ 和 $q$ 称为是逻辑等价的。用记号 $p \equiv q$ 表示 $p$ 和 $q$ 是逻辑等价的。

评注 符号 $\equiv$ 不是逻辑联结词， $p \equiv q$ 不是一个复合命题，而是代表“ $p \leftrightarrow q$ 是永真式”这一语句。有时候用符号 $\Leftrightarrow$ 来代替 $\equiv$ 表示逻辑等价。

判定两个复合命题是否等价的方法之一是使用真值表。特别地，复合命题 $p$ 和 $q$ 是等价的当且仅当对应它们真值的两列完全一致。例2说明用这个方法建立了一个非常重要且很有用的逻辑等价式，即 $\neg (p \lor q)$ 和 $\neg p \land \neg q$ 等价。这个逻辑等价式是两个德·摩根律之一，如表2所

示。这是以19世纪中叶英国数学家奥古斯塔·德·摩根（Augustus De Morgan）的名字命名的。

例2 证明 $\neg (p \vee q)$ 和 $\neg p \wedge \neg q$ 是逻辑等价的。

$$
\neg (p \wedge q) \equiv \neg p \vee \neg q
$$

$$
\neg (p \vee q) \equiv \neg p \wedge \neg q
$$

解表3给出了这些复合命题的真值表。由于对 $p$ 和 $q$ 所有可能的真值组合，复合命题 $\neg (p \lor q)$ 和 $\neg p \land \neg q$ 的真值都一样，所以 $\neg (p \lor q) \leftrightarrow (\neg p \land \neg q)$ 是永真式，而这两个复合命题是逻辑等价的。

表 3 $\neg \left( {p \vee  q}\right)$ 和 $\neg p \land  \neg q$ 的真值表  

<table><tr><td>p</td><td>q</td><td>\( p \vee  q \)</td><td>\( \neg \left( {p \vee  q}\right) \)</td><td>\( \neg p \)</td><td>\( \neg q \)</td><td>\( \neg p \land  \neg q \)</td></tr><tr><td>T</td><td>T</td><td>T</td><td>F</td><td>F</td><td>F</td><td>F</td></tr><tr><td>T</td><td>F</td><td>T</td><td>F</td><td>F</td><td>T</td><td>F</td></tr><tr><td>F</td><td>T</td><td>T</td><td>F</td><td>T</td><td>F</td><td>F</td></tr><tr><td>F</td><td>F</td><td>F</td><td>T</td><td>T</td><td>T</td><td>T</td></tr></table>

下面的例子建立了一个极其重要的等价式，该等价式允许我们用否定和析取来代替条件语句。

例3 证明命题 $p \to q$ 和 $\neg p \lor q$ 逻辑等价。

解 我们在表4中构造了这两个复合命题的真值表。由于 $\neg p \lor q$ 和 $p \rightarrow q$ 的真值一致，所以它们是逻辑等价的。

表 4 $\neg p \vee q$ 和 $p \rightarrow  q$ 的真值表  

<table><tr><td>p</td><td>q</td><td>¬p</td><td>¬p ∨ q</td><td>p → q</td></tr><tr><td>T</td><td>T</td><td>F</td><td>T</td><td>T</td></tr><tr><td>T</td><td>F</td><td>F</td><td>F</td><td>F</td></tr><tr><td>F</td><td>T</td><td>T</td><td>T</td><td>T</td></tr><tr><td>F</td><td>F</td><td>T</td><td>T</td><td>T</td></tr></table>

现在，我们将为涉及三个不同命题变量 $p$ 、 $q$ 、 $r$ 的两个复合命题建立逻辑等价式。要用真值表来建立这样的逻辑等价式，真值表需要有八行，每一行对应三个变量的一种可能真值组合。我们通过分别列出 $p$ 、 $q$ 、 $r$ 的真值来标记这些组合。这八种真值组合是 TTT、TTF、TFT、FTT、FTF、FFT 以及 FFF。我们用这个顺序来展示真值表的行。注意当我们用真值表来证明复合命题等价时，每增加一个命题变量，真值表的行数就要翻倍，这样对于涉及 4 个命题变量的复合命题就需要 16 行来建立其逻辑等价，以此类推。如果一个复合命题由 $n$ 个命题变量组成，则需要 $2^n$ 行。由于 $2^n$ 的快速增长，我们需要用更有效的方法来建立逻辑等价式，比如使用已知的等价式。稍后将讨论这项技术。

例4 证明命题 $p \vee (q \wedge r)$ 和 $(p \vee q) \wedge (p \vee r)$ 是逻辑等价的。这是析取对合取的分配律。

解 我们在表5中构造了这两个复合命题的真值表。因为 $p \vee (q \wedge r)$ 和 $(p \vee q) \wedge (p \vee r)$ 的真值一样，所以这两个复合命题是逻辑等价的。

表 5 $p \vee  \left( {q \land  r}\right)$ 和 $\left( {p \vee  q}\right)  \land  \left( {p \lor  r}\right)$ 是逻辑等价的证明  

<table><tr><td>p</td><td>q</td><td>r</td><td>q ∧ r</td><td>p ∨ (q ∧ r)</td><td>p ∨ q</td><td>p ∨ r</td><td>(p ∨ q) ∧ (p ∨ r)</td></tr><tr><td>T</td><td>T</td><td>T</td><td>T</td><td>T</td><td>T</td><td>T</td><td>T</td></tr><tr><td>T</td><td>T</td><td>F</td><td>F</td><td>T</td><td>T</td><td>T</td><td>T</td></tr><tr><td>T</td><td>F</td><td>T</td><td>F</td><td>T</td><td>T</td><td>T</td><td>T</td></tr><tr><td>T</td><td>F</td><td>F</td><td>F</td><td>T</td><td>T</td><td>T</td><td>T</td></tr><tr><td>F</td><td>T</td><td>T</td><td>T</td><td>T</td><td>T</td><td>T</td><td>T</td></tr><tr><td>F</td><td>T</td><td>F</td><td>F</td><td>F</td><td>T</td><td>F</td><td>F</td></tr><tr><td>F</td><td>F</td><td>T</td><td>F</td><td>F</td><td>F</td><td>T</td><td>F</td></tr><tr><td>F</td><td>F</td><td>F</td><td>F</td><td>F</td><td>F</td><td>F</td><td>F</td></tr></table>

表6给出了若干重要的等价式。在这些等价关系中，T表示永远为真的复合命题，F表示永远为假的复合命题。对于涉及条件语句和双条件语句的复合命题，我们分别在表7和表8中

给出了一些有用的等价式。本节练习要求读者证明表 $6\sim$ 表8的等价式。

表 6 逻辑等价式  

<table><tr><td>等价式</td><td>名称</td></tr><tr><td>p∧T≡p</td><td rowspan="2">恒等律</td></tr><tr><td>p∨F≡p</td></tr><tr><td>p∨T≡T</td><td rowspan="2">支配律</td></tr><tr><td>p∧F≡F</td></tr><tr><td>p∨p≡p</td><td rowspan="2">幂等律</td></tr><tr><td>p∧p≡p</td></tr><tr><td>¬(¬p)≡p</td><td>双重否定律</td></tr><tr><td>p∨q≡q∨p</td><td rowspan="2">交换律</td></tr><tr><td>p∧q≡q∧p</td></tr><tr><td>(p∨q)∨r≡p∨(q∨r)</td><td rowspan="2">结合律</td></tr><tr><td>(p∧q)∧r≡p∧(q∧r)</td></tr><tr><td>p∨(q∧r)≡(p∨q)∧(p∨r)</td><td rowspan="2">分配律</td></tr><tr><td>p∧(q∨r)≡(p∧q)∨(p∧r)</td></tr><tr><td>¬(p∧q)≡¬p∨¬q</td><td rowspan="2">德·摩根律</td></tr><tr><td>¬(p∨q)≡¬p∧¬q</td></tr><tr><td>p∨(p∧q)≡p</td><td rowspan="2">吸收律</td></tr><tr><td>p∧(p∨q)≡p</td></tr><tr><td>p∨¬p≡T</td><td rowspan="2">否定律</td></tr><tr><td>p∧¬p≡F</td></tr></table>

表 7 条件命题的逻辑等价式  

<table><tr><td>p→q≡¬p∨q</td></tr><tr><td>p→q≡¬q→¬p</td></tr><tr><td>p∨q≡¬p→q</td></tr><tr><td>p∧q≡¬(p→¬q)</td></tr><tr><td>¬(p→q)≡p∧¬q</td></tr><tr><td>(p→q)∧(p→r)≡p→(q∧r)</td></tr><tr><td>(p→r)∧(q→r)≡(p∨q)→r</td></tr><tr><td>(p→q)∨(p→r)≡p→(q∨r)</td></tr><tr><td>(p→r)∨(q→r)≡(p∧q)→r</td></tr></table>

表 8 双条件命题的逻辑等价式  

<table><tr><td>p←q≡(p→q) ∧ (q→p)</td></tr><tr><td>p←q≡¬p←¬q</td></tr><tr><td>p←q≡(p ∧ q) ∨ (¬p ∧ ¬q)</td></tr><tr><td>¬(p←q)≡p←¬q</td></tr></table>

析取的结合律表明表达式 $p \lor q \lor r$ 在下面的意义下是良定义的：无论是先做 $p$ 和 $q$ 的析取再做 $p \lor q$ 和 $r$ 析取，还是先做 $q$ 和 $r$ 的析取再做 $p$ 和 $q \lor r$ 的析取，其结果都是一样的。同样， $p \land q \land r$ 也是良定义的。扩展这一推理过程可以得到：只要 $p_1, p_2, \dots, p_n$ 为命题， $p_1 \lor p_2 \lor \dots \lor p_n$ 和 $p_1 \land p_2 \land \dots \land p_n$ 均有定义。

另外，注意到德·摩根律可以扩展为

$$
\neg (p _ {1} \vee p _ {2} \vee \dots \vee p _ {n}) \equiv (\neg p _ {1} \wedge \neg p _ {2} \wedge \dots \wedge \neg p _ {n})
$$

和

$$
\neg (p _ {1} \wedge p _ {2} \wedge \dots \wedge p _ {n}) \equiv (\neg p _ {1} \vee \neg p _ {2} \vee \dots \vee \neg p _ {n})
$$

我们有时用符号 $\bigvee_{j=1}^{n} p_{j}$ 来表示 $p_{1} \vee p_{2} \vee \cdots \vee p_{n}$ ，用 $\bigwedge_{j=1}^{n} p_{j}$ 来表示 $p_{1} \wedge p_{2} \wedge \cdots \wedge p_{n}$ 。采用这种记法扩展的德·摩根律就可以简洁地写成 $\neg \left( \bigvee_{j=1}^{n} p_{j} \right) \equiv \bigwedge_{j=1}^{n} \neg p_{j}$ 和 $\neg \left( \bigwedge_{j=1}^{n} p_{j} \right) \equiv \bigvee_{j=1}^{n} \neg p_{j}$ 。（这些恒等式的证明方法将在5.1节给出。）

为了证明两个有 $n$ 个变量的复合命题等价需要使用具有 $2^{n}$ 行的真值表。（注意，每增加一个命题变量行数就会翻倍。这类计数问题的求解请参见第6章。）由于随着 $n$ 的增加，行数增加异常迅速（参见3.2节），所以，随着变量数的增加，利用真值表来建立等价式就变得不切实际。其他方法会更快捷一些，比如利用我们已知的逻辑等价式，这将在本节稍后进行讨论。

# 1.3.3 德·摩根律的运用

两个德·摩根律的逻辑等价式特别重要。它们告诉我们怎么取合取的否定和析取的否定。特别地，等价式 $\neg (p \lor q) \equiv \neg p \land \neg q$ 告诉我们一个析取式的否定是由各分命题否定的合取式组成的。同理，等价式 $\neg (p \land q) \equiv \neg p \lor \neg q$ 告诉我们一个合取式的否定是由各分命题否定的析取式组成的。例5说明了德·摩根律的应用。

或Steve将去听音乐会”的否定。

解 令 $p$ 为“Miguel有一部手机”， $q$ 为“Miguel有一个便携式计算机”，那么“Miguel有一部手机且有一台便携式计算机”可以表达为 $p \wedge q$ 。用德·摩根第一定律， $\neg (p \wedge q)$ 等价于 $\neg p \vee \neg q$ 。因此，我们可以将原命题的否定表达为“Miguel没有一部手机或Miguel没有一台便携式计算机”。

令 $r$ 为“Heather将去听音乐会”， $s$ 为“Steve将去听音乐会”，那么“Heather或Steve将去听音乐会”可以表达为 $r \vee s$ 。用德·摩根第二定律， $\neg (r \vee s) \equiv \neg r \wedge \neg s$ 。结果，我们可以将原命题的否定表达为“Heather和Steve都将不去听音乐会”。

# 1.3.4 构造新的逻辑等价式

表6中的逻辑等价式以及已经建立起来的其他（如表7和表8所示的那些）等价式，可以用于构造更多的等价式。能这样做的原因是复合命题中的一个命题可以用与它逻辑等价的复合命题替换而不改变原复合命题的真值。这种方法可由例 $6\sim$ 例8得到说明，其中，我们还使用了如下事实：如果 $p$ 和 $q$ 是逻辑等价的， $q$ 和 $r$ 是逻辑等价的，那么 $p$ 和 $r$ 也是逻辑等价的（见练习60）。

例6 证明 $\neg (p\to q)$ 和 $p\wedge \neg q$ 是逻辑等价的。

解 我们可以用真值表来证明这两个复合命题是等价的（与例4中的方法相似）。事实上，这样做并不难。然而，我们想要解释如何用我们已知的逻辑恒等式来建立新的逻辑恒等式，这在建立涉及大量变量的复合命题等价式时具有很重要的实用性。因此，我们以 $\neg (p \rightarrow q)$ 为开始，通过展开一系列逻辑等价式的方法，每次用表6中的一个等价式，最后以 $p \wedge \neg q$ 结束，从而建立这个等价式。我们有下列等价式。

$$
\begin{array}{l} \neg (p \rightarrow q) \equiv \neg (\neg p \vee q) \quad \text {由 条 件 － 析 取 等 价 式 (例 3)} \\ \equiv \neg (\neg p) \wedge \neg q \quad \text {由 德} \cdot \text {摩 根 第 二 定 律} \\ \equiv p \wedge \neg q \quad \text {由 双 重 否 定 律} \\ \end{array}
$$

例7 通过展开一系列逻辑等价式来证明 $\neg (p \lor (\neg p \land q))$ 和 $\neg p \land \neg q$ 是逻辑等价的。

# Links

![](bcad1eaa61446b8294cb40178070fdfd002a3bfab90dfcaff5861f7466ae1917.jpg)  
$\odot$ Bettmann/Getty Images

奥古斯塔·德·摩根（Augustus De Morgan，1806—1871）奥古斯塔·德·摩根生于印度，他父亲是印度陆军上校。德·摩根7个月大时全家移居英国。他上了私立学校，少年时期在那里展现出了对数学的浓厚兴趣。德·摩根在剑桥三一学院上学，并于1827年毕业。尽管他想过要学医或学法律，最后还是决定以数学为毕生事业。1828年他获得了伦敦大学学院的一个职位，但当他的一位教授同事被无故解雇时他辞职了。不过，在1836年他的继任人去世后他又回到了自己的位置，直到1866年。

德·摩根以强调原理胜于技术而著名。他的学生中有许多是著名的数学家，包括拉弗雷斯伯爵夫人奥古斯塔·艾达（Augusta Ada），她是巴贝奇(Charles Babbage)

研究计算机器的合作者（参见关于Augusta Ada的生平注释）。（德·摩根曾告诫伯爵夫人不要用过多的时间来研究数学，因为它可能会干扰她的生育能力！)

德·摩根是一位特别多产的作家，在超过15家期刊上发表了1000多篇文章。德·摩根还为许多学科撰写课本，包括逻辑、概率、微积分和代数。1838年，他首次给出了他命名的数学归纳法这一重要证明技术的清晰解释（本书5.1节将会讨论）。1840年代德·摩根对符号逻辑的发展做出了奠基性的贡献。他发明了一些表示法帮助他证明命题等价式，其中包括以他的名字命名的定律。1842年，德·摩根给出了被认为是第一个准确的极限定义，并提出了无穷数列收敛的若干检验标准。德·摩根还对数学史很有兴趣，撰写了牛顿和哈雷的生平传记。

1837年，德·摩根与弗伦德(SophiaFrend)结婚，后者在1882年撰写了德·摩根传记。德·摩根的研究、写作和教学使他无暇顾及家庭和社交。不过他的善良、幽默及广博的知识是闻名于世的。

解 我们每次使用表6中的一个等价关系，从 $\neg (p \vee (\neg p \wedge q))$ 开始，一直到 $\neg p \wedge \neg q$ 结束。（注意：我们当然可以用真值表很容易地建立这个等价式。）我们有下列等价式。

<table><tr><td>¬(p∨(¬p∧q))</td><td>≡¬p∧¬(¬p∧q)</td><td>由德·摩根第二定律</td></tr><tr><td></td><td>≡¬p∧[¬(¬p)∨¬q]</td><td>由德·摩根第一定律</td></tr><tr><td></td><td>≡¬p∧(p∨¬q)</td><td>由双重否定律</td></tr><tr><td></td><td>≡(¬p∧p)∨(¬p∧¬q)</td><td>由第二分配律</td></tr><tr><td></td><td>≡F∨(¬p∧¬q)</td><td>因为¬p∧p≡F</td></tr><tr><td></td><td>≡(¬p∧¬q)∨F</td><td>由析取的交换律</td></tr><tr><td></td><td>≡¬p∧¬q</td><td>由F的恒等律</td></tr></table>

于是 $\neg (p\lor (\neg p\land q))$ 和 $\neg p\land \neg q$ 是逻辑等价的。

例8 证明 $(p \wedge q) \rightarrow (p \vee q)$ 为永真式。

解 为证明这个命题是永真式，我们将用逻辑等价式来证明它逻辑上等价于 $\mathbf{T}$ 。（注意：这也可以用真值表来完成。）

<table><tr><td>(p∧q)→(p∨q)≡¬(p∧q)∨(p∨q)</td><td>由例3</td></tr><tr><td>≡¬(¬p∨¬q)∨(p∨q)</td><td>由德·摩根第一定律</td></tr><tr><td>≡¬(¬p∨p)∨(¬q∨q)</td><td>由析取的结合律和交换律</td></tr><tr><td>≡T∨T</td><td>由例1和析取的交换律</td></tr><tr><td>≡T</td><td>由支配律</td></tr></table>

Links

![](0ea3649b6715acbf027e9da099cfb82cec563be400a3e39d553712989a783edd.jpg)  
©Hilton Archive/Getty Images

拉弗雷斯伯爵夫人奥古斯塔·艾达（Augusta Ada，1815—1852）奥古斯塔·艾达是著名诗人拜伦（Byron）勋爵和拜伦夫人安娜贝纳·米尔班克（Annabella Millbanke）的唯一孩子。由于拜伦与他同父异母的妹妹之间的丑闻，他们在艾达1个月大时就分居了。拜伦名声很差，被他的一个情人描述为“疯狂、邪恶和危险的”。拜伦夫人的智力出众，对数学情有独钟。拜伦称她为“平行四边形的公主”。艾达由母亲抚养，母亲鼓励其在智力上尤其是音乐和数学方面的天赋，以应对拜伦夫人认为的向诗歌方面发展的危险倾向。那时，女人不允许上大学，也不能加入学术团体。然而艾达追求她的数学研究，或独立研究或私下与威廉·弗伦德（William Frend）等

数学家合作研究。她也得到另一位女性数学家玛丽·萨默维尔(Mary Somerville)的鼓励，并且在1834年由玛丽·萨默维尔主持的一个晚宴上，她了解到查理·巴贝奇(Charles Babbage)关于一种称为分析机的计算机器的一些想法。1838年，艾达和金(King)爵士结婚，此人后来晋升为拉弗雷斯伯爵。他们一共有3个孩子。

艾达结婚后仍坚持她的数学研究。查理·巴贝奇继续在计算机方面工作，并在欧洲各地做演讲。1842年，巴贝奇请求艾达用法语翻译一篇关于巴贝奇发明的文章。当巴贝奇看到她的翻译时，他建议艾达加上自己的注释，结果文章长度是原文的三倍。关于分析机最完整的解释可在艾达的笔记中找到。在笔记中，她将分析机和Jacquard式的提花织布机工作原理进行比较，巴贝奇的打孔卡片类似于织布机上创建图案的卡片。此外，她认定该机器作为通用计算机已超乎巴贝奇的想象。她叙述道：“此分析机是具有不同通用性和复杂性的任意不定计算功能的物质体现。”她在笔记中对分析机的未来发展做出了许多预期，包括计算机生成的音乐。考虑到当时认为女人不具有与男人同等的智力，艾达就像许多女人一样隐瞒其女性身份，用其名字的缩写A.A.L出版了她的著作。1845年以后，艾达与巴贝奇一同致力于预测赛马结果系统的研究。遗憾的是，他们的系统不能运行，艾达还因此欠下大笔债务。她因患有子宫癌而英年早逝。

艾达关于分析机的笔记在撰写后不久就已经被遗忘了，而在100多年之后的1953年又重新出版了。在20世纪50年代，阿兰·图灵在他关于计算机思考的能力（以及他具有深远影响的判定机器是否具有智能的图灵测试）的著作中回应了艾达的命题：“不管原本目标是什么，分析机没有任何自夸。它能做任何我们所知道的如何命令它去做的事情。”图灵和艾达的“对话”至今仍是争论的话题。由于她在计算领域杰出的贡献，程序设计语言Ada就是为纪念这位伯爵夫人而命名的。

# 1.3.5 可满足性

一个复合命题称为是可满足的，如果存在一个对其变量的真值赋值使其为真（即当它是一个永真式或可满足式时）。当不存在这样的赋值时，即当复合命题对所有变量的真值赋值都是假的，则复合命题是不可满足的。注意一个复合命题是不可满足的当且仅当它的否定对所有变量的真值赋值都是真的，也就是说，当且仅当它的否定是永真式。

当我们找到一个特定的使得复合命题为真的真值赋值时，就证明了它是可满足的。这样的一个赋值称为这个特定的可满足性问题的一个解。可是，要证明一个复合命题是不可满足的，我们需要证明每一组变量的真值赋值都使其为假。尽管我们总是可以用真值表来确定一个复合命题是否是可满足的，但通常有更有效的方法，如例9所示。

例9 试确定下列复合命题是否可满足： $(p \vee \neg q) \wedge (q \vee \neg r) \wedge (r \vee \neg p), (p \vee q \vee r) \wedge (\neg p \vee \neg q \vee \neg r)$ ，以及 $(p \vee \neg q) \wedge (q \vee \neg r) \wedge (r \vee \neg p) \wedge (p \vee q \vee r) \wedge (\neg p \vee \neg q \vee \neg r)$ 。

解 我们不采用真值表解题，而对真值做一些推理。注意当三个变量 $p$ 、 $q$ 和 $r$ 具有相同真值时， $(p \lor \neg q) \land (q \lor \neg r) \land (r \lor \neg p)$ 为真（参见1.1节的练习42）。因此，至少存在一组 $p$ 、 $q$ 和 $r$ 的真值赋值使它为真，故它是可满足的。同样，注意当三个变量 $p$ 、 $q$ 和 $r$ 中至少有一个为真并且至少有一个为假时， $(p \lor q \lor r) \land (\neg p \lor \neg q \lor \neg r)$ 为真（参见1.1节的练习43）。因此，至少存在一组 $p$ 、 $q$ 和 $r$ 的真值赋值使它为真，故 $(p \lor q \lor r) \land (\neg p \lor \neg q \lor \neg r)$ 是可满足的。

最后，注意要使 $(p \lor \neg q) \land (q \lor \neg r) \land (r \lor \neg p) \land (p \lor q \lor r) \land (\neg p \lor \neg q \lor r)$ 为真， $(p \lor \neg q) \land (q \lor \neg r) \land (r \lor \neg p)$ 和 $(p \lor q \lor r) \land (\neg p \lor \neg q \lor \neg r)$ 必须同时为真。要使得第一个为真，三个变量必须具有相同的真值；而要使得第二个为真，三个变量中至少有一个必须为真并且至少有一个必须为假。可是，这两个条件是相互矛盾的。从这些观察中我们可以得出不存在 $p$ 、 $q$ 和 $r$ 的真值赋值使得 $(p \lor \neg q) \land (q \lor \neg r) \land (r \lor \neg p) \land (p \lor q \lor r) \land (\neg p \lor \neg q \lor r)$ 为真。因此，它是不可满足的。

# 1.3.6 可满足性的应用

在机器人学、软件测试、人工智能规划、计算机辅助设计、机器视觉、集成电路设计、计算机网络以及遗传学等不同领域中，许多问题都可以用命题的可满足性来建立模型。大多数这些应用相当复杂且超出本书的范围。本节选取两个谜题，通过命题可满足性对其进行建模。

例10 $n$ 皇后问题 $n$ 皇后问题要求在一个 $n \times n$ 的棋盘上放置 $n$ 个皇后，目的是使皇后之

间不能相互吃掉。这意味着没有两个皇后被放置在同一行、同一列或同一对角线上。我们在图1中给出了八皇后问题的一个解。（八皇后问题可以追溯到1848年，由Max Bezzel提出，由Franz Nauck在1850年彻底解决。我们在11.4节将再次讨论 $n$ 皇后问题。）

为了利用可满足性对 $n$ 皇后问题建模，我们引入 $n^2$ 个变量 $p(i, j), i = 1, 2, \dots, n, j = 1, 2, \dots, n$ 。对于皇后在棋盘上的放置方法，当在第 $i$ 行第 $j$ 列的方块上有皇后时， $p(i, j)$ 为真，否则为假。注意，如果 $i + i' = j + j'$ 或者 $i - i' = j - j'$ ，则表示 $(i, j)$ 方块和 $(i', j')$ 方块在同一条对角线上。在图1的棋盘上， $p(6, 2)$ 和 $p(2, 1)$ 为真，而 $p(3, 4)$ 和 $p(5, 4)$ 为假。

![](6944a5eeab01b378a7863a88ff11d78e566cef225edbed5c1dc2b30dbb3b4c3e.jpg)  
图1

为了使 $n$ 个皇后中的任意两个不在同一行，每行必须有一个皇后。为了表明每一行有一个皇后，可以通过每一行至少包含一个皇后以及每一行最多包含一个皇后来检验。我们首先注意

到， $\bigvee_{j = 1}^{n}p(i,j)$ 断言第 $i$ 行至少包含一个皇后，而

$$
Q _ {1} = \bigwedge_ {i = 1} ^ {n} \bigvee_ {j = 1} ^ {n} p (i, j)
$$

断言每一行至少包含一个皇后。

对于每一行最多包含一个皇后，则当整数 $j$ 和 $k$ 满足 $1 \leqslant j < k \leqslant n$ 时必须有 $p(i, j)$ 和 $p(k, j)$ 不能同时为真。观察到 $\neg p(i, j) \lor \neg p(i, k)$ 断言至少 $\neg p(i, j)$ 和 $\neg p(i, k)$ 之一为真，这意味着 $p(i, j)$ 和 $p(i, k)$ 中有一个为假。所以，要检测每一行最多有一个皇后，我们断言

$$
Q _ {2} = \bigwedge_ {i = 1} ^ {n} \bigwedge_ {j = 1} ^ {n - 1} \bigwedge_ {k = j + 1} ^ {n} (\neg p (i, j)) \vee (\neg p (k, j))
$$

为了检验没有一列有多个皇后，我们断言

$$
Q _ {3} = \bigwedge_ {j = 1} ^ {n} \bigwedge_ {i = 1} ^ {n - 1} \bigwedge_ {k = i + 1} ^ {n} (\neg p (i, j)) \vee (\neg p (k, j))
$$

（这个断言加上前面每行包含一个皇后的断言，蕴含每一列包含一个皇后。）

为了检验没有对角线上包含两个皇后，我们断言

$$
Q _ {4} = \bigwedge_ {i = 2} ^ {n} \bigwedge_ {j = 1} ^ {n - 1} \bigwedge_ {k = 1} ^ {\min  (i - 1, n - j)} (\neg p (i, j)) \vee (\neg p (i - k, k + j))
$$

和

$$
Q _ {5} = \bigwedge_ {i = 1} ^ {n} \bigwedge_ {j = 1} ^ {n - 1} \bigwedge_ {k = 1} ^ {\min  (n - i, n - j)} (\neg p (i, j)) \vee (\neg p (i + k, j + k))
$$

$(i,j)$ 对在 $Q_{4}$ 和 $Q_{5}$ 中最内层的合取，从 $(i,j)$ 位置开始的对角线一直向右。这些最内层合取的上限就是对角线在棋盘上的最后一个单元。

综合上述讨论，我们可以找到 $n$ 皇后问题的解，即使得式

$$
Q = Q _ {1} \wedge Q _ {2} \wedge Q _ {3} \wedge Q _ {4} \wedge Q _ {5}
$$

为真的变量 $p(i,j)$ 的真值赋值，其中， $i = 1$ ，2，…， $n$ ， $j = 1$ ，2，…， $n$ 。

利用这个方法并结合其他方法，对于 $n \leqslant 27$ ，可以计算出 $n$ 个皇后在棋盘上不同的摆法，以使皇后之间不能相互吃掉。当 $n = 8$ 时，有92种摆法，而当 $n = 16$ 时，这个数目高达14772512。（细节请参见2.4节关于OEIS的讨论。）

例11数独 数独谜题可表示为一个 $9\times 9$ 格（也称为大九宫格），它由9个称为九宫格

(block)的 $3 \times 3$ 子格组成，如图2所示。每一个谜题，81个单元中的一部分被赋予1，2，…，9中的数字之一，称为已知单元，其他单元空着。谜题的解题是通过给每个空白单元格赋予一个数字来实现，使得每一行、每一列、每个小九宫格都包含九个不同的数字。注意，除了用 $9 \times 9$ 格，数独谜题也可以基于 $n^2 \times n^2$ 格，它由 $n^2$ 个 $n \times n$ 的子格构成，其中 $n$ 是任意正整数。

数独的流行源于20世纪80年代，当时刚传入日本。传遍世界各地大概用了20年时间，但是截至2005年，数独谜题已经风靡全球。名称数独是日文sujiwa dokushinnikagiru的缩写，意思是“数字必须唯一”。现代的数独游戏是由一个美国

![](d6367adfb2430708b364b7aea0b0bef47c2f0204ea09fe05b158c935f3b8d264.jpg)  
图2 一个 $9 \times 9$ 数独谜题

谜题设计者在20世纪70年代末期设计的。数独的基本概念可以追溯到更久远的时候；19世纪90年代法国报纸上刊印的谜题和现代数独虽然不完全相同但也是非常类似的。

娱乐性的数独游戏还有两个重要的特性。第一，它们的解唯一。第二，可以通过推理来求解，即不需要寻求所有可能的单元格数字赋值。一个数独谜题的解题过程就是根据已知的值不断地确定空白单元中该填的数字。如以图2为例，数字4必须在第二行的某个单元中恰好出现一次。我们如何能确定它应该出现在七个空白单元的哪一个呢？首先，我们观察到4不能出现

在这一行的前三个单元之一或后三个单元之一，因为它已经出现在这些单元所在的九宫格的另一个单元中了。我们可以看到4不能出现在这一行的第5个单元，因为它已经出现在第4行的第5个单元了。这意味着4必须出现在第2行的第6个单元中。

已经有许多基于逻辑和数学的策略用于求解数独谜题（比如，参见[Da10]）。这里我们讨论一种借助于计算机来求解数独谜题的方法，它是基于对谜题建模为一个命题可满足性问题。用这个模型，特定的数独谜题就可以用解决可满足性问题的软件来求解了。目前，采用这种方式能在10毫秒内解决数独谜题。应该注意还有许多借助计算机采用其他技术来求解数独谜题的其他方法。

为了对数独谜题编码，令 $p(i, j, n)$ 表示一个命题，当数 $n$ 位于第 $i$ 行和第 $j$ 列的单元时它为真。因为 $i$ 、 $j$ 和 $n$ 的取值范围都是 $1 \sim 9$ ，所以总共有 $9 \times 9 \times 9 = 729$ 个这样的命题。例如，对于如图2所示的谜题，已知数6位于第5行和第1列。故我们得出 $p(5, 1, 6)$ 为真，而 $p(5, j, 6)$ 均为假，其中 $j = 2, 3, \dots, 9$ 。

给定一个数独谜题，我们首先对每一个已知数进行编码。然后，我们构造一些复合命题来断言每一行包含了每一个数、每一列包含了每一个数、每一个 $3 \times 3$ 九宫格包含了每一个数，并且每个单元不包含多于一个数。接下来，读者可以自己验证，数独谜题可以通过寻找一个真值赋值来求解，该真值赋值为729个 $p(i, j, n)$ （其中 $i$ 、 $j$ 和 $n$ 的取值范围都是 $1 \sim 9$ ）命题赋值，并且使得所有这些复合命题的合取式为真。下面先列出这些断言，我们再来解释如何构造每一行包含了 $1 \sim 9$ 的每一个整数这样的断言。我们将另外两个每一列包含了每一个数和每一个 $3 \times 3$ 九宫格包含每一个数的断言构造留到练习中。

- 对于已知数的每个单元，当第 $i$ 行和第 $j$ 列的单元中是已知数 $n$ 时，我们断言 $p(i, j, n)$ 。  
- 我们断言每一行包含了每一个数：

$$
\bigwedge_ {i = 1} ^ {9} \bigwedge_ {n = 1} ^ {9} \bigvee_ {j = 1} ^ {9} p (i, j, n)
$$

- 我们断言每一列包含了每一个数：

$$
\bigwedge_ {j = 1} ^ {9} \bigwedge_ {n = 1} ^ {9} \bigvee_ {i = 1} ^ {9} p (i, j, n)
$$

- 我们断言每一个九宫格包含了每一个数：

$$
\bigwedge_ {r = 0} ^ {2} \bigwedge_ {s = 0} ^ {2} \bigwedge_ {n = 1} ^ {9} \bigvee_ {i = 1} ^ {3} \bigvee_ {j = 1} ^ {3} p (3 r + i, 3 s + j, n)
$$

- 要断言没有一个单元包含多于一个数，我们对所有可能的 $p(i, j, n) \rightarrow \neg p(i, j, n')$ 取合取，其中 $n, n', i$ 和 $j$ 的取值范围是 $1 \sim 9$ 并且 $n \neq n'$ 。

现在，我们来解释如何构造每一行包含了每一个数这样的断言的。首先，要断言第 $i$ 行包含数 $n$ ，我们构成 $\bigvee_{j = 1}^{9}p(i,j,n)$ 。要断言第 $i$ 行包含所有 $n$ 个数，我们将 $n$ 的所有九个可能值的析取式做合取，得到 $\bigwedge_{n = 1}^{9}\bigvee_{j = 1}^{9}p(i,j,n)$ 。最后，要断言每一行包含了每一个数，我们将所有九行的 $\bigwedge_{n = 1}^{9}\bigvee_{j = 1}^{9}p(i,j,n)$ 做合取。这就是 $\bigwedge_{i = 1}^{9}\bigwedge_{n = 1}^{9}\bigvee_{j = 1}^{9}p(i,j,n)$ 。(练习71和72要求给出下述断言的解释：每一列包含了每一个数和每一个 $3\times 3$ 九宫格包含了每一个数。）

给定一个数独谜题，要求解这个谜题，我们可以寻找一个可满足性问题的解，该问题要求一组729个变量 $p(i,j,n)$ 的真值，使得所有列出的断言的合取式为真。

# 1.3.7 可满足性问题求解

真值表可以用于判定复合命题是否为可满足的，或者等价地，其否定是否为永真式（参见

练习64)。这个问题对于只含少量变量的复合命题而言可以通过手动来完成，但当变量数目增多时，就变得不切实际了。例如，对于一个含20个变量的复合命题，它的真值表就有 $2^{20} = 1048576$ 行。因此，如果采用这种方式，你就需要一台计算机帮助你判定含20个变量的复合命题是否为可满足式。

当许多应用建模涉及成千上万个变量的复合命题的可满足性时，问题就来了。注意，当变量数为1000时，要检查 $2^{1000}$ 种（这是一个超过300位的十进制数）可能的真值组合中的每一种，一台计算机在几万亿年之内都不可能完成。迄今尚没有其他已知的计算过程能使计算机在合理的时间之内判定变量数这么大的复合命题是否为可满足式。可是，在实际应用中某些特定类型的复合命题的可满足性问题求解方法还是有一些进展，比如数独谜题的求解。已经开发出许多计算机程序可以用来求解有实际应用的可满足性问题。在第3章讨论算法主题时，我们将进一步讨论这个问题。特别是，我们将解释命题可满足性问题在算法复杂度学习中扮演的重要角色。

# 练习

1. 用真值表验证下列等价式。

a) $p\wedge \mathrm{T}\equiv p$

b) $p\vee \mathbf{F}\equiv p$

c) $p\wedge \mathbf{F}\equiv \mathbf{F}$

d) $p\vee \mathbf{T}\equiv \mathbf{T}$

e) $p\lor p\equiv p$

f) $p\wedge p\equiv p$

2. 证明 $\neg (\neg p)$ 和 $p$ 是逻辑等价的。

3. 用真值表验证交换律。

a) $p \vee q \equiv q \vee p$

b) $p\wedge q\equiv q\wedge p$

4. 用真值表验证结合律

a) $(p\lor q)\lor r\equiv p\lor (q\lor r)$

b) $(p\wedge q)\wedge r\equiv p\wedge (q\wedge r)$

5. 用真值表验证分配律。

$p\wedge (q\lor r)\equiv (p\wedge q)\lor (p\land r)$

6. 用真值表证明德·摩根第一定律。

$\neg (p \wedge q) \equiv \neg p \vee \neg q$

# Links

![](21f9353079bbe2d4e00c1916f9db194db1dcd5b7d5e6cd28f5d6d7876206e611.jpg)  
Courtesy of Harvard University Portrait Collection, Department of Philosophy

亨利·莫里斯·谢佛（Henry Maurice Sheffer，1883—1964）亨利·莫里斯·谢佛出生在乌克兰西部的一个犹太人家庭，1892年随父母和六个兄弟姐妹一起移民到美国。他先在波士顿的拉丁语学校学习，后进入哈佛大学学习，并于1905年完成本科学位，1907年获得硕士学位，1908年获得哲学系的博士学位。在哈佛大学获得到一个博士后职位后，亨利到欧洲游学。回到美国他成了一个学术游子，各花一年时间在华盛顿大学、康奈尔大学、明尼苏达大学、密苏里大学、纽约城市大学。1916年重返哈佛大学任哲学系教员。他一直在哈佛大学直到1952年退休。

1931年谢佛引入了我们现在知道的(Sheffer)竖线，这只是在怀德海和罗素的《数学原理》(Principia Mathematica)1952年版中使用后才广为流传。在该版本中，罗素

写道谢佛发明了一种很有效的方法可以使得《原理》(Principia)一书更简洁。正因为如此，谢佛对于逻辑学家而言还是神秘的人物，特别是由于谢佛在其职业生涯中很少出版著作，从来没有发表过这个方法的细节，而仅仅在一个油印笔记和一份出版的简短摘要里描述过。

谢佛是数理逻辑的专职教师。他喜欢小班上课并且不喜欢有人旁听。当有陌生人出现在教室里时，谢佛会责令其离开，即使是他的同事甚至到访哈佛的嘉贵宾也不例外。谢佛身高只有5英尺，以其机智和活力为人所知，当然还有他的神经质和烦躁不安。尽管广受欢迎，但他还是相当孤独。他在退休演讲时的一句妙语广为人知：“老教授永远不会死去，他们刚成为名誉教授。”谢佛也是“布尔代数”一词的创造者（本书第12章的内容）。谢佛有过一次短暂的婚姻，大部分时间都在一家旅馆的小房间里度过，房间里摆满了逻辑类书籍以及大量散落的他用来记录想法的纸张。不幸的是，谢佛在其生命最后的20年一直承受着严重的抑郁症。

7. 用德·摩根律求下列命题的否定。

a)Jan是富裕的，并且是快乐的。

b) Carlos 明天骑自行车或者跑步。

c)Mei步行或乘公共汽车去上课。

d) Ibrahim 既聪明又用功。

8. 用德·摩根律求下列命题的否定。

a) Kwame 将在工业界找一份工作或者去研究生院读书。  
b) Yoshiko 掌握 Java 和微积分。  
c)James年轻并且强壮。  
d)Rita将搬到俄勒冈州或华盛顿去。

9. 对于下面的每一个复合命题，用条件一析取等价式（例3）找出不含条件的等价复合命题。

a) $p\to \neg q$

b) $(p\to q)\to r$

c) $(\neg q \to p) \to (p \to \neg q)$

10. 对于下面的每一个复合命题，用条件一析取等价式（例3）找出不含条件的等价复合命题。

a) $\neg p\to \neg q$   
b) $(p\lor q)\to \neg p$   
c) $(p\to \neg q)\to (\neg p\to q)$

11. 用真值表证明下列各条件语句为永真式。

a) $(p\wedge q)\to p$

b) $p\to (p\lor q)$

c) $\neg p\to (p\to q)$

d) $(p\wedge q)\rightarrow (p\rightarrow q)$

e) $\neg (p\to q)\to p$

f) $\neg (p\to q)\to \neg q$

12. 用真值表证明下列条件语句为永真式。

a) $[\neg p \land (p \lor q)] \rightarrow q$   
b) $\left[(p\to q)\land (q\to r)\right]\rightarrow (p\to r)$   
c) $[p\wedge (p\to q)]\to q$   
d) $\left[(p \vee q) \wedge (p \rightarrow r) \wedge (q \rightarrow r)\right] \rightarrow r$

13. 利用条件语句为假仅当假设为真而结论为假这一事实，证明练习11中的各条件语句为永真式（请勿用真值表）。

14. 利用条件语句为假仅当假设为真而结论为假这一事实，证明练习12中的各条件语句为永真式（请勿用真值表）。  
15. 通过应用一系列逻辑恒等式（如例8)证明练习11中的各条件语句为永真式(请勿用真值表)。  
16. 通过应用一系列逻辑恒等式（如例8)证明练习12中的各条件语句为永真式(请勿用真值表）。  
17. 用真值表验证吸收律。

a) $p \vee (p \wedge q) \equiv p$

b) $p\wedge (p\vee q)\equiv p$

18. 判断 $(\neg p \land (p \rightarrow q)) \rightarrow \neg q$ 是否为永真式。

19. 判断 $(\neg q \land (p \rightarrow q)) \rightarrow \neg p$ 是否为永真式。

练习 $20\sim 32$ 都是要求证明两个复合命题是逻辑等价的。要证明这样的等价式，你需要证明针对表达式中命题变量的相同真值组合，两边均为真或者两边均为假（就看哪个更简单些）。

20. 证明 $p \leftrightarrow q$ 和 $(p \wedge q) \vee (\neg p \wedge \neg q)$ 逻辑等价。  
21. 证明 $\neg (p \leftrightarrow q)$ 和 $p \leftrightarrow \neg q$ 逻辑等价。  
22. 证明 $p \to q$ 和 $\neg q \to \neg p$ 逻辑等价。  
23. 证明 $\neg p \leftrightarrow q$ 和 $p \leftrightarrow \neg q$ 逻辑等价。  
24. 证明 $\neg (p \oplus q)$ 和 $p \leftrightarrow q$ 逻辑等价。  
25. 证明 $\neg (p \leftrightarrow q)$ 和 $\neg p \leftrightarrow q$ 逻辑等价。  
26. 证明 $(p \rightarrow q) \land (p \rightarrow r)$ 和 $p \rightarrow (q \land r)$ 逻辑等价。  
27. 证明 $(p \rightarrow r) \land (q \rightarrow r)$ 和 $(p \lor q) \rightarrow r$ 逻辑等价。  
28. 证明 $(p \rightarrow q) \vee (p \rightarrow r)$ 和 $p \rightarrow (q \vee r)$ 逻辑等价。  
29. 证明 $(p \rightarrow r) \vee (q \rightarrow r)$ 和 $(p \wedge q) \rightarrow r$ 逻辑等价。  
30. 证明 $\neg p \rightarrow (q \rightarrow r)$ 和 $q \rightarrow (p \lor r)$ 逻辑等价。  
31. 证明 $p \leftrightarrow q$ 和 $(p \rightarrow q) \land (q \rightarrow p)$ 逻辑等价。  
32. 证明 $p \leftrightarrow q$ 和 $\neg p \leftrightarrow \neg q$ 逻辑等价。  
33. 证明 $(p \rightarrow q) \land (q \rightarrow r) \rightarrow (p \rightarrow r)$ 是永真式。

34. 证明 $(p \vee q) \wedge (\neg p \vee r) \rightarrow (q \vee r)$ 是永真式。

35. 证明 $(p \rightarrow q) \rightarrow r$ 和 $p \rightarrow (q \rightarrow r)$ 不是逻辑等价的。  
36. 证明 $(p \wedge q) \rightarrow r$ 和 $(p \rightarrow r) \wedge (q \rightarrow r)$ 不是逻辑等价的。  
37. 证明 $(p \rightarrow q) \rightarrow (r \rightarrow s)$ 和 $(p \rightarrow r) \rightarrow (q \rightarrow s)$ 不是逻辑等价的。

一个只含逻辑运算符 $\vee$ 、 $\land$ 和 $\neg$ 的复合命题的对偶式是通过将该命题中的每个 $\vee$ 用 $\land$ 代替、每个 $\land$ 用 $\vee$ 代替、每个 $\mathbf{T}$ 用 $\mathbf{F}$ 代替、每个 $\mathbf{F}$ 用 $\mathbf{T}$ 代替而得到的命题。命题 $s$ 的对偶式用 $s^{*}$ 表示。

38. 求下列命题的对偶式。

a) $p \vee \neg q$

b) $p\wedge (q\vee (r\wedge \mathbf{T}^{-}))$

c) $(p\land \neg q)\lor (q\land \mathbf{F})$

39. 求下列命题的对偶式。

a) $p\wedge \neg q\wedge \neg r$

b) $(p\wedge q\wedge r)\vee s$

c) $(p\lor \mathbf{F})\land (q\lor \mathbf{T})$

40. 什么情况下 $s^* = s$ 成立（其中 $s$ 是一个复合命题）？

41. 当 $s$ 是一个复合命题时，证明 $(s^{*})^{*} = s$ 。

42. 表6中的逻辑等价式除了双重否定律外都是成对的，证明每一对所包含的复合命题都是互为对偶的。

43. 为什么只含运算符 $\land$ 、 $\lor$ 和 $\neg$ 的两个等价的复合命题的对偶式也是等价的？

44. 试找出一个含命题变量 $p$ 、 $q$ 和 $r$ 的复合命题，当 $p$ 和 $q$ 为真而 $r$ 为假时该命题为真，否则为假。[提示：试用每个命题变量或其否定的合取式。]

45. 试找出一个含命题变量 $p$ 、 $q$ 和 $r$ 的复合命题，在 $p$ 、 $q$ 和 $r$ 中恰有两个为真时该命题为真，否则为假。[提示：构造合取式的析取。将使命题为真的每一种真值组合构成一个合取式。每个合取式都应包含三个命题变量或它们的否定。]

46. 假设给定一个有 $n$ 个命题变量的真值表。试证明可通过下面的方法构造一个与此表一致的复合命题：即取各命题变量或其否定的合取式的析取式，其中的每个合取式对应一组真值组合，从而使得该复合命题为真。这样得到的复合命题称为析取范式。一组逻辑运算符称为是功能完备的，如果每个复合命题都逻辑等价于一个只含这些逻辑运算符的复合命题。

47. 证明 $\neg$ 、 $\land$ 和 $\lor$ 构成一个逻辑运算符的功能完备集。[提示：利用练习46中给出的事实，即每个复合命题都逻辑等价于一个析取范式。]

* 48. 证明 $\neg$ 和 $\land$ 构成一个逻辑运算符的功能完备集。[提示：首先用德·摩根律证明 $p \lor q$ 逻辑等价于 $\neg (\neg p \land \neg q)$ 。]  
* 49. 证明 $\neg$ 和 $\vee$ 构成一个逻辑运算符的功能完备集。

下面几道练习用到逻辑运算符 NAND(与非)和 NOR(或非)。命题 $p$ NAND $q$ 在 $p$ 或 $q$ 或两者均为假时为真，而当 $p$ 和 $q$ 均为真时为假。命题 $p$ NOR $q$ 只在 $p$ 和 $q$ 均为假时为真，否则为假。命题 $p$ NAND $q$ 和 $p$ NOR $q$ 分别表示为 $p \mid q$ 和 $p \downarrow q$ 。（运算符 $|$ 和 $\downarrow$ 分别以 H. M. Sheffer 和 C. S. Peirce 的名字命名为 Sheffer 竖线（Sheffer stroke）和 Peirce 箭头。）

50. 试为逻辑运算符 NAND 构造真值表。  
51. 证明 $p \mid q$ 逻辑等价于 $\neg (p \wedge q)$ 。  
52. 试为逻辑运算符 NOR 构造真值表。  
53. 证明 $p \downarrow q$ 逻辑等价于 $\neg (p \lor q)$ 。  
54. 本练习将证明 $\{\downarrow\}$ 是一个逻辑运算符的功能完备集。

a)证明 $p\downarrow p$ 逻辑等价于 $\neg p$

b)证明 $(p\downarrow q)\downarrow (p\downarrow q)$ 逻辑等价于 $p\lor q$

c)由 $a$ 和 $b$ ，以及练习49可得 $\{\downarrow\}$ 是一个逻辑运算符的功能完备的集。

* 55. 只用运算符 $\downarrow$ 构造一个等价于 $p \rightarrow q$ 的命题。  
56. 证明 $\{\mid\}$ 是一个逻辑运算符的功能完备集。  
57. 证明 $p \mid q$ 和 $q \mid p$ 等价。  
58. 证明 $p \mid (q \mid r)$ 和 $(p \mid q) \mid r$ 不等价。（因此，逻辑运算符「不满足结合律。）  
59. 只涉及命题变量 $p$ 和 $q$ 的复合命题有多少不同的真值表？  
60. 证明如果 $p$ 、 $q$ 和 $r$ 是复合命题，且 $p$ 与 $q$ 是逻辑等价的， $q$ 与 $r$ 是逻辑等价的，则 $p$ 与 $r$ 是逻辑等价的。  
61. 下面的语句取自一个电话系统的规范说明：“如果目录数据库是打开的，那么监控程序被置于关闭状态，如果系统不在其初始状态。”这句话有两个条件语句，使规范说明很难懂。找一个等价的易懂的

规范说明，使其只涉及析取和否定，而不涉及条件语句。

62. 通过对 $p$ 、 $q$ 、 $r$ 赋一组真值，析取式 $p \lor \neg q$ 、 $\neg p \lor q$ 、 $q \lor r$ 、 $q \lor \neg r$ 、 $\neg q \lor \neg r$ 中有多少个可以同时为真？  
63. 通过对 $p, q, r, s$ 赋一组真值，析取式 $p \lor \neg q \lor s, \neg p \lor \neg r \lor s, \neg p \lor \neg r \lor \neg s, \neg p \lor q \lor \neg s, q \lor r \lor s, q \lor r \lor \neg s, \neg p \lor \neg q \lor \neg s, p \lor r \lor s, p \lor r \lor \neg s$ 中有多少个可以同时为真？  
64. 试证明一个不可满足的复合命题的否定是永真式，一个永真的复合命题的否定是不可满足的。  
65. 试判定下列复合命题是否是可满足的。

a) $(p \vee \neg q) \wedge (\neg p \vee q) \wedge (\neg p \vee \neg q)$   
b) $(p\to q)\wedge (p\to \neg q)\wedge (\neg p\to q)\wedge (\neg p\to \neg q)$   
c) $(p\leftrightarrow q)\wedge (\neg p\leftrightarrow q)$

66. 试判断下列复合命题是否是可满足的。

a) $(p \vee q \vee \neg r) \wedge (p \vee \neg q \vee \neg s) \wedge (p \vee \neg r \vee \neg s) \wedge (\neg p \vee \neg q \vee \neg s) \wedge (p \vee q \vee \neg s)$   
b) $(\neg p \lor \neg q \lor r) \land (\neg p \lor q \lor \neg s) \land (p \lor \neg q \lor \neg s) \land (\neg p \lor \neg r \lor \neg s) \land (p \lor q \lor \neg r) \land (p \lor \neg r \lor \neg s)$   
c) $(p \vee q \vee r) \wedge (p \vee \neg q \vee \neg s) \wedge (q \vee \neg r \vee s) \wedge (\neg p \vee q \vee \neg s) \wedge (p \vee \neg q \vee \neg r) \wedge (\neg p \vee \neg q \vee s) \wedge (\neg p \vee \neg r \vee \neg s)$

67. 当 $n$ 为下列值时，试找出为求解 $n$ 皇后问题的例10中的复合命题 $Q$ ，并用它找出 $n$ 个皇后在 $n \times n$ 的棋盘中所有可能的摆法，以使没有皇后能相互攻击。

a)2

b)3

c)4

68. 从例10中的复合命题 $Q$ 出发，试构造一个复合命题用于发现 $n$ 皇后问题的所有解，其中第一列的皇后位于奇数行。  
69. 试证明如何通过求解一个可满足性问题来获得一个给定的 $4 \times 4$ 数独谜题的解。  
70. 试构造一个复合命题断言一个 $9 \times 9$ 数独谜题的每个单元至少包含一个数。  
71. 试解释书中给出的复合命题的构造步骤，该命题断言 $9 \times 9$ 数独谜题的每一列包含了每一个数。  
**72. 试解释书中给出的复合命题的构造步骤，该命题断言 $9 \times 9$ 数独谜题的每个 $3 \times 3$ 九宫格包含了每一个数。

# 1.4 谓词和量词

# 1.4.1 引言

在 $1.1\sim 1.3$ 节中所学习的命题逻辑不能表达数学语言和自然语言中所有语句的确切意思。例如，假设我们知道“每台连接到大学网络的计算机运行正常”。命题逻辑中没有规则可以让我们得出语句“MATH3正在正常运行”的真实性，其中MATH3是连接大学网络的一台计算机。同样，我们不能用命题逻辑的规则根据语句“CS2被一个入侵者攻击”得出语句“有一台连接大学网络的计算机正遭受一名入侵者的攻击”的真实性，其中CS2是一台连接大学网络的计算机。

本节我们将介绍一种表达能力更强的逻辑，即谓词逻辑。我们将看到谓词逻辑如何用来表达数学和计算机科学中各种语句的意义，并允许我们推理和探索对象之间的关系。为了理解谓词逻辑，我们首先需要介绍谓词的概念。之后，我们将介绍量词的概念，它可以让我们对这样的语句进行推理：某一性质对于某一类型的所有对象均成立，存在一个对象使得某一特性成立。

# 1.4.2 谓词

在数学断言、计算机程序以及系统规格说明中经常可以看到含有变量的语句，比如

$$
" x > 3", " x = y + 3", " x + y = z"
$$

和

“计算机 $x$ 被一名入侵者攻击”

以及

“计算机 $x$ 在正常运行”

当变量值未指定时，这些语句既不为真也不为假。本节我们将讨论从这种语句中生成命题的方式。

语句“ $x$ 大于3”有两个部分。第一部分即变量 $x$ 是语句的主语。第二部分（谓词“大于3”）表明语句的主语具有的一个性质。我们可以用 $P(x)$ 表示语句“ $x$ 大于3”，其中 $P$ 表示谓词“大于3”，而 $x$ 是变量。语句 $P(x)$ 也可以说成是命题函数 $P$ 在 $x$ 的值。一旦给变量 $x$ 赋一个值，语句 $P(x)$ 就成为命题并具有真值。考虑下面的例1和例2。

例1 令 $P(x)$ 表示语句“ $x > 3$ ”。 $P(4)$ 和 $P(2)$ 的真值是什么？

解 我们在语句“ $x > 3$ ”中令 $x = 4$ 即可得到语句 $P(4)$ 。因此， $P(4)$ ，即语句 $"4 > 3"$ 为真；但是， $P(2)$ ，即语句 $"2 > 3"$ ，则为假。

例2 令 $A(x)$ 表示语句“计算机 $x$ 正被一名入侵者攻击”。假设在校园网的计算机中，当前只有CS2和MATH1被一名入侵者攻击。那么A（CS1）、A（CS2）和A（MATH1）的真值是什么？

解 在语句“计算机 $x$ 正被一名入侵者攻击”中，令 $x = \mathrm{CS1}$ 我们得到语句A（CS1）。因为CS1不在当前受到攻击的名单中，所以得出A（CS1）为假。同样，因为CS2和MATH1在当前受攻击的名单中，所以我们知道A（CS2）和A（MATH1）为真。

有些语句还可以含有不止一个变量。例如，考虑语句“ $x = y + 3$ ”。我们可以用 $Q(x, y)$ 表示这个语句，其中 $x$ 、 $y$ 为变量， $Q$ 为谓词。当变量 $x$ 和 $y$ 被赋值时，语句 $Q(x, y)$ 就有真值了。

例3令 $Q(x,y)$ 表示语句 $"x = y + 3"$ 。命题 $Q(1,2)$ 和 $Q(3,0)$ 的真值是什么？

解 要得到 $Q(1,2)$ ，在语句 $Q(x,y)$ 中令 $x = 1$ ， $y = 2$ 。因此， $Q(1,2)$ 即为语句“ $1 = 2 + 3$ ”，它为假。而语句 $Q(3,0)$ 表示命题“ $3 = 0 + 3$ ”，它为真。

例4 令 $A(c, n)$ 表示语句“计算机 $c$ 被连接到网络 $n$ ”，其中 $c$ 是代表计算机的一个变量， $n$ 是代表网络的一个变量。假设计算机MATH1连接到CAMPUS2，但没有连接到CAMPUS1。那么 $A(\text{MATH1}, \text{CAMPUS1})$ 和 $A(\text{MATH1}, \text{CAMPUS2})$ 的真值是什么？

解因为MATH1没有连接到CAMPUS1网络，所以我们知道A（MATH1，CAMPUS1）为假。然而，因为MATH1连接到了CAMPUS2网络，所以我们知道A（MATH1，CAMPUS2)为真。

同样，我们可以令 $R(x, y, z)$ 表示语句“ $x + y = z$ ”。当变量 $x$ 、 $y$ 、 $z$ 被赋值时，此语句就有真值了。

例5 命题 $R(1,2,3)$ 和 $R(0,0,1)$ 的真值是什么？

解 在语句 $R(x, y, z)$ 中令 $x = 1$ ， $y = 2$ ， $z = 3$ ，即得到命题 $R(1, 2, 3)$ 。可以看出 $R(1, 2, 3)$ 就是语句“ $1 + 2 = 3$ ”，它为真。另外，注意到 $R(0, 0, 1)$ ，即语句“ $0 + 0 = 1$ ”，为假。

一般地，涉及 $n$ 个变量 $x_{1}$ ， $x_{2}$ ，…， $x_{n}$ 的语句可以表示成

$$
P \left(x _ {1}, x _ {2}, \dots , x _ {n}\right)
$$

形式为 $P(x_{1},x_{2},\dots ,x_{n})$ 的语句是命题函数 $P$ 在 $_{n}$ 元组 $(x_{1},x_{2},\dots ,x_{n})$ 的值， $P$ 也称为 $\pmb{n}$ 位谓词或 $\pmb{n}$ 元谓词。

命题函数也出现在计算机程序中，如例6所示。

例6 考虑语句

$$
i f x > 0 \text {t h e n} x := x + 1
$$

如果程序中遇到这样一条语句时，当程序运行到此刻变量 $x$ 的值即被代入 $P(x)$ ，也就是代入到“ $x > 0$ ”中。如果对这个 $x$ 值 $P(x)$ 为真，就执行赋值语句 $x := x + 1$ ，即 $x$ 的值增加 1。

如果对这个 $x$ 值 $P(x)$ 为假，则不执行赋值语句，所以 $x$ 的值不改变。

前置条件和后置条件 谓词还可以用来验证计算机程序，也就是证明当给定合法输入时计算机程序总是能产生所期望的输出。（注意除非建立了程序的正确性，否则无论测试了多少次都不能证明程序对所有输入都产生所期望的输出，除非能测试到每个输入值。）描述合法输入的语句叫作前置条件，而程序运行的输出应该满足的条件称为后置条件。如例7所示，用谓词来表达前置条件和后置条件。我们将在5.5节更深入地学习这一过程。

例7 考虑下面的交换两个变量 $x$ 和 $y$ 的值的程序。

$$
\text {t e m p}: = x
$$

$$
x := y
$$

$$
y := \text {t e m p}
$$

试找出能作为前置条件和后置条件的、可以用来验证此程序正确性的谓词。然后解释如何用它们验证针对所有合法输入程序都能达到预期目的。

解 对于前置条件，我们需要表达在运行程序之前 $x$ 和 $y$ 具有特定的值。因此，对于这个前置条件可以用谓词 $P(x, y)$ 表示，其中 $P(x, y)$ 是指语句“ $x = a, y = b$ ”，这里 $a$ 和 $b$ 是在运行程序之前 $x$ 和 $y$ 的值。因为我们想证明对于所有输入变量，程序交换了 $x$ 和 $y$ 的值，所以对后置条件可以用 $Q(x, y)$ 表示，其中 $Q(x, y)$ 表示语句“ $x = b, y = a$ ”。

为证明程序总是按照预期运行，假设前置条件 $P(x,y)$ 成立。也就是说，假设命题“ $x =$

# Links

![](87b83e8803f322abcb58a387b91f8cab4673c681db4e03f56092344e9b8897c8.jpg)  
$\langle \widehat{\mathbb{C}}\rangle$ Bettmann/Getty Images

查理·桑德斯·皮尔斯（Charles Sanders Peirce，1839—1914）查理·皮尔斯生于马萨诸塞州的剑桥，许多人认为他是美国最有创造性和最多才多艺的知识分子。他在相当多的领域做出过重要贡献，包括数学、天文学、化学、大地测量、计量学、工程学、心理学、语言学、科学史和经济学。皮尔斯还是一个发明家、终身研究医学、书评家、剧作家和演员、短篇小说家、现象学家、逻辑学家、玄学家。他以杰出的系统构造学派的哲学家著称，在逻辑、数学以及广泛的科学领域卓有成效。他在哈佛大学任数学和自然哲学教授的父亲本杰明·皮尔斯鼓励他从事自然科学。然而他却决定研究逻辑和科学方法论。皮尔斯就学于哈佛大学（1855—1859），获得哈

佛大学文学硕士学位(1862年)，并在劳伦斯科学学院获得化学高级学位(1863年)。

1861年，为了更好理解科学方法论，皮尔斯担任了美国海岸观测署(U.S. Coast Survey)的助理。他在观测署的服务使其在南北战争期间免于服兵役。在该署工作期间，皮尔斯进行天文和大地测量工作。他应用椭圆函数理论的最新数学成果，对钟摆设计和地图投影做出了奠基性的贡献。他是第一个把光的波长作为度量单位的人。皮尔斯被提升为观测署助理署长，并担任此职直到1891年被迫辞职，因为他不同意观测署新任行政当局设定的工作方向。

尽管皮尔斯毕生致力于物理科学，但他提出了一种科学的层次结构，其中数学位于最高层，而且一门科学的方法可以被位于其下层的科学所采用。期间，他还创立了美国的实用主义哲学理论。

皮尔斯唯一的学术职位是 $1879\sim 1884$ 年在巴尔的摩的约翰·霍普金斯大学（Johns Hopkins University)担任逻辑学讲师。这期间他完成的数学工作包括他对逻辑、集合论、抽象代数和数学原理的贡献。他的工作至今仍产生影响，他在逻辑上的某些工作近来已被应用于人工智能。皮尔斯相信，研究数学可以开发大脑的想象力、抽象思维能力和归纳能力。他从观测署退休以后的五花八门的工作包括为期刊撰稿、编著学术辞典、翻译科技论文、客座授课及撰写教科书。遗憾的是，这些工作的收入不足以使他和他的第二任妻子免受贫穷之苦。晚年他获得了由他的崇拜者创立并由他终生的哲学家朋友威廉·詹姆斯(William James)管理的基金的支持。尽管皮尔斯就广泛的主题写作并发表了大量著作，但他仍然留下了100000多页未出版的手稿。由于这些未发表的作品很难读，学者们只是在近年来才开始理解他大量贡献中的一部分。有一群人正致力于把他的著作放到因特网上，希望全世界能更好地欣赏皮尔斯所做出的成就。

$a, y = b$ 为真。这意味着 $x = a, y = b$ 。程序的第一步， $\text{temp} \coloneqq x$ ，将 $x$ 的值赋给 $\text{temp}$ ，所以这一步之后我们知道有 $x = a, \text{temp} = a, y = b$ 。在程序的第二步， $x \coloneqq y$ 之后，我们有 $x = b, \text{temp} = a, y = b$ 。最后，在第三步之后，我们知道 $x = b, \text{temp} = a$ ，并且 $y = a$ 。结果是该程序运行后，后置条件 $Q(x, y)$ 成立，也就是说，语句“ $x = b, y = a$ ”为真。

# 1.4.3 量词

当命题函数中的变量均被赋值时，所得到语句就变成具有某个真值的命题。可是，还有另外一种称为量化的重要方式也可以从命题函数生成一个命题。量化表示在何种程度上谓词对于一定范围的个体成立。在自然语言中，所有、某些、许多、没有，以及少量这些词都可以用在量化上。这里我们集中讨论两类量化：全称量化，它告诉我们一个谓词在所考虑范围内对每一个体都为真；存在量化，它告诉我们一个谓词对所考虑范围内的一个或多个个体为真。处理谓词和量词的逻辑领域称为谓词演算。

全称量词 许多数学命题断言某一性质对于变量在某一特定域内的所有值均为真，这一特定域称为变量的论域（domain of discourse）（或全体域（universe of discourse）），时常简称为域（domain）。这类语句可以用全称量化表示。对特定论域而言 $P(x)$ 的全称量化是这样一个命题：它断言 $P(x)$ 对 $x$ 在其论域中的所有值均为真。注意，论域规定了变量 $x$ 所有可能取的值。当我们改变论域时， $P(x)$ 的全称量化的意义也随之改变。在使用全称量词时必须指定论域，否则语句的全称量化就是无定义的。

定义1 $P(x)$ 的全称量化是语句“ $P(x)$ 对 $x$ 在其论域的所有值为真。”符号 $\forall x P(x)$ 表示 $P(x)$ 的全称量化，其中 $\forall$ 称为全称量词。命题 $\forall x P(x)$ 读作“对所有 $x, P(x)$ ”或“对每个 $x, P(x)$ ”。一个使 $P(x)$ 为假的个体称为 $\forall x P(x)$ 的反例。

全称量词的意义总结如表1第一行所示。我们用例 $8\sim 13$ 来说明全称量词的使用。

表 1 量词  

<table><tr><td>命 题</td><td>什么时候为真</td><td>什么时候为假</td></tr><tr><td>∀xP(x)</td><td>对每一个x,P(x)都为真</td><td>有一个x,使P(x)为假</td></tr><tr><td>∃xP(x)</td><td>有一个x,使P(x)为真</td><td>对每一个x,P(x)都为假</td></tr></table>

例8 令 $P(x)$ 为语句“ $x + 1 > x$ ”。试问量化 $\forall x P(x)$ 的真值是什么，其中论域是全体实数集合？

解 由于 $P(x)$ 对所有实数 $x$ 均为真，所以量化命题 $\forall x P(x)$ 的值为真。

评注 通常，我们会做一个隐式的假设，即量词的论域均为非空的。注意如果论域为空，那么 $\forall x P(x)$ 对任何命题函数 $P(x)$ 都为真，因为论域中没有单个 $x$ 使 $P(x)$ 为假。

除了“对所有”和“对每个”外，全称量词还可以用其他方式表达，包括“全部的”、“对每一个”、“任意给定的”、“对任意的”、“对任一的”等。

评注 最好避免使用“对任一 $x$ ”，因为它常常引起歧义，即不确定是指“每个”还是“某些”的。在某些情况下，“任一”是没有歧义的，就像它用于否定句时那样，如“没有任一理由可以逃避学习。”

一个语句 $\forall xP(x)$ 为假当且仅当 $P(x)$ 不总为真，其中 $P(x)$ 是一个命题函数， $x$ 在论域中。要证明当 $x$ 在论域中时 $P(x)$ 不总为真，方法之一就是寻找一个 $\forall xP(x)$ 的反例。注意我们仅仅需要一个反例就可以确定 $\forall xP(x)$ 为假。例9解释了如何使用反例。

例9 令 $Q(x)$ 表示语句“ $x < 2$ ”。如果论域是所有实数集合，量化命题 $\forall x Q(x)$ 的真值是什么？

解 $Q(x)$ 并非对每个实数都为真，因为，比如 $Q(3)$ 就是假的。也就是说， $x = 3$ 是语句 $\forall x Q(x)$ 的一个反例。因此 $\forall x Q(x)$ 为假。

例10 假设 $P(x)$ 是“ $x^2 > 0$ ”。要证明语句 $\forall x P(x)$ 为假（其中论域是所有整数），我们只需要给出一个反例。我们可以看到 $x = 0$ 是一个反例，因为当 $x = 0$ 时 $x^2 = 0$ ，所以当 $x = 0$ 时 $x^2$ 不大于0。

在数学研究中寻找全称量化命题的反例是一个重要的过程，我们在本书后续章节中还会看到。

例11 如果 $N(x)$ 是指“计算机 $x$ 被连接到网络”，而论域为校园内所有的计算机，那么 $\forall xN(x)$ 是什么意思呢？

解 语句 $\forall xN(x)$ 的意思是对于校园里的每一台计算机 $x$ ，它都被连接到了网络。这句话可以用自然语言表达为“校园里的每一台计算机都连接到网络”。

正如我们已经指出的那样，当使用量词时指定论域是必需的。量化命题的真值通常取决于该论域中的那些个体，如例12所示。

例12 如果论域是所有实数， $\forall x(x^2 \geqslant x)$ 的真值是什么？如果论域是所有整数，真值又是什么？

解 论域是所有实数时，全称量化命题 $\forall x(x^{2} \geqslant x)$ 为假。例如， $(1/2)^{2} \geqslant 1/2$ 。注意 $x^{2} \geqslant x$ 当且仅当 $x^{2} - x = x(x - 1) \geqslant 0$ 。因此， $x^{2} \geqslant x$ 当且仅当 $x \leqslant 0$ 或 $x \geqslant 1$ 。由此得出，如果论域是所有实数， $\forall x (x^{2} \geqslant x)$ 为假（因为对于所有 $x$ ，当 $0 < x < 1$ 时，不等式不成立）。然而，如果论域为整数， $\forall x (x^{2} \geqslant x)$ 为真，因为没有整数 $x$ 使得 $0 < x < 1$ 。

存在量词 许多数学定理断言：有一个个体使得某种性质成立。这类语句可以用存在量化表示。我们可以用存在量化构成这样一个命题：该命题为真当且仅当论域中至少有一个 $x$ 的值使得 $P(x)$ 为真。

定义2 $P(x)$ 的存在量化是命题“论域中存在一个个体 $x$ 满足 $P(x)$ ”。我们用符号 $\exists x P(x)$ 表示 $P(x)$ 的存在量化，其中 $\exists$ 称为存在量词。

当使用语句 $\exists xP(x)$ 时，必须指定一个论域。而且，当论域变化时， $\exists xP(x)$ 的意义也随之改变。如果没有指定论域，那么语句 $\exists xP(x)$ 没有意义。

除了短语“存在”外，我们也可以用其他方式来表达存在量化，如使用词语“对某些”“至少有一个”或“有”。存在量化 $\exists x P(x)$ 可读作“有一个 $x$ 满足 $P(x)$ ”“至少有一个 $x$ 满足 $P(x)$ ”或“对某个 $x$ ， $P(x)$ ”。

存在量词的意义总结如表1第二行所示。我们用例13、14和16说明存在量词的运用。

例13 令 $P(x)$ 表示语句“ $x > 3$ ”。论域为实数集合时，量化命题 $\exists x P(x)$ 的真值是什么？

解因为“ $x > 3$ ”有时候是真的，如 $x = 4$ 时，所以 $P(x)$ 的存在量化即 $\exists x P(x)$ 为真。

观察到语句 $\exists xP(x)$ 为假当且仅当论域中没有个体使得 $P(x)$ 为真。也就是说， $\exists xP(x)$ 为假当且仅当 $P(x)$ 对于论域中的每一个个体都为假。我们用例14解释该观察。

例14 令 $Q(x)$ 表示语句“ $x = x + 1$ ”。论域是实数集时，量化命题 $\exists x Q(x)$ 的真值是什么？

解因为对每个实数 $x$ ， $Q(x)$ 都为假，所以 $Q(x)$ 的存在量化 $\exists xQ(x)$ 为假。

评注 通常，我们会做一个隐式的假设，即量词的论域均为非空的。如果论域为空，那么无论 $Q(x)$ 是什么命题函数，当论域为空时论域中没有一个个体能使 $Q(x)$ 为真，所以 $\exists x Q(x)$ 为假。

唯一性量词 我们已经介绍了全称量词和存在量词。它们是数学和计算机科学中最重要的

量词。然而，对于我们能定义的不同量词的数量是没有限制的，如“恰好有2个”、“有不超过3个”、“至少有100个”等。所有其他量词中最常见的是唯一性量词，用符号 $\exists$ ！或 $\exists_{1}$ 表示。 $\exists! xP(x)$ （或 $\exists_{1}xP(x)$ ）这种表示法是指“存在一个唯一的 $x$ 使得 $P(x)$ 为真”。（其他表示唯一性量词的词语有“恰好存在一个”、“有且只有一个”。）比如， $\exists! x(x-1=0)$ ，其中论域是实数集合，表示存在一个唯一的实数 $x$ 使得 $x-1=0$ 。这是一个真语句，因为 $x=1$ 是使得 $x-1=0$ 的唯一实数。观察到我们能够用前边学过的量词以及命题逻辑来表达唯一性（见1.5节练习52），所以唯一性量词是可以避免使用的。通常，最好只使用存在量词和全称量词，这样就可以使用这些量词的推理规则。

# 1.4.4 有限域上的量词

当一个量词的域是有限的时候，即所有元素可以一一列出时，量化语句就可以用命题逻辑来表达。特别是，当论域中的元素为 $x_{1}, x_{2}, \cdots, x_{n}$ ，其中 $n$ 是一个正整数，则全称量化 $\forall x P(x)$ 与合取式

$$
P \left(x _ {1}\right) \wedge P \left(x _ {2}\right) \wedge \dots \wedge P \left(x _ {n}\right)
$$

相同，因为这一合取式为真当且仅当 $P(x_{1})$ ， $P(x_{2})$ ，…， $P(x_{n})$ 全部为真。

例15 试问 $\forall x P(x)$ 的真值是什么？这里 $P(x)$ 是语句“ $x^2 < 10$ ”，且论域是不超过4的正整数。

解 语句 $\forall xP(x)$ 与合取式

$$
P (1) \wedge P (2) \wedge P (3) \wedge P (4)
$$

相同，因为论域由1、2、3和4组成。由于 $P(4)$ 就是语句“ $4^2 < 10$ ”为假，所以可以得出 $\forall x P(x)$ 为假。

类似地，当论域中的元素为 $x_{1}$ ， $x_{2}$ ，…， $x_{n}$ ，其中 $n$ 是一个正整数，则存在量化 $\exists xP(x)$ 与析取式

$$
P \left(x _ {1}\right) \vee P \left(x _ {2}\right) \vee \dots \vee P \left(x _ {n}\right)
$$

相同，因为该析取式为真当且仅当 $P(x_{1})$ ， $P(x_{2})$ ，…， $P(x_{n})$ 中至少一个为真。

例16 如果 $P(x)$ 是语句“ $x^2 > 10$ ”，论域为不超过4的正整数， $\exists x P(x)$ 的真值是什么？

解 由于论域为 $\{1,2,3,4\}$ ，命题 $\exists xP(x)$ 等价于析取式

$$
P (1) \vee P (2) \vee P (3) \vee P (4)
$$

由于 $P(4)$ 即“ $4^{2} > 10$ ”为真，故 $\exists xP(x)$ 为真。

量化和循环的关系 在确定量化命题的真值时，借助循环与搜索来思考是有益的。假定变量 $x$ 的论域中有 $n$ 个对象。要确定 $\forall xP(x)$ 是否为真，我们可以对 $x$ 的 $n$ 个值循环查看 $P(x)$ 是否总是真。如果遇到 $x$ 的一个值使 $P(x)$ 为假，就证明 $\forall xP(x)$ 为假，否则 $\forall xP(x)$ 为真。要确定 $\exists xP(x)$ 是否为真，我们循环查看 $x$ 的 $n$ 个值，搜索使 $P(x)$ 为真的 $x$ 值。如果找到一个，那么 $\exists xP(x)$ 为真；如果总也找不到这样的 $x$ ，则判定 $\exists xP(x)$ 为假。（注意，当论域有无穷多个值时，这一搜索过程不适用。不过以这种方式思考量化命题的真值仍然是有益的。）

# 1.4.5 受限域的量词

在要限定一个量词的论域时经常会采用简写的表示法。在这个表示法里，变量必须满足的条件直接放在量词的后面。例17给出了解释。我们还会在2.1节描述涉及集合成员关系的表示法的其他形式。

例17 语句 $\forall x < 0 (x^2 > 0)$ ， $\forall y \neq 0 (y^3 \neq 0)$ ，以及 $\exists z > 0 (z^2 = 2)$ 分别指的是什么意思，其中各语句的论域都为实数集？

解 语句 $\forall x < 0 (x^2 > 0)$ 表示对于每一个满足 $x < 0$ 的实数 $x$ 有 $x^2 > 0$ 。也就是说，它表示

“一个负实数的平方为正数”。这个语句与 $\forall x(x < 0 \rightarrow x^2 > 0)$ 等价。

语句 $\forall y \neq 0 (y^3 \neq 0)$ 表示对于每一个满足 $y \neq 0$ 的实数 $y$ 有 $y^3 \neq 0$ 。也就是说，它表示“每一个非零实数的立方不为零”。注意这个语句等价于 $\forall y (y \neq 0 \rightarrow y^3 \neq 0)$ 。

最后，语句 $\exists z > 0 (z^2 = 2)$ 表示存在一个满足 $z > 0$ 的实数 $z$ 有 $z^2 = 2$ 。也就是说，它表示“有一个2的正平方根”。这个语句等价于 $\exists z (z > 0 \land z^2 = 2)$ 。

注意，受限的全称量化和一个条件语句的全称量化等价。比如， $\forall x < 0 (x^2 > 0)$ 是表达 $\forall x (x < 0 \rightarrow x^2 > 0)$ 的另一种方式。另一方面，受限的存在量化和一个合取式的存在量化等价。比如 $\exists z > 0 (z^2 = 2)$ 是表达 $\exists z (z > 0 \land z^2 = 2)$ 的另一种方式。

# 1.4.6 量词的优先级

量词 $\forall$ 和 $\exists$ 比命题演算中的所有逻辑运算符都具有更高的优先级。比如， $\forall xP(x) \lor Q(x)$ 是 $\forall xP(x)$ 和 $Q(x)$ 的析取。换句话说，它表示 $(\forall xP(x)) \lor Q(x)$ ，而不是 $\forall x(P(x) \lor Q(x))$ 。

# 1.4.7 变量绑定

当量词作用于变量 $x$ 时，我们说此变量的这次出现为约束的。一个变量的出现被称为是自由的，如果没有被量词约束或设置为等于某一特定值。命题函数中的所有变量出现必须是约束的或者被设置为等于某个特定值的，才能把它转变为一个命题。这可以通过采用一组全称量词、存在量词和赋值来实现。

逻辑表达式中一个量词作用到的部分称为这个量词的作用域。因此，一个变量是自由的，如果变量在公式中所有限定该变量的量词的作用域之外。

例18 在语句 $\exists x(x + y = 1)$ 中，变量 $x$ 受存在量词 $\exists x$ 约束，但是变量 $y$ 是自由的，因为它没有受一个量词约束且该变量没有被赋值。这解释了在语句 $\exists x(x + y = 1)$ 中， $x$ 是受约束的，而 $y$ 是自由的。

在语句 $\exists x(P(x) \land Q(x)) \lor \forall x R(x)$ 中，所有变量都是受约束的。第一个量词 $\exists x$ 的作用域是表达式 $P(x) \land Q(x)$ ，因为 $\exists x$ 只作用于语句的 $P(x) \land Q(x)$ 部分，而非其余部分。类似地，第二个量词 $\forall x$ 的作用域是表达式 $R(x)$ 。也就是说，存在量词绑定 $P(x) \land Q(x)$ 中的变量 $x$ ，全称量词 $\forall x$ 绑定 $R(x)$ 中的变量 $x$ 。由此可见，由于两个量词的作用域不重叠，所以我们可以用两个不同的变量 $x$ 和 $y$ 将语句写为 $\exists x(P(x) \land Q(x)) \lor \forall y R(y)$ 。读者应该了解在正常的使用中，经常用来同一个字母表示受不同量词约束的变量，只要其作用域不重叠的。

# 1.4.8 涉及量词的逻辑等价式

在1.3节我们介绍了复合命题逻辑等价式的概念。我们可将这个概念扩展到涉及谓词和量词的表达式中。

定义3 涉及谓词和量词的语句是逻辑等价的当且仅当无论用什么谓词代入这些语句，也无论为这些命题函数里的变量指定什么论域，它们都有相同的真值。我们用 $S \equiv T$ 表示涉及谓词和量词的两个语句 $S$ 和 $T$ 是逻辑等价的。

例19说明了如何证明两个涉及谓词和量词的语句是逻辑等价的。

例19 证明 $\forall x(P(x) \land Q(x))$ 和 $\forall xP(x) \land \forall xQ(x)$ 是逻辑等价的（这里始终采用同一个论域）。这个逻辑等价式表明全称量词对于一个合取式是可分配的。此外，存在量词对于一个析取式也是可分配的。然而，全称量词对析取式是不可分配的，存在量词对合取式也是不可分配的。（见练习52和53）

解 为证明这两个语句是逻辑等价的，我们必须证明，不论 $P$ 和 $Q$ 是什么谓词，也不论采用哪个论域，它们总是具有相同的真值。假设有特定的谓词 $P$ 和 $Q$ ，以及一个共同的论域。我们可以通过两件事来证明 $\forall x(P(x) \land Q(x))$ 和 $\forall xP(x) \land \forall xQ(x)$ 是逻辑等价的。首先，我们证明如果 $\forall x(P(x) \land Q(x))$ 为真，那么 $\forall xP(x) \land \forall xQ(x)$ 为真。其次，我们证明如果

$\forall xP(x)\land \forall xQ(x)$ 为真，那么 $\forall x(P(x)\land Q(x))$ 为真。

因此，假设 $\forall x(P(x) \land Q(x))$ 为真。这意味着如果 $a$ 在论域中，那么 $P(a) \land Q(a)$ 为真。所以， $P(a)$ 为真，且 $Q(a)$ 为真。因为对论域中每个个体 $P(a)$ 为真，且 $Q(a)$ 为真都成立，所以我们可以得出结论， $\forall x P(x)$ 和 $\forall x Q(x)$ 都为真。这意味着 $\forall x P(x) \land \forall x Q(x)$ 为真。

接下来，假设 $\forall xP(x) \land \forall xQ(x)$ 为真。那么 $\forall xP(x)$ 为真，且 $\forall xQ(x)$ 为真。因此，如果 $a$ 在论域中，那么 $P(a)$ 为真，且 $Q(a)$ 为真[因为 $P(x)$ 和 $Q(x)$ 对论域中所有个体都为真，所以这里用同一个 $a$ 的值不会有矛盾]。可以得出，对于所有的 $a$ ， $P(a) \land Q(a)$ 为真。因而可以得出 $\forall x(P(x) \land Q(x))$ 为真。这样我们可以推出结论

$$
\forall x (P (x) \wedge Q (x)) \equiv \forall x P (x) \wedge \forall x Q (x)
$$

# 1.4.9 量化表达式的否定

我们常会考虑到一个量化表达式的否定。例如，考虑下面语句的否定

“班上每个学生都学过一门微积分课”

这个语句是全称量化命题，即

$$
\forall x P (x)
$$

其中 $P(x)$ 为语句“ $x$ 学过一门微积分课”，论域是你们班的所有学生。这一语句的否定是“并非班上每个学生都学过一门微积分课”。这等价于“班上有个学生没有学过微积分课”。而这也就是原命题函数否定的存在量化，即

$$
\exists x \neg P (x)
$$

这个例子说明了下面的等价关系：

$$
\neg \forall x P (x) \equiv \exists x \neg P (x)
$$

为了证明不论命题函数 $P(x)$ 是什么和论域是什么， $\neg \forall x P(x)$ 和 $\exists x \neg P(x)$ 都是逻辑等价的。首先，注意 $\neg \forall x P(x)$ 为真当且仅当 $\forall x P(x)$ 为假。其次，注意 $\forall x P(x)$ 为假当且仅当论域中有一个个体 $x$ 使 $P(x)$ 为假。它成立当且仅当论域中有一个个体 $x$ 使 $\neg P(x)$ 为真。最后，注意论域中有一个个体 $x$ 使 $\neg P(x)$ 为真当且仅当 $\exists x \neg P(x)$ 为真。将这些步骤综合起来，可以得出结论 $\neg \forall x P(x)$ 为真当且仅当 $\exists x \neg P(x)$ 为真。于是得出结论 $\neg \forall x P(x)$ 和 $\exists x \neg P(x)$ 是逻辑等价的。

假定我们要想否定一个存在量化命题。例如，考虑命题“班上有一个学生学过一门微积分课”就是存在量化命题

$$
\exists x Q (x)
$$

其中 $Q(x)$ 为语句“ $x$ 学过一门微积分课”。这句话的否定是命题“并非班上有个学生学过微积分课”。这等价于“班上每个学生都没学过微积分课”，这也就是原命题函数的否定的全称量化，或用量词语言表示为

$$
\forall x \neg Q (x)
$$

这个例子说明了等价式

$$
\neg \exists x Q (x) \equiv \forall x \neg Q (x)
$$

为了证明无论 $Q(x)$ 和论域是什么， $\neg \exists xQ(x)$ 和 $\forall x \neg Q(x)$ 是逻辑等价的。首先注意 $\neg \exists xQ(x)$ 为真当且仅当 $\exists xQ(x)$ 为假。而这个为真当且仅当论域中没有 $x$ 使 $Q(x)$ 为真。其次，注意论域中没有 $x$ 使 $Q(x)$ 为真当且仅当 $Q(x)$ 对论域中的每个 $x$ 都为假。最后，注意 $Q(x)$ 对论域中每个 $x$ 都为假当且仅当 $\neg Q(x)$ 对论域中所有 $x$ 都为真，而它成立当且仅当 $\forall x \neg Q(x)$ 为真。将这些步骤综合起来，我们看到 $\neg \exists xQ(x)$ 为真当且仅当 $\forall x \neg Q(x)$ 为真。我们得出结论： $\neg \exists xQ(x)$ 和 $\forall x \neg Q(x)$ 是逻辑等价的。

量词否定的规则称为量词的德·摩根律。这些规则总结见表2。

表 2 量词的德・摩根律  

<table><tr><td>否定</td><td>等价语句</td><td>何时为真</td><td>何时为假</td></tr><tr><td>\( \neg \exists xP(x) \)</td><td>\( \forall x \neg P(x) \)</td><td>对每个 \( x \), \( P(x) \) 为假</td><td>有 \( x \), 使 \( P(x) \) 为真</td></tr><tr><td>\( \neg \forall xP(x) \)</td><td>\( \exists x \neg P(x) \)</td><td>有 \( x \) 使 \( P(x) \) 为假</td><td>对每个 \( x \), \( P(x) \) 为真</td></tr></table>

评注 当谓词 $P(x)$ 的论域包含 $n$ 个个体时，其中 $n$ 是大于1的正整数，则用于量化命题否定的规则和1.3节讨论的德·摩根律完全相同。这就是为什么这些规则称为量词的德·摩根律。当论域有 $n$ 个元素 $x_{1}, x_{2}, \cdots, x_{n}$ 时， $\neg \forall x P(x)$ 与 $\neg (P(x_{1}) \land P(x_{2}) \land \cdots \land P(x_{n}))$ 相同，而由德·摩根律，后者等价于 $\neg P(x_{1}) \lor \neg P(x_{2}) \lor \cdots \lor \neg P(x_{n})$ ，该式又等同于 $\exists x \neg P(x)$ 。类似地， $\neg \exists x P(x)$ 与 $\neg (P(x_{1}) \lor P(x_{2}) \lor \cdots \lor P(x_{n}))$ 相同，由德·摩根律，后者等价于 $\neg P(x_{1}) \land \neg P(x_{2}) \land \cdots \land P(x_{n})$ ，该式又等同于 $\forall x \neg P(x)$ 。

我们在例20和例21中来解释量化命题的否定。

例20 语句“有一个诚实的政治家”和“所有美国人都吃芝士汉堡”的否定是什么？

解 令 $H(x)$ 表示“ $x$ 是诚实的”。则语句“有一个诚实的政治家”可以用 $\exists x H(x)$ 来表示，其中论域是所有政治家。这个语句的否定是 $\neg \exists x H(x)$ ，它等价于 $\forall x \neg H(x)$ 。这个否定可以表达为“每个政治家都是不诚实的。”（注意，在自然语言中，语句“所有政治家是不诚实的”是有点含糊的。按通常用法，这个语句通常意味着“并不是所有的政治家都是诚实的”。因此，我们不用这个语句表达它的否定。）

令 $C(x)$ 为“ $x$ 吃芝士汉堡”。则语句“所有美国人都吃芝士汉堡”可以用 $\forall x C(x)$ 来表示，其中论域是所有美国人。这个语句的否定是 $\neg \forall x C(x)$ ，它等价于 $\exists x \neg C(x)$ 。这个否定可以有几种不同的表达方式，包括“一些美国人不吃芝士汉堡”和“有一个美国人不吃芝士汉堡”。

例21 语句 $\forall x(x^{2} > x)$ 和 $\exists x(x^{2} = 2)$ 的否定是什么？

解 $\forall x(x^{2} > x)$ 的否定是语句 $\neg \forall x(x^{2} > x)$ ，它等价于 $\exists x \neg (x^{2} > x)$ 。这个表达式可以重写为 $\exists x(x^{2} \leqslant x)$ 。而 $\exists x(x^{2} = 2)$ 的否定是语句 $\neg \exists x(x2 = 2)$ ，它等价于 $\forall x \neg (x^{2} = 2)$ 。这个表达式可以重写为 $\forall x(x^{2} \neq 2)$ 。当然这些语句的真值还取决于论域。

在例22中我们要用到量词的德·摩根律。

例22 证明 $\neg \forall x(P(x) \rightarrow Q(x))$ 和 $\exists x(P(x) \land \neg Q(x))$ 是逻辑等价的。

解 由全称量的词德·摩根律，我们知道 $\neg \forall x(P(x) \rightarrow Q(x))$ 和 $\exists x(\neg (P(x) \rightarrow Q(x)))$ 是逻辑等价的。由1.3节表7中第5个逻辑等价式，我们知道对每个 $x$ ， $\neg (P(x) \rightarrow Q(x))$ 和 $P(x) \land \neg Q(x)$ 是逻辑等价的。因为在一个逻辑等价式中可以用一个逻辑等价的表达式替换另外一个，所以可以得出 $\neg \forall x(P(x) \rightarrow Q(x))$ 和 $\exists x(P(x) \land \neg Q(x))$ 是逻辑等价的。

# 1.4.10 语句到逻辑表达式的翻译

将汉语(或其他自然语言)语句翻译成逻辑表达式，这在数学、逻辑编程、人工智能、软件工程以及许多其他学科中是一项重要的任务。我们在1.1节中就开始学习这个主题，那里我们用命题将语句表示为逻辑表达式。那时，我们特意回避需要用谓词和量词来翻译语句。当需用到量词时，语句到逻辑表达式的翻译会变得更复杂。再者，翻译一个特定的语句可以有许多种方式。（因此，没有“菜谱”式的方法可供你按部就班地学习。）我们会给出一些例子说明如何将汉语语句翻译成逻辑表达式。翻译的目标是生成简单而有用的逻辑表达式。本节我们只局限于讨论这样的语句，可只用单个量词将其翻译成逻辑表达式。下一节会讨论一些更复杂的需要多个量词的语句。

例23 使用谓词和量词表达语句“班上的每个学生都学过微积分”。

解 首先重写该语句以使我们能很清楚地确定所要使用的合适的量词。重写后可得“对班上的每一个学生，该学生学过微积分。”接着，引入变量 $x$ ，语句就变成“对班上的每一个学

生 $x$ ， $x$ 学过微积分。”然后，引入谓词 $C(x)$ ，表示语句“ $x$ 学过微积分”。因此，如果 $x$ 的论域是班上的学生，我们可以将语句翻译为 $\forall x C(x)$ 。

然而，还有其他正确的翻译方法，并可使用不同的论域和其他谓词。具体选择什么方法取决于后续要进行的推理。例如，我们可能对更广泛的人群而非仅仅是班上的学生感兴趣。如果将论域改成所有人，则我们需要将语句表达成“对每个人 $x$ ，如果 $x$ 是班上的学生，那么 $x$ 学过微积分。”

如果 $S(x)$ 表示语句 $x$ 在这个班上，则我们的语句可表达为 $\forall x(S(x) \rightarrow C(x))$ 。[小心：语句不能表达为 $\forall x(S(x) \land C(x))$ ，因为这句话说的是所有人都是这个班上的学生并且学过微积分。]

最后，如果我们对学生除微积分之外的其他主修课程感兴趣，我们可以倾向于使用双变量谓词 $Q(x,y)$ 表示语句“学生 $x$ 学过课程 $y$ ”。这样在上述两种方法中我们就要把 $C(x)$ 替换成 $Q(x$ ，微积分)，得到 $\forall xQ(x$ ，微积分)或 $\forall x(S(x)\rightarrow Q(x$ ，微积分))。

在例23中我们展示了用谓词和量词表达同一语句的不同方法。不过，我们总是应该采用最有利于后续推理的最简单的方法。

例24 用谓词和量词表达语句“这个班上的某个学生去过墨西哥”和“这个班上的每个学生或去过加拿大，或去过墨西哥。”

解 语句“这个班上的某个学生去过墨西哥”的意思是“在这个班上有个学生，他去过墨西哥”。引入变量 $x$ ，因此语句变成“在这个班上有个学生 $x$ ， $x$ 去过墨西哥。”引入谓词 $M(x)$ 表示语句“ $x$ 去过墨西哥”。如果 $x$ 的论域是这个班上的学生，我们就可以将第一个语句翻译为 $\exists xM(x)$ 。

然而，如果我们对这个班上学生以外的人感兴趣，这个语句看起来就会有些不同。语句可表达为“有这样一个人 $x$ 具有这样的特性： $x$ 是这个班的学生，并且 $x$ 去过墨西哥。”

在这种情况下， $x$ 的论域是所有人，我们引入谓词 $S(x)$ 表示语句“ $x$ 是这个班上的一个学生”。答案就变成了 $\exists x(S(x) \land M(x))$ ，因为它表示有某个人 $x$ 他是这个班上的学生并且去过墨西哥。[小心：语句不能表示为 $\exists x(S(x) \rightarrow M(x))$ ，它表示当有一个人不在这个班里时也是真的，因为在这种情况下，对这样的 $x$ ， $S(x) \rightarrow M(x)$ 就变成 $\mathbf{F} \rightarrow \mathbf{T}$ 或者 $\mathbf{F} \rightarrow \mathbf{F}$ ，两个都是真的。]

类似地，第二个语句可以表示成“对于在这个班上的每一个 $x$ ， $x$ 具有这样的特性： $x$ 去过墨西哥或 $x$ 去过加拿大”。（注意：我们假设这里的或是兼或而非不可兼的。）我们令 $C(x)$ 表示语句“ $x$ 去过加拿大”。由前面的推理，如果 $x$ 的论域是这个班的学生，则第二个语句可以表达为 $\forall x(C(x)\lor M(x))$ 。然而，如果 $x$ 的论域是所有人，我们的语句就可以表示成：

“对于每一个人 $x$ ，如果 $x$ 在这个班，则 $x$ 去过加拿大或 $x$ 去过墨西哥”。此时，语句表示成 $\forall x(S(x) \rightarrow (C(x) \lor M(x)))$ 。

除了分别使用谓词 $M(x)$ 和 $C(x)$ 来表示 $x$ 去过墨西哥和 $x$ 去过加拿大外，我们还可以使用两个变量谓词 $V(x, y)$ 表示“ $x$ 去过 $y$ 国家”。这样， $V(x, \text{墨西哥})$ 和 $V(x, \text{加拿大})$ 具有与 $M(x)$ 和 $C(x)$ 相同的意思并可以用来替代它们。如果我们要处理的语句涉及人们去过不同的国家，我们可以倾向于使用这种双变量的方法。否则为了起见简单，我们可以坚持用一个变量谓词 $M(x)$ 和 $C(x)$ 。

# 1.4.11 系统规范说明中量词的使用

在1.2节我们用命题来表示系统规范说明。然而，许多系统规范说明涉及谓词和量词。这在例25中予以说明。

例25 用谓词和量词表达系统规范说明“每封大于1MB的邮件会被压缩”和“如果一个

![](58d142c629df19e06c69c69ef2baeb366ac953e62cf2b52bb87c2da01cda31aa.jpg)

![](d8d7c2ef5fede20d128447d63c64e5f45169df2d3ed547da81375463079b84ea.jpg)

用户处于活动状态，那么至少有一条网络链路是有效的”。

解 令 $S(m, y)$ 表示“邮件 $m$ 大于 $y\mathrm{MB}$ ”，其中变量 $m$ 的论域是所有邮件，变量 $y$ 是一个正实数；令 $C(m)$ 表示“邮件 $m$ 会被压缩”。那么规范说明“每封大于1MB的邮件会被压缩”可以表达为 $\forall m(S(m, 1) \rightarrow C(m))$ 。

令 $A(u)$ 表示“用户 $u$ 处于活动状态”，其中变量 $u$ 的论域是所有用户；令 $S(n, x)$ 表示“网络链路 $n$ 处于 $x$ 状态”，其中 $n$ 的论域是所有网络链路， $x$ 的论域是网络链路所有可能的状态。那么规范说明“如果用户处于活动状态，那么至少有一个网络链路有效”可以表达为

$$
\exists u A (u) \rightarrow \exists n S (n, \text {有 效})
$$

# 1.4.12 选自路易斯·卡罗尔的例子

路易斯·卡罗尔(Lewis Carroll)(实际上是C.L.Dodgson的笔名)是《爱丽丝漫游仙境》(Alice in Wonderland)的作者，也是几本论述符号逻辑书籍的作者。他的书中含有大量涉及量词推理的例子。例26和27选自他的《符号逻辑》(Symbolic logic)一书；选自该书的其他例子放在本节末的练习中了。这些例子说明怎样用量词来表示各种类型的语句。

例26 考虑下面这些语句。前面两句称为前提(premise)，第三句称为结论(conclusion)。合在一起作为一个整体称为是一个论证(argument)。

“所有狮子都是凶猛的。”

“有些狮子不喝咖啡。”

“有些凶猛的动物不喝咖啡。”

（1.6节我们将讨论判定结论是否为前提的有效推论问题。就本例而言，结论是有效的。）令 $P(x)$ 、 $Q(x)$ 和 $R(x)$ 分别为语句“ $x$ 是狮子”、“ $x$ 是凶猛的”和“ $x$ 喝咖啡”。假定论域是所有动物的集合，用量词及 $P(x)$ 、 $Q(x)$ 和 $R(x)$ 表示上述论证中的语句。

解 我们可以将这些语句表示为：

$$
\begin{array}{l} \forall x (P (x) \rightarrow Q (x)) \\ \exists x (P (x) \wedge \neg R (x)) \\ \exists x (Q (x) \wedge \neg R (x)) \\ \end{array}
$$

注意，第二句不能写成 $\exists x(P(x) \rightarrow \neg R(x))$ 。原因是当 $x$ 不是狮子时 $P(x) \rightarrow \neg R(x)$ 总是真的，这样只要有一只动物不是狮子， $\exists x(P(x) \rightarrow \neg R(x))$ 就为真，即使所有狮子都喝咖啡也是如此。类似地，第三句也不能写成

$$
\exists x (Q (x) \rightarrow \neg R (x))
$$

例27 考虑下面的语句，前3个语句为前提，第4个语句为有效结论。

# Links

![](401c828be7e43305301db57a3871bef18f9a98601e3bbade6d5028de9f7413e6.jpg)  
Oscar Gustav Rejlander/Hilton Archive/Getty Images

查尔斯·勒特威克·道奇森(Charles Lutwidge Dodgson, 1832—1898) 我们是从他的文学作品中用的笔名路易斯·卡罗尔(Lewis Carroll)认识查尔斯·道奇森(Charles Dodgson)的。道奇森是牧师的儿子，在11个子女中排行第三，这11个孩子全是结巴。在成年人的包围下他常常感到不安，据说他只有和年轻女孩说话才不结巴，他和她们玩耍、和她们通信、为她们拍照（有时候拍照的姿势在现在看来是不合适的）。尽管他对女孩很有吸引力，但道奇森是一个严肃清教徒并忠于宗教信仰。他与迪安·利德尔(Dean Liddell)的三个女儿的友谊促使他写成《爱丽丝漫游仙境》，而这本书为他赢得了金钱和名声。

道奇森于1854年毕业于牛津大学并于1857年获得文学硕士学位。1855年他被任命为牛津大学基督学院(Christ Church College)的数学讲师。1861年英格兰教会委任他以圣职，但他从来没有实际履职。他以真名发表的著作包括有关几何、行列式以及竞赛和选举中的数学问题等的论文和书籍。（他还以笔名路易斯·卡罗尔(Lewis Carroll)写过许多关于娱乐性逻辑的作品。）

“所有蜂鸟都是五彩斑斓的。”

“没有大型鸟类以蜜为生。”

“不以蜜为生的鸟都是色彩单调的。”

“蜂鸟都是小鸟。”

令 $P(x)$ 、 $Q(x)$ 、 $R(x)$ 和 $S(x)$ 分别为语句“ $x$ 是蜂鸟”、“ $x$ 是大的”、“ $x$ 以蜜为生”和“ $x$ 是五彩斑斓的”。假定论域是所有鸟的集合，用量词及 $P(x)$ 、 $Q(x)$ 、 $R(x)$ 和 $S(x)$ 表示上述论证中的语句。

解 可以把论证中的语句表示为

$$
\forall x (P (x) \rightarrow S (x))
$$

$$
\neg \exists x (Q (x) \wedge R (x))
$$

$$
\forall x (\neg R (x) \rightarrow \neg S (x))
$$

$$
\forall x (P (x) \rightarrow \neg Q (x))
$$

（注意，我们假定“小”等同于“不大”，“色彩单调”等同于“不五彩斑斓”。为证明第四条语句是前三条语句的有效结论，我们需要用到将在1.6节中讨论的推理规则。）

# 1.4.13 逻辑程序设计

有一类重要的程序设计语言使用谓词逻辑的规则进行推理。Prolog(Programming in Logic 的缩写)就是其一，该语言由人工智能领域的计算机科学家在20世纪70年代开发。Prolog 程序包括一组声明，其中包括两类语句：Prolog 事实和 Prolog 规则。Prolog 事实通过指定那些满足谓词的元素来定义谓词。Prolog 规则使用已由 Prolog 事实定义好的那些谓词来定义新的谓词。例28解释这些概念。

例28 考虑一个Prolog程序，它给出的事实是每门课程的教师和学生注册的课程。程序使用这些事实来回答给特定学生上课的教授这一查询。这样的程序可使用谓词instructor $(p, c)$ 和enrolled $(s, c)$ 分别表示教授 $p$ 是讲授课程 $c$ 的老师及学生 $s$ 注册了课程 $c$ 。例如，此程序中的Prolog事实可能包含：

```julia
instructor chan, math273)   
instructor(patel, ee222)   
instructor(grossman, cs301)   
enrolled(kevin, math273)   
enrolled(juana, ee222)   
enrolled(juana, cs301)   
enrolled(kiko, math273)   
enrolled(kiko, cs301) 
```

（这里用小写字母表示输入项，Prolog把以大写字母开始的名字当作变量。）

一个新的谓词 teaches $(p, s)$ 表示教授 $p$ 教学生 $s$ ，可以用 Prolog 规则来定义：

```python
teaches(P, S): -instructor(P, C), enrolled(S, C) 
```

上述语句意味着如果存在一门课程 $c$ ，使得教授 $p$ 是课程 $c$ 的老师，而学生 $s$ 注册了课程 $c$ ，则teaches $(p,s)$ 为真。（注意，在Prolog中逗号用于表示谓词的合取。类似地，分号用于表示谓词的析取。）

Prolog使用给定的事实和规则回答查询。例如，使用上述的事实和规则，查询

```txt
? enrolled(kevin, math273) 
```

生成应答

```txt
yes 
```

因为事实enrolled(kevin，math273)是由输入提供的。查询

?enrolled(X，math273)

生成应答

kevin kiko

要生成上面的应答，Prolog就要判断 $X$ 的所有可能值以使enrolled(X，math273)包含在Prolog事实中。类似地，要查找到给Juana所选课程上课的所有教授，我们用查询

? teaches(X, juana)

这个查询返回

patel grossman

# 练习

1. 令 $P(x)$ 表示语句“ $x \leqslant 4$ ”。下列各项的真值是什么？

a) $P(0)$

b) $P(4)$

c) $P(6)$

2. 令 $P(x)$ 表示语句“单词 $x$ 含字母 $a$ 。”下列各项的真值是什么？

a) $P$ (orange)

b) $P$ (lemon)

c) $P(\text{true})$

d) $P$ (false)

3. 令 $Q(x, y)$ 表示语句“ $x$ 是 $y$ 的首府。”下列各项的真值是什么？

a) $Q$ （丹佛，科罗拉多）

b) $Q$ （底特律，密歇根）

c) $Q$ （马萨诸塞，波士顿）

d) $Q$ （纽约，纽约）

4. 给出执行 if $P(x)$ then $x := 1$ 语句以后 $x$ 的值，其中 $P(x)$ 为语句“ $x > 1$ ”，如果执行到上述语句时 $x$ 的值是：

a) $x = 0$

b) $x = 1$

c) $x = 2$

5. 令 $P(x)$ 为语句“ $x$ 在每个工作日都花5个多小时上课”，其中 $x$ 的论域是全体学生。用汉语表达下列各量化式。

a) $\exists xP(x)$

b) $\forall xP(x)$

c) $\exists x\lnot P(x)$

d) $\forall x\neg P(x)$

6. 令 $N(x)$ 为语句“ $x$ 已经去过北达科他”，论域是你所在学校的所有学生。用汉语表达下列各量化式。

a) $\exists xN(x)$

b) $\forall xN(x)$

c) $\neg \exists xN(x)$

d) $\exists x \neg N(x)$

e) $\neg xN(x)$

f) $\forall x\neg N(x)$

7. 将下列语句翻译成汉语，其中 $C(x)$ 是“ $x$ 是一个喜剧演员”， $F(x)$ 是“ $x$ 很有趣”，论域是所有人。

a) $\forall x(C(x)\rightarrow F(x))$

b) $\forall x(C(x)\land F(x))$

c) $\exists x(C(x)\to F(x))$

d) $\exists x(C(x)\land F(x))$

8. 将下列语句翻译成汉语，其中 $R(x)$ 是“ $x$ 是一只兔子”， $H(x)$ 是“ $x$ 跳跃”，论域是所有动物。

a) $\forall x(R(x)\rightarrow H(x))$

b) $\forall x(R(x)\land H(x))$

c) $\exists x(R(x)\to H(x))$

d) $\exists x(R(x)\land H(x))$

9. 令 $P(x)$ 为语句“ $x$ 会说俄语”， $Q(x)$ 为语句“ $x$ 了解计算机语言 $\mathrm{C}++$ ”。用 $P(x)$ 、 $Q(x)$ 、量词和逻辑联结词表示下列各句子。量词的论域为你校全体学生的集合。

a) 你校有个学生既会说俄语又了解 C++  
b)你校有个学生会说俄语但不了解C++  
c)你校所有学生或会说俄语或了解 $\mathrm{C} + +$   
d)你校没有学生会说俄语或了解C++

10. 令 $C(x)$ 为语句“ $x$ 有一只猫”， $D(x)$ 为语句“ $x$ 有一只狗”， $F(x)$ 为语句“ $x$ 有一只雪貂”。用 $C(x)$ 、 $D(x)$ 、 $F(x)$ 、量词和逻辑联结词表达下述语句。令论域为你班上的所有学生。

a)班上的一个学生有一只猫、一只狗和一只鼬  
b)班上的所有学生有一只猫、一只狗或一只鼬  
c)班上的一些学生有一只猫和一只鼬，但没有狗  
d)班上没有学生同时有一只猫、一只狗和一只鼬  
e)对猫、狗和鼬这三种动物的任意一种，班上都有学生将其作为宠物

11. 令 $P(x)$ 为语句“ $x = x^2$ ”。如果论域是整数集合，下列各项的真值是什么？

a) $P(0)$

b) $P(1)$

c) $P(2)$

d) $P(-1)$

e) $\exists xP(x)$

f) $\forall xP(x)$

12. 令 $Q(x)$ 为语句“ $x + 1 > 2x$ ”。如果论域为整数集合，下列各项的真值是什么？

a) $Q(0)$

b) $Q(-1)$

c) $Q(1)$

d) $\exists xQ(x)$

e) $\forall xQ(x)$

f) $\exists x\lnot Q(x)$

g) $\forall x\neg Q(x)$

13. 如果论域为整数集合，判断下列各语句的真值。

a) $\forall n(n + 1 > n)$

b) $\exists n(2n = 3n)$

c) $\exists n(n = -n)$

d) $\forall n(3n\leqslant 4n)$

14. 如果论域为实数集合，判断各语句的真值。

a) $\exists x(x^{3} = -1)$

b) $\exists x(x^4 <  x^2)$

c) $\forall x((-x)^2 = x^2)$

d) $\forall x(2x > x)$

15. 如果所有变量的论域为整数集合，判断各语句的真值。

a) $\forall n(n^{2}\geqslant 0)$

b) $\exists n(n^{2} = 2)$

c) $\forall n(n^{2}\geqslant n)$

b) $\exists n(n^{2} < 0)$

16. 如果每个变量的论域都为实数集合，判断下列各语句的真值。

a) $\exists x(x^{2} = 2)$

b) $\exists x(x^{2} = -1)$

c) $\forall x(x^{2} + 2\geqslant 1)$

d) $\forall x(x^{2}\neq x)$

17. 假设命题函数 $P(x)$ 的论域为整数0、1、2、3和4。使用析取、合取和否定写出下列命题。

a) $\exists xP(x)$

b) $\forall xP(x)$

c) $\exists x\neg P(x)$

d) $\forall x\neg P(x)$

e) $\neg \exists xP(x)$

f) $\neg \forall xP(x)$

18. 假设命题函数 $P(x)$ 的论域为整数 $-2, -1, 0, 1$ 和 2。使用析取、合取和否定写出下列命题。

a) $\exists xP(x)$

b) $\forall xP(x)$

c) $\exists x\lnot P(x)$

d) $\forall x\neg P(x)$

e) $\neg \exists xP(x)$

f) $\neg \forall xP(x)$

19. 假设命题函数 $P(x)$ 的论域为整数 1、2、3、4 和 5。不使用量词，而使用析取、合取和否定（而不使用量词）来表达下列语句。

a) $\exists xP(x)$

b) $\forall xP(x)$

c) $\neg \exists xP(x)$

d) $\neg \forall xP(x)$

e) $\forall x((x\neq 3)\to P(x))\lor \exists x\neg P(x)$

20. 假设命题函数 $P(x)$ 的论域为整数 $-5, -3, -1, 1, 3$ 和 5。使用析取、合取和否定（而不使用量词）表达下列语句。

a) $\exists xP(x)$

b) $\forall xP(x)$

c) $\forall x((x\neq 1)\rightarrow P(x))$

d) $\exists x((x\geqslant 0)\land P(x))$

(e) $\exists x(\neg P(x))\land \forall x((x <   0)\to P(x))$

21. 找出使下列语句分别为真和假的相应的论域。

a)每一个人都在学离散数学

b)每一个人的年龄都超过21岁

c)每两个人都有相同的妈妈

d)没有两个不同的人有相同的祖母

22. 找出使下列语句分别为真和假的相应的论域。

a)每一个人都说印地语

b)有某个人的年龄超过21岁

c)每两个人都有相同的名字(first name)

d)某个人认识两个以上的其他人

23. 使用谓词、量词和逻辑联结词，以两种方式将下列语句翻译成逻辑表达式。首先，令论域为班上的学生；其次，令论域为所有人。

a)班上有人会说印地语

b)班上的每个人都很友好

c)班上有个学生不是出生在加利福尼亚  
d)班上有个学生曾演过电影  
e)班上没有学生上过逻辑编程课程

24. 使用谓词、量词和逻辑联结词，以两种方式将下列语句翻译成逻辑表达式。首先，令论域为班上的学生；其次，令论域为所有人。

a)班上的每个学生都有移动电话  
b)班上的某个学生曾看过外国影片  
c)班上的某个学生不会游泳  
d)班上的所有学生都会求解二次方程  
e)班上的某个学生不想变富

25. 使用谓词、量词和逻辑联结词，将下列语句翻译成逻辑表达式。

a)没有人是完美的  
b)不是每个人都是完美的  
c)你的所有朋友都是完美的  
d)你至少有一个朋友是完美的  
e)每个人都是你的朋友并且是完美的  
f)不是每个人都是你的朋友或有人并不是完美的

26. 通过改变论域并使用带有一个或两个变量的谓词，以三种不同的方式将下列语句翻译成逻辑表达式。

a)学校中的某个人去过乌兹别克斯坦  
b)班上的每个人都学过微积分和 $C++$   
c)学校里没有人同时拥有摩托车和自行车  
d)学校里有某个人不快乐  
e)学校里的每个人都生于20世纪

27. 通过改变论域并使用带有一个或两个变量的谓词，以三种不同的方式将下列语句翻译成逻辑表达式。

a)学校里的某个学生曾在越南居住过  
b)学校里的有个学生不会说印地语  
c)学校里的某个学生会用Java、Prolog和 $\mathrm{C} + +$   
d)班上的每个学生都喜欢泰国食物  
e)班上的某个学生不玩曲棍球

28. 使用谓词、量词和逻辑联结词，将下列语句翻译成逻辑表达式。

a)某些东西不在正确的位置上  
b)所有的工具都在正确的位置上并且状况良好  
c)每样东西都在正确的位置上并且状况良好  
d)没有东西在正确的位置上并且状况良好  
e)你的一个工具不在正确的位置上，但它状况良好

29. 使用逻辑运算符、谓词和量词来表达下列语句。

a)某些命题是永真式  
b)一个矛盾式的否定是一个永真式  
c)两个可能式的析取可以是一个永真式  
d)两个永真式的合取是一个永真式

30. 假定命题函数 $P(x, y)$ 的论域由 $x$ 和 $y$ 的序偶组成，其中 $x$ 是 1、2 或 3， $y$ 是 1、2 或 3。用析取式和合取式写出下列命题。

a) $\exists xP(x,3)$   
b) $\forall yP(1,y)$   
c) $\exists y\neg P(2,y)$   
d) $\forall x\neg P(x,2)$

31. 假定 $Q(x, y, z)$ 的论域由 $x$ 、 $y$ 和 $z$ 的三元组组成，其中 $x = 0$ 、1 或 2， $y = 0$ 或 1， $z = 0$ 或 1。用析取式和合取式写出下列命题。

a) $\forall yQ(0,y,0)$   
b) $\exists xQ(x,1,1)$   
c) $\exists z\neg Q(0,0,z)$   
d) $\exists x\neg Q(x,0,1)$

32. 用量词表达下列语句。然后取该语句的否定并使否定词不在量词的左边。再用简单语句表达这个否定式（不要简单地表达为“不是……”）。

a)所有的狗都有跳蚤   
b)有一匹马会做加法  
c)每只考拉都会爬树   
d)没有猴子会说法语  
e)有一只猪会游泳和捕鱼

33. 用量词表达下列语句。然后取该语句的否定并使否定词不在量词的左边。再用简单语句表达这个否定式（不要简单地表达为“不是……”）。

a)一些年长的狗会学习新的技巧  
b)没有兔子会微积分  
c)每只鸟都会飞   
d)没有狗会说话  
e)这个班上没有人会法语和俄语

34. 用量词表达下列命题的否定，再用语句表达这些否定。

a)一些司机不遵守限速

b)所有的瑞典电影都很严肃

c)没人能保守秘密

d)这个班上有的人没有良好的心态

35. 不用否定符号表达下面每个量化语句的否定式。

a) $\forall x(x > 1)$

b) $\forall x(x\leqslant 2)$

c) $\exists x(x\geqslant 4)$

d) $\exists x(x < 0)$

e) $\forall x((x < -1) \lor (x > 2))$

f) $\exists x((x < 4)\lor (x > 7))$

36. 不用否定符号表达下面每个量化语句的否定式。

a) $\forall x(-2 <   x <   3)$

b) $\forall x(0\leqslant x <   5)$

c) $\exists x(-4\leqslant x\leqslant 1)$

d) $\exists x(-5 <   x <   - 1)$

37. 找出下列全称量化命题的反例（如果可能的话），其中所有变量的论域是整数集合。

a) $\forall x(x^{2}\geqslant x)$

b) $\forall x(x > 0\lor x <   0)$

c) $\forall x(x = 1)$

38. 找出下列全称量化命题的反例（如果可能的话），其中所有变量的论域是实数集合。

a) $\forall x(x^{2}\neq x)$

b) $\forall x(x^{2}\neq 2)$

c) $\forall x(|x| > 0)$

39. 用谓词和量词表达下列语句。

a)航空公司的一位乘客可以被确认为贵宾资格，如果该乘客在一年中飞行里程超过25000英里，或在一年内乘坐航班次数超过25次。  
b)一名男选手可获准参加本次马拉松比赛，如果他以往最好成绩在3小时内；而一名女选手可获准参加马拉松比赛，如果她以往最好成绩在3.5小时内。  
c)一名学生要想取得硕士学位，必须至少修满60个学分，或至少修满45个学分并通过硕士论文答辩，并且所有必修课程的成绩不低于 $B$ 。  
d)有某个学生在一个学期内修了21个学分课程并且成绩都为 $A$ 。

练习 $40\sim 44$ 主要处理系统规范说明和涉及量词的逻辑表达式之间的翻译。

40. 将下列系统规范说明翻译成语句，其中谓词 $S(x, y)$ 是“ $x$ 在状态 $y$ ”， $x$ 和 $y$ 的论域分别是所有系统和所有可能的状态。

a) $\exists x S(x$ ，开放）  
b) $\forall x(S(x, \text{故障}) \vee S(x, \text{诊断}))$   
c) $\exists xS(x$ ，开放）V $\exists xS(x$ ，诊断）  
d) $\exists x \neg S(x$ ，可用）  
e) $\forall x \neg S(x$ ，工作）

41. 将下列规范说明翻译成语句，其中 $F(p)$ 是“打印机 $p$ 不能提供服务”， $B(p)$ 是“打印机 $p$ 很忙”， $L(j)$ 是“打印作业 $j$ 丢失了”， $Q(j)$ 是“打印作业 $j$ 在队列中”。

a) $\exists p(F(p)\land B(p))\to \exists jL(j)$

b) $\forall pB(p)\rightarrow \exists jQ(j)$

c) $\exists j(Q(j)\land L(j))\to \exists pF(p)$

d) $(\forall pB(p)\land \forall jQ(j))\to \exists jL(j)$

42. 使用谓词、量词和逻辑联结词表达下列系统规范说明。

a)当硬盘中的空闲空间少于30MB时，就会向所有用户发送警告消息。  
b)当检测到系统错误时，文件系统中的目录均不能打开且文件不能关闭。  
c)如果当前有登录用户，就不能备份文件系统。  
d)当有至少8MB内存可用且连接速度至少为56kbps时，就可以进行视频点播。

43. 使用谓词、量词和逻辑联结词表达下列系统规范说明。

a)如果磁盘有10MB以上的空闲空间，那么在非空的消息集合中至少可以保存一条邮件消息。  
b)每当有主动报警时，队列中的所有消息都会被传送出去。  
c)诊断监控器跟踪所有系统的状态，除了主控制台外。  
d)没有被主叫方列入特殊列表上的参与电话会议的每一方都会被计账。

44. 使用谓词、量词和逻辑联结词表达下列系统规范说明。

a)每个用户都可以访问电子邮箱。  
b)如果文件系统被锁定，该组中的每个人都能访问系统邮箱。  
c)防火墙处于诊断状态仅当代理服务器处于诊断状态。  
d)如果吞吐量在 $100\sim 500\mathrm{kbps}$ 且代理服务器不处于诊断模式，则至少有一个路由器工作正常。

45. 判断 $\forall x(P(x) \rightarrow Q(x))$ 和 $\forall xP(x) \rightarrow \forall xQ(x)$ 是否是逻辑等价的，并证明。  
46. 判断 $\forall x(P(x) \leftrightarrow Q(x))$ 和 $\forall xP(x) \leftrightarrow \forall xQ(x)$ 是否是逻辑等价的，并证明。  
47. 证明 $\exists x(P(x) \lor Q(x))$ 和 $\exists xP(x) \lor \exists xQ(x)$ 是逻辑等价的。

练习 $48\sim 51$ 给出了空量化(null quantification)的规则，当变量词约束的变量没有出现在语句的某一部分时可以使用该规则。

48. 证明下列逻辑等价式，其中 $x$ 在 $A$ 中不作为自由变量出现。假设论域非空。

a) $(\forall xP(x))\lor A\equiv \forall x(P(x)\lor A)$

b) $(\exists xP(x))\lor A\equiv \exists x(P(x)\lor A)$

49. 证明下列逻辑等价式，其中 $x$ 在 $A$ 中不作为自由变量出现。假设论域非空。

a) $(\forall xP(x))\land A\equiv \forall x(P(x)\land A)$

b) $(\exists xP(x))\land A\equiv \exists x(P(x)\land A)$

50. 证明下列逻辑等价式，其中 $x$ 在 $A$ 中不作为自由变量出现。假设论域非空。

a) $\forall x(A\to P(x))\equiv A\to \forall xP(x)$

b) $\exists x(A\to P(x))\equiv A\to \exists xP(x)$

51. 证明下列逻辑等价式，其中 $x$ 在 $A$ 中不作为自由变量出现。假设论域非空。

a) $\forall x(P(x)\rightarrow A)\equiv \exists xP(x)\rightarrow A$

b) $\exists x(P(x)\rightarrow A)\equiv \forall xP(x)\rightarrow A$

52. 证明 $\forall xP(x) \lor \forall xQ(x)$ 和 $\forall x(P(x) \lor Q(x))$ 不是逻辑等价的。  
53. 证明 $\exists xP(x) \land \exists xQ(x)$ 和 $\exists x(P(x) \land Q(x))$ 不是逻辑等价的。  
54. 正如文中提到的，符号 $\exists ! x P(x)$ 表示

“有唯一的 $x$ 使 $P(x)$ 为真。”

如果论域是整数集合，下列各语句的真值是什么？

a) $\exists !x(x > 1)$

b) $\exists !x(x^{2} = 1)$

c) $\exists !x(x + 3 = 2x)$

d) $\exists !x(x = x + 1)$

55. 下列语句的真值是什么？

a) $\exists !xP(x)\rightarrow \exists xP(x)$

b) $\forall xP(x)\rightarrow \exists !xP(x)$

c) $\exists !x\neg P(x)\rightarrow \neg \forall xP(x)$

56. 假定论域由整数 1、2 和 3 构成，试用否定、合取和析取写出量化命题 $\exists! x P(x)$ 。

57. 给定例 28 的 Prolog 事实, 对下列查询 Prolog 返回的是什么?

a)?instructor chan, math273)

b)?instructor(patel, cs301)

c)？enrolled(X，cs301)

d) ?enrolled (kiko, Y)

e)?teaches(grossman，Y)

58. 给定例 28 的 Prolog 事实, 对下列查询 Prolog 返回的是什么?

a)?enrolled(kevin，ee222)

b)？enrolled（kiko，math273）

c)?instructor(grossman，X)

d)?instructor(X, cs301)

e)?teaches(X, kevin)

59. 假定Prolog事实用于定义谓词mother $(M, Y)$ 和father $(F, X)$ ，分别表示 $M$ 是 $Y$ 的母亲， $F$ 是 $X$ 的父亲。试给出一个Prolog规则来定义谓词sibling $(X, Y)$ ，它表示 $X$ 和 $Y$ 是兄弟（也就是，有相同的父亲和母亲）。

60. 假定Prolog事实用于定义谓词mother(M，Y)和father(F，X)，分别表示M是Y的母亲，F是X的父亲。试给出一个Prolog规则来定义谓词grandfather(X，Y)，它表示X是Y的祖父。（提示：可以在Prolog中写一个析取式，使用分号分开谓词或将谓词放在不同的行中。）

练习 $61\sim 64$ 是根据刘易斯·罗卡尔(Lewis Carroll)的《符号逻辑》(Symbolic Logic)一书中的问题编写的。

61. 令 $P(x)$ 、 $Q(x)$ 和 $R(x)$ 分别表示语句“ $x$ 是教授”、“ $x$ 无知”和“ $x$ 爱虚荣”。用量词、逻辑联结词和 $P(x)$ 、 $Q(x)$ 、 $R(x)$ 表达下列语句，其中论域是所有人的集合。

a)没有教授是无知的

b)所有无知者均爱虚荣

c)没有教授是爱虚荣的

d) 能从 a 和 b 推出 c 吗？

62. 令 $P(x)$ 、 $Q(x)$ 和 $R(x)$ 分别表示语句“ $x$ 是个清楚的解释”、“ $x$ 令人满意”和“ $x$ 是借口”。假定 $x$ 的论域是所有中文文章。用量词；逻辑联结词； $P(x)$ 、 $Q(x)$ 、 $R(x)$ 表达下列语句。

a)所有清楚的解释都令人满意

b)有些借口不能令人满意

c)有些借口不是清楚的解释

$\star \mathbf{d})$ 能从a和b推出c吗？

63. 令 $P(x)$ 、 $Q(x)$ 、 $R(x)$ 和 $S(x)$ 分别为语句“ $x$ 是婴儿”、“ $x$ 的行为符合逻辑”、“ $x$ 能管理鳄鱼”和

“ $x$ 会被人轻视”。假定 $x$ 的论域是所有人的集合。用量词；逻辑联结词； $P(x)$ 、 $Q(x)$ 、 $R(x)$ 和 $S(x)$ 表达下列语句。

a) 婴儿的行为不符合逻辑

b)能管理鳄鱼的人不会被人轻视

c)行为不符合逻辑的人会被人轻视

d) 婴儿不能管理鳄鱼

$\ast \mathbf{e})$ 能从a、b和c推出d吗？如果不能，有没有一个正确的结论？

64. 令 $P(x), Q(x), R(x)$ 和 $S(x)$ 分别为语句“ $x$ 是只鸭子”、“ $x$ 是我的一只家禽”、“ $x$ 是一名官员”和“ $x$ 愿意跳华尔兹”。用量词；逻辑联结词； $P(x), Q(x), R(x)$ 和 $S(x)$ 表达下列语句。

a)没有鸭子愿意跳华尔兹

b)没有官员会拒绝跳华尔兹

c)所有我的家禽都是鸭子

d)我的家禽都不是官员

$\ast \mathbf{e})$ 能从a、b和c推出d吗？如果不能，有没有一个正确的结论？

# 1.5 嵌套量词

# 1.5.1 引言

在1.4节我们定义了存在量词和全称量词，并展示了如何用它们来表示数学语句。我们也解释了如何用它们将汉语语句翻译成逻辑表达式。可是在1.4节我们回避了嵌套量词，即一个量词出现在另一个量词的作用域内，如

$$
\forall x \exists y (x + y = 0)
$$

注意量词范围内的一切都可以认为是一个命题函数。比如，

$$
\forall x \exists y (x + y = 0)
$$

与 $\forall xQ(x)$ 是一样的，其中 $Q(x)$ 表示 $\exists yP(x,y)$ ，而 $P(x,y)$ 表示 $x + y = 0$ 。

嵌套量词经常会出现在数学和计算机科学中。尽管嵌套量词有时比较难理解，但在1.4节介绍过的规则却有助于我们使用它们。在本节中我们会获得处理嵌套量词的经验。我们会看到如何使用嵌套量词来表达这样的数学语句“两个正整数的和一定是正数。”我们还会展示如何利用嵌套量词将“每个人恰好有一个最要好的朋友”这样的句子翻译成逻辑语句。再者，我们还会获得处理嵌套量词的否定语句的经验。

# 1.5.2 理解涉及嵌套量词的语句

为了理解涉及嵌套量词的语句，我们需要阐明其中出现的量词和谓词的含义。具体如例1和例2所示。

例1 假定变量 $x$ 和 $y$ 的论域是所有实数的集合，语句

$$
\forall x \forall y (x + y = y + x)
$$

表示对所有实数 $x$ 和 $y$ ， $x + y = y + x$ 。这是实数加法的交换律。同样，语句

$$
\forall x \exists y (x + y = 0)
$$

表示对所有实数 $x$ ，有一个实数 $y$ ，使得 $x + y = 0$ 。也就是每个实数都有一个加法的逆。同样，语句

$$
\forall x \forall y \forall z (x + (y + z) = (x + y) + z)
$$

是实数加法的结合律。

例2 将下列语句翻译成汉语语句

$$
\forall x \forall y ((x > 0) \land (y <   0) \rightarrow (x y <   0))
$$

其中变量 $x$ 和 $y$ 的论域都是全体实数。

解 这个语句表示对任意实数 $x$ 和 $y$ ，如果 $x > 0$ 且 $y < 0$ ，那么 $xy < 0$ 。也就是说，这个语句表示对实数 $x$ 和 $y$ ，如果 $x$ 是正的且 $y$ 是负的，那么 $xy$ 就是负的。这可以更简洁地叙述为“一个正实数与一个负实数的积一定是负实数”。

将量化当作循环在处理多个变量的量化式时，有时候借助嵌套循环来思考是有益的。

![](a4435bce5ecf3ab3e758edef052bb47167bfd82920c44f82cf6a90deabe88127.jpg)

（当然，如果某个变量的论域有无穷多个元素，那么无法真正对所有值做循环。不过这种考虑方式对理解嵌套量词总是有益的。）例如，要判定 $\forall x \forall y P(x, y)$ 是否为真，我们先对 $x$ 的所有值做循环，而对 $x$ 的每个值再对 $y$ 的所有值循环。如果我们发现对 $x$ 和 $y$ 的所有值 $P(x, y)$ 都为真，那么我们就判定了 $\forall x \forall y P(x, y)$ 为真。只要我们碰上一个 $x$ 值，对这个值又碰上一个 $y$ 值使 $P(x, y)$ 为假，那么就证明了 $\forall x \forall y P(x, y)$ 为假。

同样，要判定 $\forall x\exists yP(x,y)$ 是否为真，就需要我们对 $x$ 的所有值循环。对 $x$ 的每个值，对 $y$ 的值循环直到找到一个 $y$ 使 $P(x,y)$ 为真。如果对 $x$ 的所有值，我们都能碰上这样的一个 $y$ 值，那么 $\forall x\exists yP(x,y)$ 为真。如果对某个 $x$ 我们碰不上这样的 $y$ ，那么 $\forall x\exists yP(x,y)$ 就为假。

要判定 $\exists x\forall yP(x,y)$ 是否为真，需要对 $x$ 的值循环直到找到某个 $x$ ，就这个 $x$ 对 $y$ 的所有值循环时 $P(x,y)$ 总是为真。如果能找到这样的 $x$ ， $\exists x\forall yP(x,y)$ 就为真。如果总也碰不上这样的 $x$ ，那么我们知道 $\exists x\forall yP(x,y)$ 为假。

最后要判定 $\exists x\exists yP(x,y)$ 是否为真。我们对 $x$ 的值循环，循环时对 $x$ 的每个值都对 $y$ 的值循环，直到找到 $x$ 的一个值和 $y$ 的一个值使 $P(x,y)$ 为真。只有当我们永远碰不上这样的 $x$ 和 $y$ 能使 $P(x,y)$ 为真时，语句 $\exists x\exists yP(x,y)$ 才为假。

# 1.5.3 量词的顺序

许多数学语句会涉及对多变量命题函数的多重量化。要注意的是，量词的顺序是很重要的，除非所有量词均为全称量词或均为存在量词。

这些评注可以通过例 $3\sim 5$ 来解释。

例3 令 $P(x, y)$ 为语句“ $x + y = y + x$ ”，量化式 $\forall x \forall y P(x, y)$ 和 $\forall y \forall x P(x, y)$ 的真值是什么？这里所有变量的论域是全体实数。

解 量化式

$$
\forall x \forall y P (x, y)
$$

表示的命题是“对所有实数 $x$ ，对所有实数 $y$ ， $x + y = y + x$ 成立。”因为 $P(x,y)$ 对所有实数 $x$ 和 $y$ 都为真(这是实数的加法交换律一一见附录1)，故 $\forall x\forall yP(x,y)$ 为真。注意语句 $\forall y$ $\forall xP(x,y)$ 表示“对所有实数 $y$ ，对所有实数 $x$ ， $x + y = y + x$ 。"这句的意思和“对所有实数 $x$ ，对所有实数 $y$ ， $x + y = y + x$ ”意义相同。也就是说， $\forall x\forall yP(x,y)$ 和 $\forall y\forall xP(x,y)$ 意义相同，都为真。这说明了这样一个原理，即在没有其他量词的语句中，在不改变量化式意义的前提下嵌套全称量词的顺序是可以改变的。

例4 令 $Q(x, y)$ 表示“ $x + y = 0$ ”，量化式 $\exists y \forall x Q(x, y)$ 和 $\forall x \exists y Q(x, y)$ 的真值是什么？这里所有变量的论域是全体实数。

解 量化式

$$
\exists y \forall x Q (x, y)
$$

表示的命题是

“存在一个实数 $y$ 使得对每一个实数 $x$ ， $Q(x,y)$ 都成立。”

不管 $y$ 取什么值，只存在一个 $x$ 值能使 $x + y = 0$ 成立。因为不存在这样的实数 $y$ 能使 $x + y = 0$ 对所有实数 $x$ 成立，故语句 $\exists y \forall x Q(x, y)$ 为假。

量化式

$$
\forall x \exists y Q (x, y)
$$

表示的命题是“对每个实数 $x$ 都存在一个实数 $y$ 使得 $Q(x, y)$ 成立。”给定一个实数 $x$ ，存在一个实数 $y$ 能使 $x + y = 0$ ，这个实数就是 $y = -x$ 。因此，语句 $\forall x \exists y Q(x, y)$ 为真。

例4说明量词出现的顺序会产生不同的影响。语句 $\exists y\forall xP(x,y)$ 和 $\forall x\exists yP(x,y)$ 不是逻辑等价的。语句 $\exists y\forall xP(x,y)$ 为真当且仅当存在一个 $y$ ，使得 $P(x,y)$ 对每个 $x$ 都成

立。因此，要使这一语句为真，必须有一个特定的 $y$ 值，使得无论 $x$ 为什么值， $P(x, y)$ 都成立。另一方面， $\forall x \exists y P(x, y)$ 为真当且仅当对 $x$ 的每一个值都存在一个 $y$ 值使 $P(x, y)$ 成立。所以，要使这个语句为真，不管你选什么 $x$ ，总有一个 $y$ 值（也许依赖于你选择的 $x$ ）使 $P(x, y)$ 成立。换言之，在第二种情况下， $y$ 随着 $x$ 而变，而在第一种情况下， $y$ 是与 $x$ 无关的常数。

从这些观察可以得出，如果 $\exists y\forall xP(x,y)$ 为真，则 $\forall x\exists yP(x,y)$ 必定也为真。可是，如果 $\forall x\exists yP(x,y)$ 为真， $\exists y\forall xP(x,y)$ 不一定为真(参见本章补充练习30和31)。

表1总结了涉及两个变量的不同量化式的含义。

表 1 两个变量的量化式  

<table><tr><td>语 句</td><td>何时为真</td><td>何时为假</td></tr><tr><td>\( \forall x\forall y P\left( {x,y}\right) \) \( \forall y\forall xP\left( {x,y}\right) \)</td><td>对每一对 \( x \) 、 \( y \) , \( P\left( {x,y}\right) \) 均为真</td><td>存在一对 \( x \) 、 \( y \) ,使得 \( P\left( {x,y}\right) \) 为假</td></tr><tr><td>\( \forall x\exists yP\left( {x,y}\right) \)</td><td>对每个 \( x \) ,都存在一个 \( y \) 使得 \( P\left( {x,y}\right) \) 为真</td><td>存在一个 \( x \) ,使得 \( P\left( {x,y}\right) \) 对每个 \( y \) 总 为假</td></tr><tr><td>\( \exists x\forall yP\left( {x,y}\right) \)</td><td>存在一个 \( x \) ,使得 \( P\left( {x,y}\right) \) 对所有 \( y \) 均为真</td><td>对每个 \( x \) ,存在一个 \( y \) 使得 \( P\left( {x,y}\right) \) 为假</td></tr><tr><td>\( \exists x\exists yP\left( {x,y}\right) \) \( \exists y\exists xP\left( {x,y}\right) \)</td><td>存在一对 \( x \) 、 \( y \) ,使 \( P\left( {x,y}\right) \) 为真</td><td>对每一对 \( x \) 、 \( y \) , \( P\left( {x,y}\right) \) 均为假</td></tr></table>

超过两个变量的量化式也很常见，如例5所示。

例5 令 $Q(x, y, z)$ 为语句“ $x + y = z$ ”，语句 $\forall x \forall y \exists z Q(x, y, z)$ 和 $\exists z \forall x \forall y Q(x, y, z)$ 的真值是什么，其中所有变量的论域都是全体实数？

解假定给 $x$ 和 $y$ 赋了值，那么就有一个实数 $z$ ，使得 $x + y = z$ 。于是量化式

$$
\forall x \forall y \exists z Q (x, y, z)
$$

它相当于语句“对所有实数 $x$ 和所有实数 $y$ ，存在一个实数 $z$ ，使得 $x + y = z$ ”为真。这里量词出现的顺序是很重要的，因为量化式

$$
\exists z \forall x \forall y Q (x, y, z)
$$

也就是语句“存在一个实数 $z$ 使得对所有实数 $x$ 和所有实数 $y$ ， $x + y = z$ ”为假，因为没有 $z$ 的值能使 $x + y = z$ 对 $x$ 和 $y$ 的所有值都成立。

# 1.5.4 数学语句到嵌套量词语句的翻译

用汉语表达的数学语句可以被翻译成逻辑表达式，如例 $6\sim 8$ 所示。

例6 将语句“两个正整数的和总是正数”翻译成逻辑表达式。

解 要将这个语句翻译成逻辑表达式，我们首先重写该句，这样隐含的量词和论域就会显现出来：“对每两个整数，如果它们都是正的，那么它们的和是正数。”然后，引入变量 $x$ 和 $y$ 就得到“对所有正整数 $x$ 和 $y$ ， $x + y$ 是正数”。因此，我们可以将这个语句表达为

$$
\forall x \forall y ((x > 0) \land (y > 0) \rightarrow (x + y > 0))
$$

其中这两个变量的论域是全体整数。注意，我们也可以将正整数作为论域来翻译该语句。这样语句“两个正整数的和总是正数”就变为“对于每两个正整数，它们的和是正的”。我们可以将它表达为

$$
\forall x \forall y (x + y > 0)
$$

其中两个变量的论域为全体正整数。

例7 将语句“除了0以外的每个实数都有一个乘法逆元”（一个实数 $x$ 的乘法逆元是使 $xy = 1$ 的实数 $y$ ）翻译成逻辑表达式。

解 我们首先重写这个语句为“对每个实数 $x$ （除了0以外）， $x$ 有一个乘法逆元”，然后可以再将之重写为“对每个实数 $x$ ，如果 $x \neq 0$ ，那么存在一个实数 $y$ 使得 $xy = 1$ ”。这可以重写为

$$
\forall x ((x \neq 0) \rightarrow \exists y (x y = 1))
$$

有一个你可能很熟悉的例子就是极限的概念，它在微积分中非常重要。

例8（需要微积分知识）用量词来表示实变量 $x$ 的实函数 $f(x)$ 在其定义域中点 $a$ 处的极限的定义。

解 回顾下面语句的定义

$$
\lim  _ {x \rightarrow a} f (x) = L
$$

是：对每个实数 $\varepsilon > 0$ ，存在一个实数 $\delta > 0$ ，使得对任意的 $x$ ，只要 $0 < |x - a| < \delta$ ，就有 $|f(x) - L| < \varepsilon$ 。极限的这一定义用量词可以表示为

$$
\forall \varepsilon \exists \delta \forall x (0 <   | x - a | <   \delta \rightarrow | f (x) - L | <   \varepsilon)
$$

其中 $\varepsilon$ 和 $\delta$ 的论域是正实数集合， $x$ 的论域是实数集合。

这一定义还可表示为

$$
\forall \varepsilon > 0 \exists \delta > 0 \forall x (0 <   | x - a | <   \delta \rightarrow | f (x) - L | <   \varepsilon)
$$

其中 $\varepsilon$ 和 $\delta$ 的论域为实数集合，而不是正实数集合。[这里，用到了受限量词。回忆一下 $\forall x > 0 P(x)$ 的意义是对所有 $x > 0$ 的数， $P(x)$ 为真。]

# 1.5.5 嵌套量词到自然语言的翻译

用嵌套量词表达汉语语句的表达式可能会相当复杂。在翻译这样的表达式时，第一步是写出表达式中量词和谓词的含义，第二步是用简单的句子来表达这个含义。例9和例10说明了这个过程。

例9 把语句

$$
\forall x (C (x) \vee \exists y (C (y) \wedge F (x, y)))
$$

翻译成汉语，其中 $C(x)$ 是“ $x$ 有一台计算机”， $F(x, y)$ 是“ $x$ 和 $y$ 是朋友”，而 $x$ 和 $y$ 的共同论域是学校全体学生的集合。

解该语句说的是，对学校中的每个学生 $x$ ，或者 $x$ 有一台计算机，或者另有一个学生 $y$ 他有一台计算机，且 $x$ 和 $y$ 是朋友。换言之，学校的每个学生或者有一台计算机或有一个有一台计算机的朋友。

例10 把语句

$$
\exists x \forall y \forall z ((F (x, y) \wedge F (x, z) \wedge (y \neq z)) \rightarrow \neg F (y, z))
$$

翻译成汉语，其中 $F(a, b)$ 的含义是 $a$ 和 $b$ 是朋友，而 $x$ 、 $y$ 和 $z$ 的论域是学校所有学生的集合。

解 我们先来看看表达式 $(F(x, y) \land F(x, z) \land (y \neq z)) \rightarrow \neg F(y, z)$ 。这个表达式说的是如果学生 $x$ 和 $y$ 是朋友，并且学生 $x$ 和 $z$ 是朋友，并且如果 $y$ 和 $z$ 不是同一个学生，则 $y$ 和 $z$ 就不是朋友。这样原先带有三个量词的语句说的就是，存在一个学生 $x$ ，使得对所有的学生 $y$ 以及不同于 $y$ 的所有学生 $z$ ，如果 $x$ 和 $y$ 是朋友， $x$ 和 $z$ 也是朋友，那么 $y$ 和 $z$ 就不是朋友。换句话说，有个学生，他的朋友之间都不是朋友。

# 1.5.6 汉语语句到逻辑表达式的翻译

在1.4节我们展示了如何用量词将句子翻译成逻辑表达式。然而，当时回避了在翻译成逻辑表达式时需要用到嵌套量词的语句。我们现在讨论这类句子的翻译。

例11 将语句“如果某人是女性且为人家长，那么这个人是某人的母亲”翻译成逻辑表达式，其中涉及谓词、量词（论域是所有人）以及逻辑联结词。

解 语句“如果一个人是女性且还是家长，则这个人是某个人的母亲”可以表达为“对每个人 $x$ ，如果 $x$ 是女性且 $x$ 是家长，那么存在一个人 $y$ 使得 $x$ 是 $y$ 的母亲”。我们引入谓词 $F(x)$ 来表示“ $x$ 是女性”， $P(x)$ 表示“ $x$ 是家长”， $M(x, y)$ 表示“ $x$ 是 $y$ 的母亲”。原始语句可以表示为

$$
\forall x ((F (x) \wedge P (x)) \rightarrow \exists y M (x, y))
$$

利用1.4节练习49的(b)部分的空量词规则，我们可以把 $\exists y$ 往左移使它恰好出现在 $\forall x$ 之后，因为 $y$ 不在 $F(x)\wedge P(x)$ 中出现。我们可以得到逻辑等价的表达式

$$
\forall x \exists y ((F (x) \wedge P (x)) \rightarrow M (x, y))
$$

例12 将语句“每个人恰好有一个最好的朋友”翻译成逻辑表达式，其中会涉及谓词、量词（论域是所有人）以及逻辑联结词。

解 语句“每个人恰好有一个最好的朋友”可以表达为“对每个人 $x$ ， $x$ 恰好有一个最好的朋友”。引入全称量词，可以看到这个语句和“ $\forall x (x$ 恰有一个最好的朋友)”一样，其中论域是所有人。

$x$ 恰好有一个最好的朋友意味着有一个人 $y$ ，他是 $x$ 最好的朋友。而且，对每个人 $z$ ，如果 $z$ 不是 $y$ ，那么 $z$ 不是 $x$ 最好的朋友。当我们引入谓词 $B(x,y)$ 为语句“ $y$ 是 $x$ 最好的朋友”，则语句“ $x$ 恰好有一个最好的朋友”可以表示为

$$
\exists y (B (x, y) \wedge \forall z ((z \neq y) \rightarrow \neg B (x, z)))
$$

因此，原始语句可以表示为

$$
\forall x \exists y (B (x, y) \wedge \forall z ((z \neq y) \rightarrow \neg B (x, z)))
$$

[注意，我们可以把这个语句写为 $\forall x\exists !yB(x,y)$ ，这里 $\exists$ 是1.4节定义的唯一性量词。]

例13 用量词表示语句“有一位妇女已搭乘过世界上每一条航线上的一个航班”。

解 令 $P(w, f)$ 为“ $w$ 搭乘过航班 $f$ ”， $Q(f, a)$ 为“ $f$ 是航线 $a$ 上的一个航班”。于是可将上述语句表示为

$$
\exists w \forall a \exists f (P (w, f) \land Q (f, a))
$$

其中， $w$ 、 $f$ 和 $a$ 的论域分别为世界上所有妇女、所有空中航班和所有航线。

这个语句也可以表示为

$$
\exists w \forall a \exists f R (w, f, a)
$$

其中 $R(w, f, a)$ 为“ $w$ 已搭乘过航线 $a$ 上的航班 $f$ ”。虽然这样表示更紧凑，但它使变量之间的关系有点含糊不清，因此，第一个解要好些。

# 1.5.7 嵌套量词的否定

带嵌套量词语句的否定可以通过连续地应用单个量词语句的否定规则得到。如例 $14\sim 16$ 所示。

例14 表达语句 $\forall x \exists y (xy = 1)$ 的否定，使得量词前面没有否定词。

解 通过连续地应用量词的德·摩根律（见1.4节表2），我们可以将 $\neg \forall x \exists y (xy = 1)$ 中的否定词移入所有量词里面。我们发现， $\neg \forall x \exists y (xy = 1)$ 等价于 $\exists x \neg \exists y (xy = 1)$ ，而后者又等价于 $\exists x \forall y (\exists xy = 1)$ 。由于 $\neg (xy = 1)$ 可以简化为 $xy \neq 1$ ，所以我们可以得出结论语句的否定可以表达为 $\exists x \forall y (xy \neq 1)$ 。

例15 使用量词表达语句“没有一个妇女已搭乘过世界上每一条航线上的一个航班”。

解这个语句是例13的语句“有一位妇女已搭乘过世界上每一条航线上的一个航班”的

否定。由例13可知，我们的语句可以表达为 $\neg \exists w\forall a\exists f(P(w,f)\land Q(f,a)$ ，其中 $P(w$ $f)$ 是“ $w$ 搭乘过航班 $f$ ”，而 $Q(f,a)$ 为“ $f$ 是航线 $a$ 上的航班”。通过连续地应用量词的德·摩根律(见1.4节表2)把否定移入连续的量词内，并在最后一步合取式的否定应用德·摩根律，我们发现给定的语句等价于下列语句序列中的每一个语句：

$$
\begin{array}{l} \forall w \neg \forall a \exists f (P (w, f) \land Q (f, a)) \equiv \forall w \exists a \neg \exists f (P (w, f) \land Q (f, a)) \\ \equiv \forall w \exists a \forall f \neg (P (w, f) \land Q (f, a)) \\ \equiv \forall w \exists a \forall f (\neg P (w, f) \vee \neg Q (f, a)) \\ \end{array}
$$

最后这个语句表示“对于每位妇女，存在一条航线，使得对所有的航班，这位妇女要么没有搭乘过该航班，要么该航班不在这条航线上”。

例16（需要微积分知识）使用量词和谓词表达 $\lim_{x\to a}f(x)$ 不存在这一事实，其中 $f(x)$ 是实变量 $x$ 的实值函数，而 $a$ 属于 $f$ 的定义域。

解 $\lim_{x\to a}f(x)$ 不存在意味着对全体实数 $L$ ， $\lim_{x\to a}f(x)\neq L$ 。根据例8， $\lim_{x\to a}f(x)\neq L$ 可以表达为

$$
\lnot \forall \varepsilon > 0 \exists \delta > 0 \forall x (0 <   | x - a | <   \delta \rightarrow | f (x) - L | <   \varepsilon)
$$

连续地应用量化表达式的否定规则，我们构造出一系列等价语句：

$$
\begin{array}{l} \lnot \forall \varepsilon > 0 \exists \delta > 0 \forall x (0 <   | x - a | <   \delta \rightarrow | f (x) - L | <   \varepsilon) \\ \equiv \exists \varepsilon > 0 \neg \exists \delta > 0 \forall x (0 <   | x - a | <   \delta \rightarrow | f (x) - L | <   \varepsilon) \\ \equiv \exists \varepsilon > 0 \forall \delta > 0 \neg \forall x (0 <   | x - a | <   \delta \rightarrow | f (x) - L | <   \varepsilon) \\ \equiv \exists \varepsilon > 0 \forall \delta > 0 \exists x \neg (0 <   | x - a | <   \delta \rightarrow | f (x) - L | <   \varepsilon) \\ \equiv \exists \varepsilon > 0 \forall \delta > 0 \exists x (0 <   | x - a | <   \delta \wedge | f (x) - L | \geqslant \varepsilon) \\ \end{array}
$$

在最后一步使用了等价式 $\neg (p\rightarrow q)\equiv p\land \neg q$ ，这是依据1.3节表7的第5个等价式。

由于“ $\lim_{x \to x_0} f(x)$ 不存在”意味着对全体实数 $L$ ， $\lim_{x \to x_0} f(x) \neq L$ ，这个语句可以表达为

$$
\forall L \exists \varepsilon > 0 \forall \delta > 0 \exists x (0 <   | x - a | <   \delta \wedge | f (x) - L | \geqslant \varepsilon)
$$

最后这个语句表示，对每个实数 $L$ ，存在实数 $\varepsilon >0$ 使得对每个实数 $\delta >0$ ，都存在实数 $x$ 使得 $0 <   |x - a| <   \delta$ 但是 $|f(x) - L|\geqslant \varepsilon_{\circ}$

# 练习

1. 将下列语句翻译成汉语句子，其中每个变量的论域是全体实数。

a) $\forall x\exists y(x <   y)$

b) $\forall x\forall y((x\geqslant 0)\land (y\geqslant 0))\rightarrow (xy\geqslant 0))$

c) $\forall x\forall y\exists z(xy = z)$

2. 将下列语句翻译成汉语句子，其中每个变量的论域是全体实数。

a) $\exists x\forall y(xy = y)$

(b) $\forall x\forall y((x\geqslant 0)\land (y <   0))\rightarrow (x - y > 0))$

c) $\forall x\forall y\exists z(x = y + z)$

3. 令 $Q(x, y)$ 是语句“ $x$ 已经发送电子邮件消息给 $y$ ”，其中 $x$ 和 $y$ 的论域都是班上的所有学生，将下列量化式表达成汉语句子。

a) $\exists x\exists yQ(x,y)$

b) $\exists x\forall yQ(x,y)$

c) $\forall x\exists yQ(x,y)$

d) $\exists y\forall xQ(x,y)$

e) $\forall y\exists xQ(x,y)$

f) $\forall x\forall yQ(x,y)$

4. 令 $P(x, y)$ 表示语句“学生 $x$ 选修课程 $y$ ”，其中 $x$ 的论域是班上全体学生的集合， $y$ 的论域是你校所有计算机科学课程的集合。用句子表达下列各量化式。

a) $\exists x\exists yP(x,y)$

b) $\exists x\forall yP(x,y)$

c) $\forall x\exists yP(x,y)$

d) $\exists y\forall xP(x,y)$

e) $\forall y\exists xP(x,y)$

f) $\forall x\forall yP(x,y)$

5. 令 $W(x, y)$ 表示“学生 $x$ 访问过网站 $y$ ”，其中 $x$ 的论域是你校全体学生集合， $y$ 的论域是所有网站的集合。用简单的句子表达下列语句。

a) $W$ (Sarah Smith, www.ATT.com)   
b) $\exists xW(x,\mathrm{www.imdb.org})$   
c) $\exists yW(\text{JoseOrez},y)$   
d) $\exists y(W(\text{Ashok Puri}, y) \land W(\text{Cindy Yoon}, y))$   
e) $\exists y\forall z(y\neq (\mathrm{David~Belcher})\land (W(\mathrm{David~Belcher},z)\to W(y,z)))$   
f) $\exists x\exists y\forall z((x\neq y)\land (W(x,z)\leftrightarrow W(y,z)))$

6. 令 $C(x, y)$ 表示“学生 $x$ 注册了课程 $y$ ”，其中 $x$ 的论域是你校全体学生的集合， $y$ 的论域是你校开设所有课程的集合。用简单的句子表达下列语句。

a)C(Randy Goldberg, CS 252)   
b) $\exists xC(x$ ，Math695）  
c) $\exists yC(\text{Carol Sitea}, y)$   
d) $\exists x(C(x, \text{Math 222}) \land C(x, \text{CS 252}))$   
e) $\exists x\exists y\forall z((x\neq y)\land (C(x,z)\rightarrow C(y,z)))$   
f) $\exists x\exists y\forall z((x\neq y)\land (C(x,z)\leftrightarrow C(y,z)))$

7. 令 $T(x, y)$ 表示学生 $x$ 喜欢菜肴 $y$ ，其中 $x$ 的论域是学校的所有学生， $y$ 的论域是所有菜肴。用简单的汉语句子表达下列语句。

a) $\neg T$ (Abdallah Hussein, Japanese)   
b) $\exists xT(x,\mathrm{Korean})\land \forall xT(x,\mathrm{Mexican})$   
c) $\exists y(T(\text{Monique Arsenault}, y) \vee T(\text{Jay Johnson}, y))$   
d) $\forall x\forall z\exists y((x\neq z)\to \neg (T(x,y)\land T(z,y)))$   
e) $\exists x\exists z\forall y(T(x,y)\leftrightarrow T(z,y))$   
f) $\forall x\forall z\exists y(T(x,y)\leftrightarrow T(z,y))$

8. 令 $Q(x, y)$ 为语句“学生 $x$ 为竞猜节目 $y$ 的参赛者”。用 $Q(x, y)$ 、量词和逻辑联结词表达下列语句，其中 $x$ 的论域是你校所有学生的集合， $y$ 的论域是所有电视上的竞猜节目。

a) 你校有位学生参加了一个电视竞猜节目。  
b)你校没有学生参加过电视竞猜节目。  
c)你校有位学生参加了“岌岌可危”(Jeopardy)和“幸运之轮”(Wheel of Fortune)两档电视竞猜节目。  
d)每个电视竞猜节目都有你校的一名参赛学生。  
e)你校至少有两名学生参加了“岌岌可危”节目。

9. 令 $L(x, y)$ 为语句“ $x$ 爱 $y$ ”，其中 $x$ 和 $y$ 的论域都是全世界所有人的集合。用量词表达下列语句。

a)每个人都爱Jerry

b)每个人都爱某个人

c)有个每个人都爱的人

d)没有人爱每个人

e)有个Lydia不爱的人

f)有个每人都不爱的人

g)恰有一个每人都爱的人

h)恰有两个Lynn爱的人

i)每个人都爱自己

j)有人除自己以外谁都不爱

10. 令 $F(x, y)$ 为语句“ $x$ 能愚弄 $y$ ”，其中 $x$ 和 $y$ 的论域为全世界所有人的集合。用量词表达下列语句。

a)每个人都能愚弄Fred

b)Evelyn能愚弄每个人

c)每个人都能愚弄某个人

d)没有人能愚弄每个人

e)每个人都会被某人愚弄

f)没有人能愚弄Fred和Jerry两个人

g) Nancy 恰能愚弄两个人

h)恰有一个每个人都能愚弄的人

i)没有人能愚弄自己

j)有人除自己以外恰能愚弄一个人

11. 令 $S(x)$ 为谓词“ $x$ 是学生”， $F(x)$ 为谓词“ $x$ 是教员”，而 $A(x, y)$ 是谓词“ $x$ 向 $y$ 请教过问题”，其中论域是你校所有人员的集合。用量词表达下列语句。

a)Lois向Michaels教授请教过问题。  
b)每个学生都向Gross教授请教过问题。  
c)每位教员都向Miller教授请教过问题或被Miller教授请教过问题。  
d)某个学生从未向任何教员请教过问题。  
e)有位教员从未被学生请教过问题。  
f)有个学生向所有教员请教过问题。  
g)有位教员向所有其他教员请教过问题。  
h)有学生从未被教员请教过问题。

12. 令 $I(x)$ 为语句“ $x$ 有因特网连接”， $C(x, y)$ 为语句“ $x$ 和 $y$ 在因特网上交谈过”，其中 $x$ 和 $y$ 的论域是你们班上所有学生的集合。用量词表达下列语句。

a) Jerry 没有因特网连接。

b)Rachel没在因特网上与Chelsea交谈过。

c)Jan和Sharon从未在因特网上交谈过。

d)班上没有人与Bob交谈过。

e)除Joseph以外，Sanjay与每个人都交谈过。

f)班上某人没有因特网连接。

g)班上并非每个人都有因特网连接。

h)班上恰有一人有因特网连接。

i)班上除一个学生外都有因特网连接。

j)班上每个有因特网连接的人至少与班上另一名学生在因特网上交谈过。

k)班上有人有因特网连接，但从未与班上其他人交谈过。

1)班上有两个学生没有在因特网上交谈过。

m)班上有个学生与班上每个人都在因特网上交谈过。

n)班上至少有两个学生没有与同一个人在因特网上交谈过。

o)班上有两个学生，他们两个合起来与班上其余每个人都交谈过。

13. 令 $M(x, y)$ 为“ $x$ 给 $y$ 发过电子邮件”， $T(x, y)$ 为“ $x$ 给 $y$ 打过电话”，其中论域为你们班上所有学生。用量词表达下列语句。（假定所有发出的电子邮件都能收到，尽管有时候并非如此。）

a)Chou 从未给Koko发过电子邮件。

b) Arlene 从未给 Sarah 发过电子邮件或打过电话。

c)Jose从未收到过Deborah的电子邮件。

d)班上每个学生都给Ken发过电子邮件。

e)班上没有人给Nina打过电话。

f)班上每个人或给Avi打过电话或给他发过电子邮件。

g)班上有某个学生给班上其他每个人都发过电子邮件。

h)班上有某个人给班上其他人或打过电话，或发过电子邮件。

i)班上有两个学生互发过电子邮件。

j)班上有一个学生给自己发过电子邮件。

k)班上有一个学生既没收到过班上其他人的电子邮件，也没接到过班上其他同学的电话。

1)班上每一个学生都从班上其他同学那里收到过电子邮件或接到过电话。

m)班上至少有两个学生，一个学生给另一个发过电子邮件，第二个学生则给第一个学生打过电话。

n)班上有两个同学，他们两个合起来给班上其余同学或发过电子邮件或打过电话。

14. 用量词和带有多个变量的谓词表达下列语句。

a)班上有个学生会说印地语。

b)班上每个学生都会玩一些运动项目。

c)班上某个学生去过阿拉斯加，但没去过夏威夷。

d)班上所有学生都至少学过一种程序设计语言。

e)班上有一个学生已选修了这个学校的某个系开设的所有课程。

f)班上某一个学生恰好与同班另一个学生在同一座城市长大。

g)班上每个学生都至少与另一位学生在至少一个聊天组里交谈过。

15. 用量词和带有多个变量的谓词表达下列语句。

a)每个计算机科学专业的学生都需要学一门离散数学课程。

b)班上有一个学生拥有一台个人计算机。

c)班上每个学生至少选修了一门计算机科学课程。

d)班上有一个学生至少选修了一门计算机科学课程。

e)班上每个学生都去过校园里的每座建筑。

f)班上有一个学生至少去过校园里的一座楼的每个房间。

g)班上每个学生至少都去过校园里每座楼的一个房间。

16. 离散数学班上有 1 个数学专业的新生，12 个数学专业的二年级学生，15 个计算机科学专业的二年级学生，2 个数学专业的三年级学生，2 个计算机科学专业的三年级学生，以及 1 个计算机科学专业的四年级学生。用量词表达下列语句，再给出其真值。

a)班上有一个三年级学生。  
b)班上每个学生都是计算机科学专业的。  
c)班上有个学生既不是数学专业的，也不是三年级学生。  
d)班上每个学生要么是二年级学生，要么是计算机科学专业的。  
e)有一个专业使得该班级有这个专业每一个年级的学生。

17. 使用谓词、量词和逻辑联结词（如果有必要）表达下列系统规范说明。

a)每个用户恰能访问一个邮箱。  
b)在所有错误状况下有某个进程能继续运行，仅当内核运行正确。  
c)校园网的所有用户都能访问具有.edu后缀的URL的所有站点。

$\star \mathbf{d})$ 恰有两个系统在监控每个远程服务器。

18. 使用谓词、量词和逻辑联结词（如果有必要）表达下列系统规范说明。

a)在各种故障情形下至少要有一个控制台必须可以访问。  
b)只要档案文件包含该系统的每个用户发送的至少一条消息，每个用户的E-mail地址就可以被检索到。  
c)对每个安全漏洞，至少有一个机制可以检测到这个漏洞当且仅当有一个进程还未被损害。  
d)至少有两条路径可以连接网络上任意两个不同的端点。  
e)没有人知道系统上每个用户的口令，除了系统管理员以外，他知道所有口令。

19. 使用数学运算符和逻辑运算符、谓词及量词表达下列语句，其中论域是全体整数。

a)两个负整数的和是负数。  
b)两个正整数的差不一定是正数。  
c)两个整数的平方和大于等于它们的和的平方。  
d)两个整数的积的绝对值等于它们的绝对值的积。

20. 使用谓词、量词、逻辑联结词和数学运算符表达下列语句，其中论域是全体整数。

a)两个负整数的积是正数。  
b)两个正整数的平均数是正数。  
c)两个负整数的差不一定是负数。  
d)两个整数的和的绝对值不大于它们的绝对值的和。

21. 使用谓词、量词、逻辑联结词和数学运算符表达语句“每个正整数是四个整数的平方和”。  
22. 使用谓词、量词、逻辑联结词和数学运算符表达语句“有一个正整数不是三个整数的平方和”。

23. 使用谓词、量词、逻辑联结词和数学运算符表达下列数学语句：

a)两个负实数的积是正数。

b)一个实数与它自身的差是零。

c)每个正实数恰有两个平方根。

d)负实数没有实数平方根。

24. 将下列嵌套量化式翻译成表达一个数学事实的汉语语句。论域均为全体实数。

a) $\exists x\forall y(x + y = y)$   
b) $\forall x\forall y((x\geqslant 0)\land (y <   0))\to (x - y > 0))$   
c) $\exists x\exists y((x\leqslant 0)\land (y\leqslant 0))\land (x - y > 0))$   
d) $\forall x\forall y((x\neq 0)\land (y\neq 0)\leftrightarrow (xy\neq 0))$

25. 将下列嵌套量化式翻译成表达一个数学事实的汉语语句。论域均为全体实数。

a) $\exists x\forall y(xy = y)$   
b) $\forall x\forall y((x <   0)\land (y <   0))\to (xy > 0))$   
c) $\exists x\exists y((x^{2} > y)\land (x <   y))$   
d) $\forall x\forall y\exists z(x + y = z)$

26. 令 $Q(x, y)$ 为语句“ $x + y = x - y$ ”。如果两个变量的论域都是整数集合，下列各项的真值是什么？

a) $Q(1, 1)$

b) $Q(2,0)$

c) $\forall yQ(1,y)$

d) $\exists xQ(x,2)$

e) $\exists x\exists yQ(x,y)$

f) $\forall x\exists yQ(x,y)$

g) $\exists y\forall xQ(x,y)$

h) $\forall y\exists xQ(x,y)$

i) $\forall x\forall yQ(x,y)$

27. 假定所有变量的论域都是整数集合，确定下列语句的真值。

a) $\forall n\exists m(n^{2} <   m)$

b) $\exists n\forall m(n <   m^2)$

c) $\forall n\exists m(n + m = 0)$

d) $\exists n\forall m(nm = m)$

e) $\exists n\exists m(n^{2} + m^{2} = 5)$

f) $\exists n\exists m(n^{2} + m^{2} = 6)$

g) $\exists n\exists m(n + m = 4\land n - m = 1)$

h) $\exists n\exists m(n + m = 4\land n - m = 2)$

i) $\forall n\forall m\nexists p(p = (m + n) / 2)$

28. 假定每个变量的论域都是实数集合，确定下列语句的真值。

a) $\forall x\exists y(x^{2} = y)$

b) $\forall x\exists y(x = y^2)$

c) $\exists x\forall y(xy = 0)$

d) $\exists x\exists y(x + y\neq y + x)$

e) $\forall x(x\neq 0\rightarrow \exists y(xy = 1))$

f) $\exists x\forall y(y\neq 0\rightarrow xy = 1)$

g) $\forall x\exists y(x + y = 1)$

h) $\exists x\exists y(x + 2y = 2\land 2x + 4y = 5)$

i) $\forall x\exists y(x + y = 2\land 2x - y = 1)$

j) $\forall x\forall y\exists z(z = (x + y) / 2)$

29. 假定命题函数 $P(x, y)$ 的论域由 $x$ 和 $y$ 的序偶组成，其中 $x$ 是 1、2 或 3， $y$ 是 1、2 或 3。用析取式和合取式写出下列命题。

a) $\forall x\forall yP(x,y)$

b) $\exists x\exists yP(x,y)$

c) $\exists x\forall yP(x,y)$

d) $\forall y\exists xP(x,y)$

30. 重写下列语句，使否定只出现在谓词中（即没有否定词在量词或在含逻辑联结词的表达式之外）。

a) $\neg \exists y\exists xP(x,y)$

b) $\neg \forall x\exists yP(x,y)$

c) $\neg \exists y(Q(y)\land \forall x\neg R(x,y))$

d) $\neg \exists y(\exists xR(x,y)\lor \forall xS(x,y))$

.e) $\neg \exists y(\forall x\exists zT(x,y,z)\lor \exists x\forall zU(x,y,z))$

31. 表达下列语句的否定，并且使所有的否定词紧跟在谓词之前。

a) $\forall x\exists y\forall zT(x,y,z)$

b) $\forall x\exists yP(x,y)\lor \forall x\exists yQ(x,y)$

c) $\forall x\exists y(P(x,y)\land \exists zR(x,y,z))$

d) $\forall x\exists y(P(x,y)\rightarrow Q(x,y))$

32. 表达下列语句的否定，并且使所有的否定词紧跟在谓词之前。

a) $\exists z\forall y\forall xT(x,y,z)$

b) $\exists x\exists yP(x,y)\land \forall x\forall yQ(x,y)$

c) $\exists x\exists y(Q(x,y)\leftrightarrow Q(y,x))$

d) $\forall y\exists x\exists z(T(x,y,z)\lor Q(x,y))$

33. 重写下列语句，使否定只出现在谓词中（即没有否定词在量词或在含逻辑联结词的表达式之外）。

a) $\neg \forall x\forall yP(x,y)$

b) $\neg \forall y\exists xP(x,y)$

c) $\neg \forall y\forall x(P(x,y)\lor Q(x,y))$

d) $\neg (\exists x\exists y\neg P(x,y)\land \forall x\forall yQ(x,y))$

e) $\neg \forall x (\exists y \forall z P(x, y, z) \land \exists z \forall y P(x, y, z))$

34. 给出变量 $x$ 、 $y$ 和 $z$ 的一个公共论域，使语句 $\forall x \forall y ((x \neq y) \rightarrow \forall z ((z = x) \lor (z = y)))$ 为真，再找出另外一个论域使其为假。

35. 给出变量 $x$ 、 $y$ 、 $z$ 和 $w$ 的一个公共论域，使语句 $\forall x \forall y \forall z \exists w((w \neq x) \land (w \neq y) \land (w \neq z))$ 为真，再找出另外一个论域使其为假。

36. 用量词表达下列语句。然后取该语句的否定并使否定词不在量词的左边。再用简单语句表达该否定（不要简单地表达为“不是……”）。

a)没有人因玩彩票输过1000多美元。

b)班上有一个学生恰好与另一个学生交谈过。

c)班上没人恰好给班里另外两个学生发过电子邮件。

d)某个学生已求解了本书的每道练习。

e)没有学生求解过本书每节至少一道练习。

37. 用量词表达下列语句。然后取该语句的否定并使否定词不在量词的左边。再用简单语句表达该否定（不要简单地表达为“不是……”）。

a)班上每个学生都恰好选修过本校两门数学课。

b)有人去过世界上除利比亚以外的每个国家。  
c)没有人攀登过喜马拉雅山的每座山峰。  
d)每位电影演员或者跟与 Kevin Bacon 拍过一部电影，或者跟与 Kevin Bacon 拍过一部电影的人拍过一部电影。

38. 用量词和语句表达下列命题的否定。

a)班上每个学生都喜欢数学。  
b)班上有一个学生从来没见过计算机。  
c)班上有一个学生选修过本校开设的每门数学课。  
d)班上有一个学生去过校园内每座楼的至少一个房间。

39. 找出下列全称量化语句的反例（如果可能的话），其中所有变量的论域是全体整数。

a) $\forall x\forall y(x^{2} = y^{2}\rightarrow x = y)$   
b) $\forall x\exists y(y^{2} = x)$   
c) $\forall x\forall y(xy\geqslant x)$

40. 找出下列全称量化语句的反例（如果可能的话），其中所有变量的论域是全体整数。

a) $\forall x\exists y(x = 1 / y)$   
b) $\forall x\exists y(y^{2} - x <   100)$   
c) $\forall x\forall y(x^{2}\neq y^{3})$

41. 用量词表达实数乘法的结合律。  
42. 用量词表达实数乘法对加法的分配律。  
43. 用量词和逻辑联结词表示这样的事实：每个实系数线性多项式（即1次多项式），其中 $x$ 的系数为非零，有恰好一个实根。  
44. 用量词和逻辑联结词表示这样的事实：每个实系数二次多项式至多有两个实根。  
45. 确定语句 $\forall x \exists y (xy = 1)$ 的真值，如果变量的论域为

a)非零实数。

b)非零整数。

c) 正实数。

46. 确定语句 $\exists x \forall y (x \leqslant y^2)$ 的真值，如果变量的论域为

a) 正实数。

b)整数。

c)非零实数。

47. 证明两个语句 $\neg \exists x \forall y P(x, y)$ 和 $\forall x \exists y \neg P(x, y)$ 是逻辑等价的，这里两个 $P(x, y)$ 第一个变元的量词具有相同的论域，两个 $P(x, y)$ 第二个变元的量词也具有相同的论域。  
* 48. 证明 $\forall xP(x) \lor \forall xQ(x)$ 和 $\forall x \forall y(P(x) \lor Q(y))$ 是逻辑等价的，这里所有量词都有相同的非空论域。（新变量 $y$ 用来把量化式正确地组合在一起。）  
* 49. a) 证明 $\forall xP(x) \land \exists xQ(x)$ 和 $\forall x \exists y(P(x) \land Q(y))$ 是逻辑等价的，这里所有量词都有相同的非空论域。  
b) 证明 $\forall xP(x) \lor \exists xQ(x)$ 和 $\forall x \exists y(P(x) \lor Q(y))$ 是逻辑等价的，这里所有量词都有相同的非空论域。

一个语句称为是前束范式(prenex normal form，PNF)当且仅当其表达形式为

$$
Q _ {1} x _ {1} Q _ {2} x _ {2} \dots Q _ {k} x _ {k} P (x _ {1}, x _ {2}, \dots , x _ {k})
$$

其中每个 $Q_{i}(i = 1,2,\dots ,k)$ 或是全称量词或是存在量词，并且 $P(x_{1},x_{2},\dots ,x_{k})$ 是不含量词的谓词。例如 $\exists x\forall y(P(x,y)\land Q(y))$ 是前束范式，而 $\exists xP(x)\lor \forall xQ(x)$ 不是（因为并不是所有量词都先出现）。每个由命题变量、谓词、T和F，并用逻辑联结词和量词构成的语句都等价于一个前束范式。练习51要求对这一事实给出证明。

*50. 把下列语句改为前束范式。[提示：利用1.3节的表6和表7，1.4节表2中的等价式，1.4节的例19，1.4节的练习 $47\sim 48$ ，以及练习48和49。]

a) $\exists xP(x)\lor \exists xQ(x)\lor A$ ，其中 $A$ 是不含量词的命题。

b) $\neg (\forall xP(x)\lor \forall xQ(x))$   
c) $\exists xP(x)\rightarrow \exists xQ(x)$

**51. 证明如何把任意语句变换为与之等价的前束范式。（注意：本练习的一个正式的解需要用到5.3节的结构归纳法。）  
*52. 用全称量化、存在量化和逻辑运算符来表达1.4节中引入的量化式 $\exists !xP(x)$ 。

# 1.6 推理规则

# 1.6.1 引言

本章后一部分我们将学习证明。数学中的证明是建立数学命题真实性的有效论证。所谓的论证(argument)，是指一连串的命题并以结论为最后的命题。所谓有效性(valid)，是指结论或论证的最后一个命题必须根据论证过程前面的命题或前提(premise)的真实性推出。也就是说，一个论证是有效的当且仅当不可能出现所有前提为真而结论为假的情况。为从已知命题中推出新的命题，我们应用推理规则，这是构造有效论证的模板。推理规则是建立命题真实性的基本工具。

在学习数学证明之前，我们先看看只涉及复合命题的论证。我们定义涉及复合命题的论证的有效性是什么意思。然后我们引入一系列命题逻辑的推理规则。这些规则是在产生有效论证时最重要的组成部分。在解释推理规则如何用于产生有效论证后，我们还将描述一些常见的错误推理，也称为谬误(fallacy)，它直接导致无效论证。

在学习命题逻辑的推理规则后，我们会引入量化命题的推理规则。我们将描述这些推理规则如何用于产生有效论证。这些用于涉及存在量词和全称量词的语句的推理规则在计算机科学和数学中扮演着非常重要的角色，尽管在使用时常常不会刻意提及。

最后，我们将展示命题的推理规则和量化命题的推理规则如何结合使用。这些推理规则在复杂的论证中通常结合在一起使用。

# 1.6.2 命题逻辑的有效论证

考虑下面涉及命题的论证（按定义是指一连串的命题）：

“如果你有一个当前密码，那么你可以登录到网络。”

“你有一个当前密码。”

所以，

“你可以登录到网络。”

我们想确定这是否是一个有效论证。也就是说，想要确定当前提“如果你有一个当前的密码，那么你可以登录到网络”和“你有一个当前密码”都为真时，结论“你可以登录到网络”是否为真。

在讨论这个特定论证的有效性之前，我们来看看它的形式。用 $p$ 代表“你有一个当前密码”，用 $q$ 代表“你可以登录到网络”。那么，这个论证形式化表示如下：

$$
\begin{array}{c}p \rightarrow q\\\frac {p}{q}\\\therefore q\end{array}
$$

其中：是表示“所以”的符号。

我们知道，当 $p$ 和 $q$ 是命题变量时，语句 $((p \rightarrow q) \land p) \rightarrow q$ 是一个永真式（见1.3节练习12c）。特别地，当 $p \rightarrow q$ 和 $p$ 都为真时，我们知道 $q$ 肯定为真。我们说语句的这种论证形式是有效的，因为无论什么时候，只要它的所有前提（论证中的所有语句，不包含最后的一句结论）为真，那么结论也必须为真。现在假设“如果你有一个当前密码，那么你可以登录到网络”和“你有一个当前密码”都为真。当用 $p$ 表示“你有一个当前密码”，用 $q$ 表示“你可以登录到网络”，那么接下来必然的结论是“你可以登录到网络”为真。这个论证是有效的，因为它的形式是有效的。注意，无论用什么命题替换 $p$ 和 $q$ ，只要 $p \rightarrow q$ 和 $p$ 都为真，那么 $q$ 也肯定为真。

当用命题替换这个论证形式中的 $p$ 和 $q$ ，但是 $p$ 和 $p \rightarrow q$ 不都为真时又会如何呢？比如，假设 $p$ 代表“你可以访问网络”， $q$ 代表“你能够改变你的成绩”，并且 $p$ 为真，但是 $p \rightarrow q$ 为假。在论证形式中替换 $p$ 和 $q$ 的值所得到的论证为：

“如果你可以访问网络，那么你能够改变你的成绩。”

“你可以访问网络。”

“你能够改变你的成绩。”

该论证是有效论证，但是因为其中一个前提即第一个前提为假，所以不能得出结论为真（很可能，这个结论为假）。

在讨论中，为了分析一个论证，我们用命题变量代替命题。这将一个论证改变为一个论证形式。我们发现，一个论证的有效性来自于论证形式的有效性。用这些关键概念的定义来总结用于讨论论证有效性的术语。

定义1 命题逻辑中的一个论证是一连串的命题。除了论证中最后一个命题外都叫作前提，最后那个命题叫作结论。一个论证是有效的，如果它的所有前提为真蕴含着结论为真。命题逻辑中的论证形式是一连串涉及命题变量的复合命题。无论用什么特定命题来替换其中的命题变量，如果前提均真时结论为真，则称该论证形式是有效的。

评注 从有效论证形式的定义可知，当 $(p_1 \wedge p_2 \wedge \dots \wedge p_n) \rightarrow q$ 是永真式时，带有前提 $p_1, p_2, \dots, p_n$ 以及结论 $q$ 的论证形式是有效的。

证明命题逻辑中论证有效性的关键就是要证明它的论证形式的有效性。因此，我们就需要有证明论证形式有效性的技术。现在我们将建立完成这一任务的方法。

# 1.6.3 命题逻辑的推理规则

我们总是可以用一个真值表来证明一个论证形式是有效的。通过证明只要前提为真则结论也就肯定为真来做到这一点。然而，这会是一个冗长乏味的方法。例如，当论证形式涉及10个不同的命题变量时，用真值表证明这个论证形式的有效性就需要 $2^{10} = 1024$ 行。幸运的是，我们不是必须采用真值表。反之，我们可以先建立一些相对简单的论证形式（称为推理规则）的有效性。这些推理规则可以作为基本构件用来构造更多复杂的有效论证形式。现在我们将介绍命题逻辑中最重要的推理规则。

永真式 $(p \wedge (p \rightarrow q)) \rightarrow q$ 是称为假言推理 (modus ponens) 或分离规则 (law of detachment) 的推理规则的基础。（拉丁文 modus ponens 的意思是确认模式 (mode that affirms)。）这个永真式导出了下面的有效论证形式，即在我们开始关于论证的讨论中已经看到的（同前，这里符号：·表示“所以”）：

$$
\begin{array}{c}p\\\frac {p \rightarrow q}{q}\\\therefore q\end{array}
$$

采用这种记法，将前提写成一列，随之是一条横线，接下来的一行以所以符号开头并以结论结尾。特别地，假言推理告诉我们，如果一个条件语句以及它的前提都为真，那么结论肯定为真。例1解释了假言推理的应用。

例1 假设条件语句“如果今天下雪，那么我们就去滑雪”以及它的前提“今天正在下雪”为真。那么，根据假言推理，条件语句的结论“我们就去滑雪”为真。

就像前面提到的，当一个或更多前提为假时，一个有效论证可能会导致一个错误的结论。在例2中将再次说明。

例2 确定如下给定的论证是否有效，并且确定由论证的有效性是否可以推出它的结论一定为真。

“如果 $\sqrt{2} >\frac{3}{2}$ ，那么 $(\sqrt{2})^{2} > \left(\frac{3}{2}\right)^{2}$

我们知道 $\sqrt{2} > \frac{3}{2}$ ，因此 $(\sqrt{2})^2 = 2 > \left(\frac{3}{2}\right)^2 = \frac{9}{4}$ 。

解 令 $p$ 为命题 $\sqrt{2} > \frac{3}{2}$ ，令 $q$ 为 $2 > \left(\frac{3}{2}\right)^2$ 。论证的前提为 $p \rightarrow q$ 和 $p$ ，而 $q$ 是结论。这个论证是有效的，因为这可以通过假言推理这个有效论证形式来构造。然而，其中的前提 $\sqrt{2} > \frac{3}{2}$ 为假。因此，我们不能得出结论为真。此外，注意这个论证的结论为假，因为 $2 < \frac{9}{4}$ 。

命题逻辑有许多很有用的推理规则。可能应用最广泛的推理规则如表1所示。1.3节练习 $13\sim 16$ 、25、33以及34要求证明这些推理规则是有效的论证形式。我们现在给出一些用到这些推理规则的论证的例子。在每一个论证中，首先用命题变量表达论证中的命题。然后我们证明所得论证形式是表1中的一个推理规则。

表 1 推理规则  

<table><tr><td>推理规则</td><td>永真式</td><td>名称</td></tr><tr><td>p
p→q
::q</td><td>(p∧(p→q))→q</td><td>假言推理</td></tr><tr><td>¬q
p→q
::¬p</td><td>(¬q∧(p→q))→¬p</td><td>取拒式</td></tr><tr><td>p→q
q→r
::p→r</td><td>((p→q)∧(q→r))→(p→r)</td><td>假言三段论</td></tr><tr><td>p∨q
¬p
::q</td><td>((p∨q)∧¬p)→q</td><td>析取三段论</td></tr><tr><td>p
::p∨q</td><td>p→(p∨q)</td><td>附加律</td></tr><tr><td>p∧q
::p</td><td>(p∧q)→p</td><td>化简律</td></tr><tr><td>p
q
::p∧q</td><td>((p)∧(q))→(p∧q)</td><td>合取律</td></tr><tr><td>p∨q
¬p∨r
::q∨r</td><td>((p∨q)∧(¬p∨r))→(q∨r)</td><td>消解律</td></tr></table>

例3 说出下列论证的基础是哪个推理规则：“现在气温在冰点以下。因此，要么现在气温在冰点以下，要么正在下雨。”

解设 $p$ 是命题“现在气温在冰点以下”，而 $q$ 是命题“现在正在下雨”。那么这个论证形如

$$
\therefore \frac {p}{p \vee q}
$$

这是使用附加律的论证。

例4 说出下列论证的基础是哪个推理规则：“现在气温在冰点以下并且现在正在下雨。因此，现在气温在冰点以下。”

解设 $p$ 是命题“现在气温在冰点以下”，而 $q$ 是命题“现在正在下雨”。这个论证形如

$$
\therefore \frac {p \wedge q}{p}
$$

这个论证使用了化简律。

例5 说出在下列论证里使用了哪个推理规则：

如果今天下雨，则我们今天就不吃烧烤了。如果我们今天不吃烧烤，则我们明天再吃烧烤。因此，如果今天下雨，则我们明天吃烧烤。

解设 $p$ 是命题“今天下雨”，设 $q$ 是命题“我们今天不吃烧烤”，而设 $r$ 是命题“我们明天吃烧烤”。则这个论证形如

$$
\begin{array}{c} p \to q \\ \frac {q \to r}{p \to r} \\ \therefore \end{array}
$$

因此，这个论证是假言三段论。

# 1.6.4 使用推理规则建立论证

当有多个前提时，常常需要用到多个推理规则来证明一个论证是有效的。例6和例7给出了解释，其中论证的每个步骤都显示在不同的行，并明确地写出每一步的理由。这些例子也可以用来证明如何使用推理规则来分析自然语言表述的论证。

例6 证明前提“今天下午不是晴天并且今天比昨天冷”，“只有今天下午是晴天，我们才去游泳”，“如果我们不去游泳，则我们将乘独木舟游览”，以及“如果我们乘独木舟游览，则我们将在黄昏前回家”，推导出结论“我们将在黄昏前回家”。

解设 $p$ 是命题“今天下午是晴天”， $q$ 是命题“今天比昨天冷”， $r$ 是命题“我们将去游泳”， $s$ 是命题“我们将乘独木舟游览”，而 $t$ 是命题“我们将在黄昏前回家”。那么这些前提表示为 $\neg p \wedge q, r \rightarrow p, \neg r \rightarrow s, s \rightarrow t$ 。结论则是 $t$ 。针对假设 $\neg p \wedge q, r \rightarrow p, \neg r \rightarrow s$ ，以及 $s \rightarrow t$ 和结论 $t$ ，我们需要给出一个有效论证。

如下构造一个论证来证明我们的前提能导致期望的结论。

# 步骤

1. $\neg p\land q$   
2. $\neg p$   
3. $r \rightarrow p$   
4. $\neg r$   
5. $\neg r\to s$   
6. $s$   
7. $s \rightarrow t$   
8. $t$

# 理由

前提引入  
化简律，用（1）  
前提引入  
取拒式，用（2）和（3）  
前提引入  
假言推理，用（4）和（5）  
前提引入  
假言推理，用（6）和（7）

注意我们也可以用真值表来证明只要四个前提的每一个都为真，那么结论也为真。然而，因为这里有5个命题变量 $p$ 、 $q$ 、 $r$ 、 $s$ 和 $t$ ，这样的真值表就会有32行。

例7 证明前提“如果你发电子邮件给我，则我会写完程序”，“如果你不发电子邮件给我，则我会早点睡觉”，以及“如果我早点睡觉，则我醒来时会感觉精力充沛”，导致结论“如果我不写完程序，则我醒来时会感觉精力充沛”。

解设 $p$ 是命题“你发电子邮件给我”， $q$ 是命题“我会写完程序”， $r$ 是命题“我早点睡觉”，而 $s$ 是命题“我醒来时会感觉精力充沛”。则这些前提是 $p \rightarrow q$ ， $\neg p \rightarrow r$ ， $r \rightarrow s$ 。期望的结论是 $\neg q \rightarrow s$ 。针对假设 $p \rightarrow q$ 、 $\neg p \rightarrow r$ ，以及 $r \rightarrow s$ 和结论 $\neg q \rightarrow s$ 我们需要给出一个有效论证。

这样的论证形式证明这些前提导出期望的结论。

# 步骤

1. $p\to q$   
2. $\neg q\to \neg p$   
3. $\neg p\rightarrow r$

# 理由

前提引入  
（1）的逆否命题  
前提引入

4. $\neg q \rightarrow r$ 假言三段论，用（2）和（3）  
5. $r\rightarrow s$ 前提引入  
6. $\neg q\rightarrow s$ 假言三段论，用（4）和（5）

# 1.6.5 消解律

已经开发出的计算机程序能够将定理的推理和证明任务自动化。许多这类程序利用称为消解律(resolution)的推理规则。这个推理规则基于永真式：

$$
((p \vee q) \wedge (\neg p \vee r)) \rightarrow (q \vee r)
$$

（此永真式的验证见1.3节练习34。）消解规则最后的析取式 $q \vee r$ 称为消解式(resolvent)。当在此永真式中令 $q = r$ 时，可得 $(p \vee q) \wedge (\neg p \vee q) \rightarrow q$ 。而且，当令 $r = \mathbf{F}$ 时，可得 $(p \vee q) \wedge (\neg p) \rightarrow q$ （因为 $q \vee \mathbf{F} \equiv q$ ），这是永真式，析取三段论规则就基于此式。

例8 使用消解律证明，假设“Jasmine在滑雪或现在没有下雪”和“现在下雪了或Bart在打曲棍球”蕴含结论“Jasmine在滑雪或Bart在打曲棍球。”

解 令 $p$ 为命题“现在下雪了”， $q$ 为命题“Jasmine在滑雪”， $r$ 为命题“Bart在打曲棍球”。我们可以将假设分别表示为 $\neg p \lor q$ 和 $p \lor r$ 。使用消解律，命题 $q \lor r$ 即“Jasmine在滑雪或者Bart在打曲棍球”成立。

消解律在基于逻辑规则的编程语言中扮演着重要的角色，如在Prolog中（其中用到了量化命题的消解规则）。而且，可以用消解律来构建自动定理证明系统。要使用消解律作为仅有的推理规则来构造命题逻辑中的证明，假设和结论必须表示为子句（clause），这里子句是指变量或其否定的一个析取式。我们可以将命题逻辑中非子句的语句用一个或多个等价的子句语句来替换。例如，假定有一个形如 $p \lor (q \land r)$ 的语句。因为 $p \lor (q \land r) \equiv (p \lor q) \land (p \lor r)$ ，所以我们可以用两个子句 $p \lor q$ 和 $p \lor r$ 来代替 $p \lor (q \land r)$ 。我们可以用语句 $\neg p$ 和 $\neg q$ 来代替形如 $\neg (p \lor q)$ 的语句，因为德·摩根律表明 $\neg (p \lor q) \equiv \neg p \land \neg q$ 。我们也可以用等价的析取式 $\neg p \lor q$ 来代替条件语句 $p \rightarrow q$ 。

例9 证明假设 $(p\wedge q)\lor r$ 和 $r\to s$ 蕴含结论 $p\vee s$

解 可以将假设 $(p \wedge q) \vee r$ 重写为两个子句 $p \vee r$ 和 $q \vee r$ 。还可以将 $r \rightarrow s$ 替换为等价的子句 $\neg r \vee s$ 。使用子句 $p \vee r$ 和 $\neg r \vee s$ ，通过消解律便可得出结论 $p \vee s$ 。

# 1.6.6 谬误

几种常见的谬误都来源于不正确的论证。这些谬误看上去像是推理规则，但是它们是基于可满足式而不是永真式。这里讨论这些谬误，是为了说明在正确与不正确的推理之间的区别。

命题 $((p\rightarrow q)\land q)\rightarrow p$ 不是永真式，因为当 $p$ 为假而 $q$ 为真时，它为假。不过，有许多不正确论证把它当作永真式。换句话说，它们把前提 $p\rightarrow q$ 和 $q$ 及结论 $p$ 当作有效论证形式，其实不然。这类不正确的推理称为肯定结论的谬误(fallacy of affirming the conclusion)。

例10 下列论证是否有效？

如果你做本书的每一道练习，则你就学习离散数学。你学过离散数学。

因此，你做过本书的每一道练习。

解设 $p$ 是命题“你做过本书的每一道练习”。设 $q$ 是命题“你学过离散数学”。这个论证形式是：如果 $p \rightarrow q$ 并且 $q$ ，则 $p$ 。这就是使用肯定结论谬误的不正确推理的一个例子。事实上，你可能通过其他某种方式而不是通过做本书的每一道练习来学习离散数学。（你可能通过阅读、听讲座、做本书的一些但不是全部练习等方式来学习离散数学。）

命题 $((p\rightarrow q)\land \neg p)\rightarrow \neg q$ 不是永真式，因为当 $p$ 为假而 $q$ 为真时，它为假。许多不正确的论证都错误地把它当作推理规则。这类不正确的推理称为否定假设的谬误（fallacy of denying the hypothesis）。

例11设 $p$ 和 $q$ 与例10一样。如果条件语句 $p \rightarrow q$ 为真，并且 $\neg p$ 为真，则得出 $\neg p$ 为真是否正确？换句话说，假定如果你做本书里每一道练习，则你就学习了离散数学；那么如果你没有做过本书里每一道练习，那么是否可以认为你没有学习离散数学？

解即使你没有做过本书里每一道练习，你也可能学过离散数学。这个不正确的论证具有这样的形式： $p\rightarrow q$ 和 $\neg p$ 蕴含 $\neg q$ ，这是一个否定假设的谬误的例子。

# 1.6.7 量化命题的推理规则

我们已经讨论了命题的推理规则。现在将要描述针对含有量词的命题的一些重要的推理规则。这些推理规则广泛地应用在数学论证中，但通常不会显式地提及。

全称实例(universal instantiation)是从给定前提 $\forall xP(x)$ 得出 $P(c)$ 为真的推理规则，其中 $c$ 是论域里的一个特定的成员。当我们从命题“所有女人都是聪明的”得出“Lisa是聪明的”结论时，这就使用了全称实例规则，其中Lisa是所有女人构成的论域中的一员。

全称引入（universal generalization）是从对论域里所有元素 $c$ 都有 $P(c)$ 为真的前提推出 $\forall x P(x)$ 为真的推理规则。我们可以通过从论域中任意取一个元素 $c$ 并证明 $P(c)$ 为真来证明 $\forall x P(x)$ 为真时，这就使用了全称引入规则。所选择的元素 $c$ 必须是论域里一个任意的元素，而不是特定的元素。也就是说，当我们从 $\forall x p(x)$ 断言对于论域中元素 $c$ 的存在性时，我们不能对 $c$ 进行控制，并且除了 $c$ 来自于论域以外不能对 $c$ 做出任何其他假设。在许多数学证明里都隐含地使用全称引入，而很少明确地指出来。然而，当应用全称引入时错误地添加关于任意元素 $c$ 莫名假设是错误推理中屡见不鲜的。

存在实例(existential instantiation)是允许从“如果我们知道 $\exists xP(x)$ 为真，得出在论域中存在一个元素 $c$ 使得 $P(c)$ 为真”的推理规则。这里不能选择一个任意值的 $c$ ，而必须是使得 $P(c)$ 为真的那个 $c$ 。通常我们不知道 $c$ 是什么，而仅仅知道它存在。因为它存在，所以可以给它一个名称 $(c)$ 从而继续论证。

存在引入（existential generalization）是用来从“已知有一特定的 $c$ 使 $P(c)$ 为真时得出 $\exists x P(x)$ 为真”的推理规则。即如果我们知道论域里一个元素 $c$ 使得 $P(c)$ 为真，则我们就知道 $\exists x P(x)$ 为真。

这些推理规则总结在表2中。例12和例13将要说明如何使用量化命题的推理规则。

表 2 量化命题的推理规则  

<table><tr><td>推理规则</td><td>名称</td></tr><tr><td>∀xP(x)
∴P(c)</td><td>全称实例</td></tr><tr><td>P(c), 任意c
∴ ∀xP(x)</td><td>全称引入</td></tr><tr><td>∃xP(x)
∴P(c), 对某个元素c</td><td>存在实例</td></tr><tr><td>P(c), 对某个元素c
∴∃xP(x)</td><td>存在引入</td></tr></table>

例12 证明前提“在这个离散数学班上的每个人都学过一门计算机课程”和“Marla是这个班上的一名学生”蕴含结论“Marla学过一门计算机课程”。

解设 $D(x)$ 表示“ $x$ 在这个离散数学班上的”，并且设 $C(x)$ 表示“ $x$ 学过一门计算机课程”。则前提是 $\forall x(D(x) \rightarrow C(x))$ 和 $D(\text{Marla})$ 。结论是 $C(\text{Marla})$ 。

下列步骤可以用来从前提建立结论。

步骤

理由

1. $\forall x(D(x)\rightarrow C(x))$

前提引入

2. $D(\mathrm{Marla})\to C(\mathrm{marla})$ 全称实例，用（1）  
3. $D(\mathrm{Marla})$ 前提引入  
4.C(Marla) 假言推理，用(2)和(3)

例13 证明前提“这个班上有个学生没有读过这本书”和“这个班上的每个人都通过了第一次考试”蕴含结论“通过第一次考试的某个人没有读过这本书”。

解 令 $C(x)$ 表示“ $x$ 在这个班上”， $B(x)$ 表示“ $x$ 读过这本书”， $P(x)$ 表示“ $x$ 通过了第一次考试”。前提是 $\exists x(C(x) \land \neg B(x))$ 和 $\forall x(C(x) \rightarrow P(x))$ 。结论是 $\exists x(P(x) \land \neg B(x))$ 。下列步骤可以用来从前提建立结论。

# 步骤

1. $\exists x(C(x)\land \neg B(x))$ 前提引入  
2. $C(a)\wedge \neg B(a)$ 存在实例，用（1）  
3. $C(a)$ 化简律，用（2）  
4. $\forall x(C(x)\rightarrow P(x))$ 前提引入  
5. $C(a)\to P(a)$ 全称实例，用（4）  
6. $P(a)$ 假言推理，用（3）和（5）  
7. $\neg B(a)$ 化简律，用（2）  
8. $P(a)\wedge \neg B(a)$ 合取律，用（6）和（7）  
9. $\exists x(P(x)\land \neg B(x))$ 存在引入，用（8）

# 1.6.8 命题和量化命题推理规则的组合使用

我们已经建立了命题的推理规则和量化命题的推理规则。注意我们在例12和例13的论证中既用了全称实例(量化命题推理规则)也用了假言推理(命题推理规则)。我们常常需要组合使用这些推理规则。由于全称实例和假言推理在一起使用是如此广泛，所以这种规则的组合有时称为全称假言推理（universal modus ponens）。这个规则告诉我们：如果 $\forall x(P(x)\rightarrow Q(x))$ 为真，并且如果 $P(a)$ 对在全称量词论域中的一个特定元素 $a$ 为真，那么 $Q(a)$ 也肯定为真。为了看清这点，请注意由全称实例示可得 $P(a)\rightarrow Q(a)$ 为真。然后，由假言推理可得 $Q(a)$ 也肯定为真。可以将全称假言推理描述如下：

$\forall x(P(x)\rightarrow Q(x))$ $P(a)$ ，其中 $a$ 是论域中一个特定的元素 $Q(a)$

全称假言推理常常用于数学论证中。这将在例14中说明。

例14 假定“对所有正整数 $n$ ，如果 $n$ 大于 4，那么 $n^2$ 小于 $2^n$ ”为真。用全称假言推理证明 $100^2 < 2^{100}$ 。

解 令 $P(n)$ 表示“ $n > 4$ ”， $Q(n)$ 表示“ $n^2 < 2^n$ ”。语句“对所有正整数 $n$ ，如果 $n$ 大于 4，那么 $n^2$ 小于 $2^n$ ”可以表示为 $\forall n (P(n) \rightarrow Q(n))$ ，其中论域为所有正整数。假设 $\forall n (P(n) \rightarrow Q(n))$ 为真。注意，因为 $100 > 4$ ，所以 $P(100)$ 为真。接着由全称假言推理可知 $Q(100)$ 为真，即 $100^2 < 2^{100}$ 。

另一个重要的命题逻辑推理规则和量化命题推理规则的组合是全称取拒式（universalmodus tollens）。全称取拒式将全称实例和取拒式组合在一起，可以用如下方式表达：

$\forall x(P(x)\rightarrow Q(x))$ $\neg Q(a)$ ，其中 $a$ 是论域中一个特定的元素：P(a)

全称取拒式的证明留作练习25。练习 $26\sim 29$ 将设计更多的命题逻辑推理规则和量化命题推理规则的组合规则。

# 练习

1. 找出下列论证的论证形式，并判定是否有效。如果前提为真，能断定结论为真吗？

如果苏格拉底是人，那么苏格拉底是会死的。

苏格拉底是人

·苏格拉底是会死的

2. 找出下列论证的论证形式，并判定是否有效。如果前提为真，能断定结论为真吗？

如果George没有8条腿，那么它就不是蜘蛛。

George是蜘蛛。

$\therefore$ George有8条腿

3. 在下列每个论证里使用了什么推理规则？

a) Alice 主修数学。因此，Alice 主修数学或计算机科学。  
b) Jerry 主修数学和计算机科学。因此，Jerry 主修数学。  
c)如果今天下雨，则游泳池将关闭。今天下雨。因此，游泳池关闭。  
d)如果今天下雪，则大学将关闭。今天大学没有关闭。因此，今天没有下雪。  
e)如果我去游泳，则我会在太阳下停留过久。如果我在太阳下停留过久，则我会有晒斑。因此，如果我去游泳，则我会有晒斑。

4. 在下列每个论证里使用了什么推理规则？

a) 袋鼠生活在澳大利亚并且是有袋类动物。因此，袋鼠是有袋类动物。  
b)今天气温高于100度或者污染是有害的。今天外面气温低于100度。因此，污染是有害的。  
c)Linda是优秀的游泳者。如果Linda是优秀的游泳者，则她可以当救生员。因此，Linda可以当救生员。  
d)今年夏天Steve将在计算机公司工作。因此，今年夏天Steve将在计算机公司工作或者在海滩闲逛。  
e)如果我整夜做这个作业，则我可以解答所有的习题。如果我解答所有的习题，则我会理解这些资料。因此，如果我整夜地做这个作业，则我会理解这些资料。

5. 使用推理规则证明前提“Randy很用功”、“如果Randy很用功，则他是一个笨孩子”以及“如果Randy是一个笨孩子，则他不会得到工作”蕴含着结论“Randy不会得到工作”。  
6. 使用推理规则证明前提“如果天不下雨或天不起雾，则帆船比赛将举行并且救生表演将进行”、“如果帆船比赛举行，则将颁发奖杯”以及“没有颁发奖杯”蕴含着结论“天下雨了”。  
7. 在下面的著名论证里使用了什么推理规则？“所有的人都是要死的。苏格拉底是人。因此，苏格拉底是要死的。”  
8. 在下面的论证里使用了什么推理规则？“没有人是岛屿。曼哈顿是岛屿。因此，曼哈顿不是人。”  
9. 对下列的每组前提，可以得出什么样的相关结论？试解释从前提获得每个结论时所使用的推理规则。

a)“如果我某天休假，则那天下雨或下雪”。“我在周二休假或在周四休假”。“周二出太阳”。“周四未下雪。”  
b）“如果我吃了辣的食物，则我会做奇怪的梦”。“如果我睡觉时打雷，则我会做奇怪的梦”。“我没有做奇怪的梦。”  
c）“我或者聪明或者幸运。”“我不幸运。”“如果我幸运，则我将赢得大奖。”  
d）“每个主修计算机科学的人都有一台个人计算机。”“Ralph没有个人计算机。”“Ann有一台个人计算机。”  
e）“对公司有利的就对美国有利。”“对美国有利的就对你有利。”“对公司有利的就是你购买许多东西。”  
f）“所有的啮齿类动物都啃咬它们的食物。”“老鼠是啮齿类动物。”“野兔不啃咬它们的食物。”“蝙蝠不是啮齿类动物。”

10. 对下列的每组前提，可以得出什么样的相关结论？试解释从前提获得每个结论时所使用的推理规则。

a)“如果我打曲棍球，则我第二天会感到酸痛。”“如果我感到酸痛，则我会用水疗。”“我没有用水疗。”

b)“如果我工作，则天晴或半晴。”“我上周一工作或上周五工作。”“周二不是晴天。”“周五也不是半晴。”  
c)“所有的昆虫都有6条腿。”“蜻蜓是昆虫。”“蜘蛛不是6条腿。”“蜘蛛吃蜻蜓。”  
d)“每个学生都有因特网账号。”“Homer没有因特网账号。”“Maggie有因特网账号。”  
e)“所有对健康有益的食物都不好吃。”“豆腐对健康有益。”“你只吃好吃的东西。”“你不吃豆腐。”“汉堡包对健康无益。”  
f)“我在做梦或在幻觉中。”“我没有做梦。”“如果我在幻觉中，则我看见大象在路上跑。”

11. 证明如果由前提 $p_1, p_2, \dots, p_n, q$ 及结论 $r$ 构成的论证形式是有效，则由前提 $p_1, p_2, \dots, p_n$ 及结论 $q \rightarrow r$ 构成的论证形式也是有效。  
12. 应用练习 11 和表 1 中的推理规则证明：由前提 $(p \wedge t) \rightarrow (r \vee s)$ ， $q \rightarrow (u \wedge t)$ ， $u \rightarrow p$ 和 $\neg s$ 及结论 $q \rightarrow r$ 构成的论证形式是有效的。  
13. 对下列每个论证，解释对每个步骤使用了哪条推理规则。

a)“班上的学生 Doug 知道如何写 Java 程序。知道如何写 Java 程序的每个人都可以得到高薪的工作。因此，班上的某些人可以得到高薪的工作。”  
b)“班上的某个人喜欢观赏鲸鱼。每个喜欢观赏鲸鱼的人都关心海洋污染。因此，班上有人关心海洋污染。”  
c)“班上的93个学生每人拥有一台个人计算机。拥有个人计算机的每个人都会使用字处理软件。因此，班上的学生Zeke会使用字处理软件。”  
d)“新泽西州的每个人都生活在距离海洋50英里之内。新泽西州的某些人从来没有见过海洋。因此，生活在距离海洋50英里之内的某些人从来没有见过海洋。”

14. 对下列每个论证，解释对每个步骤使用了哪条推理规则。

a)“本班学生 Linda 拥有红色敞篷汽车。拥有红色敞篷汽车的每个人都至少领到一张超速罚单。因此，本班的某人领到一张超速罚单。”  
b)“5位室友中的每一位（Melissa、Aaaron、Ralph、Veneesha和Keeshawn）都选修过离散数学课程。每位选修过离散数学课程的学生都可以选修算法课程。因此，所有5位室友明年都可以选修算法课程。”  
c)“John Sayles 制作的所有电影都很好看。John Sayles 制作过关于煤矿工人的电影。因此，有一部很好看的关于煤矿工人的电影。”  
d)“本班有人到过法国。到过法国的每个人都会参观卢浮宫。因此，本班有人参观过卢浮宫。”

15. 判断下列论证是否正确并解释原因。

a)班上的所有学生都懂逻辑。Xavier是这个班上的学生。因此，Xavier也懂逻辑。  
b)每个计算机专业的学生都要学离散数学。Natasha在学离散数学，因此，Natasha是计算机专业的。  
c)所有鹦鹉都喜欢吃水果。我养的鸟不是鹦鹉，因此，我养的鸟不喜欢吃水果。  
d)每天吃麦片的人都很健康。Linda不健康，因此，Linda没有每天吃麦片。

16. 判断下列论证是否正确并解释原因。

a)每一个上大学的人都住过宿舍。Mia从未住过宿舍，因此，Mia没有上过大学。  
b)敞篷轿车开起来感觉很好。Isaac的车不是敞篷的，因此，Isaac的车开起来感觉不好。  
c) Quincy 喜欢所有的动作电影。Quincy 喜欢电影《Eight Men Out》，因此，《Eight Men Out》是一部动作电影。  
d)所有捕虾者都设置了至少12个陷阱。Hamilton是捕虾者，因此，Hamilton设置了至少12个陷阱。

17. 如下论证错在哪里？令 $H(x)$ 为“ $x$ 很开心”。给定前提 $\exists x H(x)$ ，我们得出 $H(\text{Lola})$ 。因此，LoLa很开心。

18. 如下论证错在哪里？令 $S(x, y)$ 为“ $x$ 比 $y$ 嵌”。给定前提 $\exists sS(s, \mathrm{Max})$ ，可得出 $S(\mathrm{Max}, \mathrm{Max})$ 。由存在引入可得出 $\exists xS(x, x)$ ，因此某人比他自己矮。

19. 判定下列每个论证是否有效。如果论证是正确的，使用了什么推理规则？如果它不正确，出现了什么逻辑错误？

a)如果 $n$ 是满足 $n > 1$ 的实数，则 $n^2 >1$ 。假定 $n^2 >1$ 。于是 $n > 1$ 。

b)如果 $n$ 是满足 $n > 3$ 的实数，则 $n^2 >9$ 。假定 $n^2\leqslant 9$ 。于是 $n\leqslant 3$   
c)如果 $n$ 是满足 $n > 2$ 的实数，则 $n^2 >4$ 。假定 $n\leqslant 2$ 。于是 $n^2\leqslant 4$ 。

20. 判定以下是否为有效论证。

a)如果 $x$ 是正实数，那么 $x^{2}$ 是正实数。因此，如果 $a^2$ 是正的，这里 $a$ 是实数，则 $a$ 是正实数。  
b)如果 $x^{2}\neq 0$ ，这里 $\mathcal{X}$ 是实数，则 $x\neq 0$ 。设 $a$ 是实数， $a^2\neq 0$ ，则 $a\neq 0$

21. 哪些推理规则用来建立 1.4 节例 26 里所描述的卡洛尔 (Lewis Carroll) 论证的结论？  
22. 哪些推理规则用来建立 1.4 节例 27 里所描述的卡洛尔 (Lewis Carroll) 论证的结论？  
23. 指出如下试图证明“如果 $\exists xP(x) \land \exists xQ(x)$ 为真，那么 $\exists x(P(x) \land Q(x))$ 为真”的论证中有哪些错误。

1. $\exists xP(x) \lor \exists xQ(x)$ 前提引入  
2. $\exists xP(x)$ 化简律，用（1）  
3. $P(c)$ 存在实例，用（2）  
4. $\exists xQ(x)$ 化简律，用（1）  
5. $Q(c)$ 存在实例，用（4）  
6. $P(c)\wedge Q(c)$ 合取律，用(3)和(5)   
7. $\exists x(P(x)\land Q(x))$ 存在引入

24. 指出如下试图证明“如果 $\forall x(P(x) \lor Q(x))$ 为真，那么 $\forall xP(x) \lor \forall xQ(x)$ 为真”的论证中有哪些错误。

1. $\forall x(P(x) \vee Q(x))$ 前提引入  
2. $P(c)\lor Q(c)$ 全称实例，用（1）  
3. $P(c)$ 化简律，用（2）  
4. $\forall xP(x)$ 全称引入，用（3）  
5. $Q(c)$ 化简律，用（2）  
6. $\forall xQ(x)$ 全称引入，用（5）  
7. $\forall xP(x)\lor \forall xQ(x)$ 合取律，用（4）和（6）

25. 通过证明前提 $\forall x(P(x) \rightarrow Q(x))$ 和 $\neg Q(a)$ ，推出 $\neg P(a)$ （其中 $a$ 是对论域中某个特定元素）来检验全称取拒式。  
26. 试证明全称传递性，即，如果 $\forall x(P(x) \rightarrow Q(x))$ 和 $\forall x(Q(x) \rightarrow R(x))$ 为真，则 $\forall x(P(x) \rightarrow R(x))$ 为真，这里所有量词的论域都是相同的。  
27. 用推理规则证明：如果 $\forall x(P(x) \rightarrow (Q(x) \land S(x)))$ 和 $\forall x(P(x) \land R(x))$ 为真，则 $\forall x(R(x) \land S(x))$ 为真。  
28. 用推理规则证明：如果 $\forall x(P(x) \lor Q(x))$ 和 $\forall x((\neg P(x) \land Q(x)) \rightarrow R(x))$ 为真，则 $\forall x(\neg R(x) \rightarrow P(x))$ 也为真，这里所有量词的论域都是相同的。  
29. 用推理规则证明：如果 $\forall x(P(x) \lor Q(x))$ 和 $\forall x(\neg Q(x) \lor S(x))$ ， $\forall x(R(x) \rightarrow \neg S(x))$ 和 $\exists x \neg P(x)$ 为真，则 $\exists x \neg R(x)$ 为真。  
30. 使用消解律证明前提“Allen 是一个坏男孩或 Hillary 是一个好女孩”和“Allen 是一个好男孩或 David 很开心”蕴含结论“Hillary 是一个好女孩或 David 很开心”。  
31. 使用消解律证明前提“天没下雨或Yvette带雨伞了”，“Yvette没有带雨伞或她没有被淋湿”和“天下雨了或Yvette没有被淋湿”蕴含“Yvette没有被淋湿”。  
32. 结合消解律和前提为假的条件语句为真这一事实可推导出等价式 $p \wedge \neg p \equiv F$ 。[提示：令 $q = r = F$ 。]  
33. 用消解律证明复合命题 $(p \vee q) \wedge (\neg p \vee q) \wedge (p \vee \neg q) \wedge (\neg p \vee \neg q)$ 不是可满足的。  
34. 逻辑问题，选自《逻辑游戏：WFF'N PROOF》(WFF'N PROOF, The Game of Logic)，有下面两个假设：

1）“逻辑是很难的或没有许多学生喜欢逻辑”。  
2）“如果数学是容易的，则逻辑不是很难的”。

把这些假设翻译成含有命题变量和逻辑联结词的命题，判定下面每个命题是不是这些假设的有效结论：

a) 如果有许多学生喜欢逻辑，则数学不是容易的。  
b)如果数学不是容易的，则没有许多学生喜欢逻辑。  
c)数学不是容易的或者逻辑是很难的。  
d) 逻辑不是很难的或数学不是容易的。  
e) 如果没有许多学生喜欢逻辑，则数学不是容易的或者逻辑不是很难的。

*35. 判定下列论证（选自 Kalish and Montague[KaMo64]）是否有效：

如果超人能够并愿意防止邪恶，则他将这样做。如果超人不能够防止邪恶，则他就是无能的；如果超人不愿意防止邪恶，则他就是恶意的。超人没有防止邪恶。如果超人存在，则他是无能的或者恶意的。因此，超人不存在。

# 1.7 证明导论

# 1.7.1 引言

本节我们介绍证明的概念并描述构造证明的方法。一个证明是建立数学语句真实性的有效论证。证明可以使用定理的假设（如果有的话），假定为真的公理以及之前已经被证明的定理。使用这些以及推理规则，证明的最后一步是建立被证命题的真实性。

在我们的讨论中，将从定理的形式化证明转向非形式化证明。1.6节介绍的涉及命题和量化命题为真的论证是形式化证明，其中提供了所有步骤，并给出论证中每一步所用到的规则。然而，许多有用定理的形式化证明会非常长且难以理解。实际上，为方便人们阅读，定理证明几乎都是非形式化证明(informal proof)，其中每个步骤会用到多于一条的推理规则，有些步骤会被省略，不会显式地列出所用到的假设公理和推理规则。非形式化证明常常能向人们解释定理为什么为真，而计算机则更乐意用自动推理系统产生形式化证明。

本章讨论的证明方法很重要，不仅因为它们用于证明数学定理，而且它们在计算机科学中也有许多应用。这些应用包括验证计算机程序是正确的、建立安全的操作系统、在人工智能领域做推理、证明系统规范说明是一致的等。因此，对于数学和计算机科学而言，理解证明中的技术非常必要。

# 1.7.2 一些专用术语

一个定理（theorem）形式上就是一个能够被证明是真的语句。在数学描述中，定理一词通常是用来专指那些被认为至少有些重要的语句。不太重要的定理有时称为命题（定理也可以称为事实（fact)或结论(result)）。一个定理可以是带一个或多个前提及一个结论的条件语句的全称量化式。当然，它也可以是其他类型的逻辑语句，就如本章稍后会看到的一些例子。我们用一个证明(proof)来展示一个定理是真的。证明就是建立定理真实性的一个有效论证。证明中用到的语句可以包括公理（axiom）（或假设(postulate)），这些是我们假定为真的语句（例如，在附录1中给出的实数公理，以及平面几何的公理）、定理的前提（如果有的话）和以前已经被证明的定理。公理可以采用无须定义的原始术语来陈述，而在定理和证明中所用的所有其他术语都必须是有定义的。推理规则和其术语的定义一起用于从其他的断言推出结论，并绑定在证明中的每个步骤。实际上，一个证明的最后一步通常恰好是定理的结论。然而，为清晰起见，我们通常会重述定理的结论作为一个证明的最后步骤。

一个重要性略低但有助于证明其他结论的定理称为引理（lemma）。当用一系列引理来进行复杂的证明时通常比较容易理解，其中每一个引理都被独立证明。推论（corollary）是从一个已经被证明的定理可以直接建立起来的一个定理。猜想（conjecture）是一个被提出认为是真的命题，通常是基于部分证据、启发式论证或者专家的直觉。当猜想的一个证明被发现时，猜想就变成了定理。许多时候猜想被证明是假的，因此它们不是定理。

# 1.7.3 理解定理是如何陈述的

在介绍证明定理的方法之前，我们需要理解数学定理是如何陈述的。许多定理断言一个性质相对于论域（比如整数或实数）中的所有元素都成立。虽然这些定理的准确陈述需要包含全称量词，但是数学里的标准约定是省略全称量词。比如，语句“如果 $x > y$ ，其中 $x$ 和 $y$ 是正实数，那么 $x^{2} > y^{2}$ ”其实意味着“对所有正实数 $x$ 和 $y$ ，如果 $x > y$ ，那么 $x^{2} > y^{2}$ ”。

此外，当证明这种类型的定理时，证明的第一步通常涉及选择论域里的一个一般性元素。随后的步骤是证明这个元素具有所考虑的性质。最后，全称引入蕴含着定理对论域里所有元素都成立。

# 1.7.4 证明定理的方法

证明数学定理有可能很艰难。要构造证明，我们需要所有可用的手段，包括不同证明方法的强大的工具库。这些方法提供了证明的总体思路和策略。理解这些方法是学习如何阅读并构造数学证明的关键所在。一旦我们选定了一种证明方法，我们使用公理、术语的定义、先前证明的结论和推理规则来完成证明。注意在本书中我们总是假定附录1中关于实数的公理。当我们证明关于几何学的结论时也会假定常用的公理。当你自己构造证明时，一定要小心不要使用除了公理、定义、已证结论之外的任何东西作为事实！

为了证明形如 $\forall x(P(x) \rightarrow Q(x))$ 的定理，我们的目标是证明 $P(c) \rightarrow Q(c)$ 为真，其中 $c$ 是论域中的任意元素，然后应用全称引入规则。在这个证明中，需要证明条件语句为真。正因为如此，我们可以专注于证明条件语句为真的方法。回忆一下 $p \rightarrow q$ 为真，除非 $p$ 为真且 $q$ 为假。注意当要证明语句 $p \rightarrow q$ 时，我们只需要证明如果 $p$ 为真则 $q$ 为真。下面的讨论将给出最常见的证明条件语句的技术。之后将讨论证明其他类型语句的方法。在本小节以及1.8节，我们将开发一个大的证明技术工具库，可用于证明多种不同类型的定理。

当你阅读证明时，你常常会发现这样的词语“显然地”或者“清楚地”。这些词意味着作者预期读者有能力补上的一些步骤已经省略。遗憾的是，这个假设往往无法保证读者根本不确定怎么补上这些省略的步骤。我们将努力避免使用这些词语，并试图避免省略太多的步骤。然而，如果我们保留证明中的所有步骤，我们的证明将会变得极其冗长。

# 1.7.5 直接证明法

条件语句 $p \rightarrow q$ 的直接证明法的构造：第一步假设 $p$ 为真；第二步用推理规则构造，而第三步表明 $q$ 必须也为真。直接证明法是通过证明如果 $p$ 为真，那么 $q$ 也肯定为真，这样 $p$ 为真且 $q$ 为假的情况永远不会发生从而证明条件语句 $p \rightarrow q$ 为真。在直接证明中，我们假定 $p$ 为真，并且用公理、定义和前面证明过的定理，加上推理规则来证明 $q$ 必须也为真。你会发现许多结论的直接证明法是直截了当的。从假设导向结论这种直接的方法基本上取决于当前阶段可能有的前提。然而，直接证明法有时候需要特殊的洞察力并且可能是相当棘手的。这里给出的第一个直接证明相当简单。稍后你会看到一些需要洞察力的证明。

我们会提供几个不同的直接证明法的例子。在给出第一个例子前，我们还需要定义一些术语。

定义1 整数 $n$ 是偶数，如果存在一个整数 $k$ 使得 $n = 2k$ ；整数 $n$ 是奇数，如果存在一个整数 $k$ 使得 $n = 2k + 1$ 。（注意，每个整数或为偶数或为奇数，没有整数同时是偶数和奇数。）两个整数当同为偶数或同为奇数时具有相同的奇偶性；当一个是偶数而另一个是奇数时具有相反的奇偶性。

例1给出定理“如果 $n$ 是奇数，则 $n^2$ 是奇数”的直接证明。

解注意这个定理表述 $\forall n(P(n)\rightarrow Q(n))$ ，这里 $P(n)$ 是“ $n$ 是奇数”， $Q(n)$ 是“ $n^2$ 是奇数”。正如前面所说，我们会遵循数学证明中通常的惯例，证明 $P(n)$ 意味着 $Q(n)$ ，而不显式

使用全称实例规则。要对这个定理进行直接证明，我们假设这个条件语句的前提为真，即假设 $n$ 是奇数。由奇整数的定义，可得 $n = 2k + 1$ ，其中 $k$ 是某个整数。我们要证明 $n^2$ 也是奇数。在等式 $n = 2k + 1$ 两边取平方得到表达 $n^2$ 的等式。这样，我们得出 $n^2 = (2k + 1)^2 = 4k^2 + 4k + 1 = 2(2k^2 + 2k) + 1$ 。由奇数定义，可以得到结论 $n^2$ 是奇数（它是一个整数的2倍再加1）。因此，我们证明了如果 $n$ 是奇数，则 $n^2$ 是奇数。

例2 给出一个直接证明：如果 $m$ 和 $n$ 都是完全平方数，那么 $nm$ 也是一个完全平方数。（一个整数 $a$ 是一个完全平方数，如果存在一个整数 $b$ 使得 $a = b^2$ 。）

解为了构造这个定理的一个直接证明，我们假定这个条件语句的前提为真，即假定 $m$ 和 $n$ 都是完全平方数。由完全平方数的定义可知，存在整数 $s$ 和 $t$ 使得 $m = s^2$ ， $n = t^2$ 。证明的目的是证明当 $m$ 和 $n$ 是完全平方数时 $mn$ 也必须是完全平方数。通过用 $s^2$ 替换 $m$ 以及用 $t^2$ 替换 $n$ ，我们就能看到如何朝着目标进行证明了。这就得到 $mn = s^2 t^2$ 。故再由乘法交换律和结合律，可得 $mn = s^2 t^2 = (ss)(tt) = (st)(st) = (st)^2$ 。由完全平方数的定义可得， $mn$ 也是一个完全平方数，因为它是 $st$ 的平方，这里 $st$ 为一整数。这就证明了如果 $m$ 和 $n$ 都是完全平方数，那么 $nm$ 也是一个完全平方数。

# 1.7.6 反证法

直接证明法从定理的假设导向结论。它们从前提开始，继续一连串的推演，最终以结论作为结束。然而，我们会发现尝试直接证明法有时候会走进死胡同。我们需要其他方法来证明形如 $\forall x(P(x) \rightarrow Q(x))$ 的定理。不采用直接证明法，即不从前提开始以结论结束来证明这类定理的方法叫作间接证明法。

一类非常有用的间接证明法称为反证法（proof by contraposition）。反证法利用了这样一个事实：条件语句 $p \rightarrow q$ 等价于它的逆否命题 $\neg q \rightarrow \neg p$ 。这意味着条件语句 $p \rightarrow q$ 的证明可以通过证明它的逆否命题 $\neg q \rightarrow \neg p$ 为真来完成。用反证法证明 $p \rightarrow q$ 时，我们将 $\neg q$ 作为前提，再用公理、定义和前面证明过的定理，以及推理规则，证明 $\neg p$ 必须成立。我们用两个例子来解释反证法。这些例子表明当不容易找到直接证明时用反证法会很有效。

例3 证明如果 $n$ 是一个整数且 $3n + 2$ 是奇数，则 $n$ 是奇数。

解 我们首先尝试直接证明。为构建直接证明，首先假设 $3n + 2$ 是奇整数。由奇数的定义，我们知道存在某个整数 $k$ 使得 $3n + 2 = 2k + 1$ 。我们能由此证明 $n$ 是奇数吗？我们可以看到 $3n + 1 = 2k$ ，但似乎没有任何直接的方式可以得出 $n$ 是奇数的结论。由于直接证明的尝试失败，我们接下来尝试反证法。

反证法的第一步是假设条件语句“如果 $3n + 2$ 是奇数，则 $n$ 是奇数”的结论是假的，也就是说，假设 $n$ 是偶数。于是由偶数定义可知，存在某个整数 $k$ 有 $n = 2k$ 。把 $n$ 用 $2k$ 代入，得到 $3n + 2 = 3(2k) + 2 = 6k + 2 = 2(3k + 1)$ 。这就告诉我们 $3n + 2$ 是偶数（因为它是2的倍数），因此不是奇数。这是定理前提的否定。因为条件语句结论的否定蕴含着前提为假，所以原来的条件语句为真。这样反证法就成功了，我们证明了定理“如果 $3n + 2$ 是奇数，则 $n$ 是奇数”。

例4 证明如果 $n = ab$ ，其中 $a$ 和 $b$ 是正整数，那么 $a \leqslant \sqrt{n}$ 或者 $b \leqslant \sqrt{n}$ 。

解因为没有简单明了的方法能从等式 $n = ab$ （其中 $a$ 和 $b$ 是正整数）直接证明 $a \leqslant \sqrt{n}$ 或者 $b \leqslant \sqrt{n}$ ，所以尝试反证法。

反证法的第一步是假定条件语句“如果 $n = ab$ ，其中 $a$ 和 $b$ 是正整数，那么 $a \leqslant \sqrt{n}$ 或者 $b \leqslant \sqrt{n}$ ”的结论为假。也就是说，假定 $(a \leqslant \sqrt{n}) \vee (b \leqslant \sqrt{n})$ 为假。由析取的含义和德·摩根律可知，这蕴含着 $(a \leqslant \sqrt{n})$ 和 $(b \leqslant \sqrt{n})$ 都为假。这又蕴含着 $a > \sqrt{n}$ 并且 $b > \sqrt{n}$ 。我们将两个不等式相乘（用到的事实是如果 $0 < s < t$ 且 $0 < u < v$ ，那么 $su < tv)$ 得到 $ab > \sqrt{n} \cdot \sqrt{n} = n$ 。这表

明 $ab \neq n$ ，与命题 $n = ab$ 矛盾。

因为条件语句结论的否定蕴含前提为假，所以原来的条件语句为真。这里反证法是可行的，我们证明了如果 $n = ab$ ，其中 $a$ 和 $b$ 是正整数，那么 $a \leqslant \sqrt{n}$ 或者 $b \leqslant \sqrt{n}$ 。

空证明和平凡证明 当我们知道 $p$ 为假时，能够很快证明条件语句 $p \rightarrow q$ 为真，因为当 $p$ 为假时 $p \rightarrow q$ 一定为真。因此，如果能证明 $p$ 为假，那么我们就有一个 $p \rightarrow q$ 的证明方法，称为空证明（vacuous proof）。空证明通常用于证明定理的一些特例，如一个条件语句对所有正整数均为真（即形如 $\forall nP(n)$ 的定理，其中 $P(n)$ 是命题函数）。这类定理的证明技术将在5.1节中讨论。

例5 证明命题 $P(0)$ 为真，其中 $P(n)$ 是“如果 $n > 1$ ，则 $n^2 > n$ ”，论域是所有整数的集合。

解 注意命题 $P(0)$ 就是“如果 $0 > 1$ ，则 $0^2 > 0$ ”。我们可以用空证明来证 $P(0)$ 。事实上，前提 $0 > 1$ 为假。所以 $P(0)$ 自动地为真。

评注 条件语句的结论 $0^{2} > 0$ 为假与该条件语句的真值无关，因为前提为假的条件语句是确保为真的。

例6 证明如果 $n$ 是满足 $10 \leqslant n \leqslant 15$ 的完全平方数，则 $n$ 亦是一个完全立方数。

解 注意到在 $10 \leqslant n \leqslant 15$ 范围中的 $n$ 没有完全平方数，因为 $3^2 = 9$ 而 $4^2 = 16$ 。故语句 $n$ 是满足 $10 \leqslant n \leqslant 15$ 的完全平方数对所有 $n$ 都是假的。因此，要证明的语句对所有 $n$ 为真。

如果知道结论 $q$ 为真，我们也能够很快就证明条件语句 $p \rightarrow q$ 。通过证明 $q$ 为真，可以推出 $p \rightarrow q$ 一定为真。用 $q$ 为真的事实来证明 $p \rightarrow q$ 的方法叫作平凡证明（trivial proof）。平凡证明方法常常是很重要的，尤其是要证明定理的一些特例时（见1.8节分情形证明的讨论）以及在数学归纳法（在5.1节中将讨论一种证明技术）的证明中。

例7设 $P(n)$ 是“如果 $a$ 和 $b$ 是满足 $a\geq b$ 的正整数，则 $a^n\geq b^n$ ”，其中论域是所有非负整数的集合。证明命题 $P(0)$ 为真。

解 命题 $P(0)$ 是“如果 $a \geq b$ ，则 $a^0 \geq b^0$ ”。因为 $a^0 = b^0 = 1$ ，所以条件语句“如果 $a \geq b$ ，则 $a^0 \geq b^0$ ”的结论为真。从而条件语句 $P(0)$ 为真。这是平凡证明法的一个例子。注意前提“ $a \geq b$ ”在这个证明里用不到。

证明的小策略 我们已经阐述了证明形如 $\forall x(P(x) \rightarrow Q(x))$ 的定理的两种重要方法：直接证明法和反证法。我们还给出了示例说明如何使用每种方法。然而，当面临证明形如 $\forall x(P(x) \rightarrow Q(x))$ 的定理时，你会选择哪一种方法试图去证明它呢？这里我们提供一些经验法则，在1.8节将用更大篇幅详细讨论证明策略。

当想要证明形如 $\forall x(P(x)\rightarrow Q(x))$ 的命题时，首先评估直接证明法是否可行。可以通过展开前提中的定义开始。通过利用这些前提，结合公理和可用的定理进行推理。如果直接证明法得不到什么结果，比如不像例3和例4那样有一个清晰的方法可以利用假设来得到结论，则可以尝试反证法来证明之。（很难从诸如 $x$ 是无理数或 $x\neq 0$ 这样的假设来进行推理，这个线索也告诉你间接证明可能是最好的办法。）

回顾一下，在反证法中要假定条件语句的结论为假，并使用直接证明法来证明这蕴含着前提必为假。通常你会发现反证法很容易从结论的否定出发来构造。例8和例9展示了这种策略。在每个例子中，注意到当没有明显的直接证明方法时，反证法是相当简单明了的。

在给出例子前，我们需要一个定义。

定义2 实数 $r$ 是有理数，如果存在整数 $p$ 和 $q (q \neq 0)$ 使得 $r = p / q$ 。不是有理数的实数称为无理数。

例8 证明两个有理数之和是有理数。（注意如果这里要包含隐含量词，我们要证明的定理就是：“对于每个实数 $r$ 和每个实数 $s$ ，如果 $r$ 和 $s$ 是有理数，则 $r + s$ 是有理数。）

解 首先尝试直接证明法。假设 $r$ 和 $s$ 是有理数。由有理数的定义可知，存在整数 $p$ 和 $q$

$(q \neq 0)$ 使得 $r = p / q$ ，存在整数 $t$ 和 $u(u \neq 0)$ 使得 $s = t / u$ 。我们能用这个信息证明 $r + s$ 是有理数吗？即我们能否找到整数 $v$ 和 $w$ 使得 $r + s = v / w$ 且 $w \neq 0$ ？

有了寻找整数 $v$ 和 $\omega$ 的目标，我们把 $r = p / q$ 和 $s = t / u$ 相加，用 $qu$ 作为公分母，得到

$$
r + s = \frac {p}{q} + \frac {t}{u} = \frac {p u + q t}{q u}
$$

因为 $q \neq 0$ 且 $u \neq 0$ ，所以 $qu \neq 0$ 。因此，我们已经把 $r + s$ 表示为两个整数 $v = pu + qt$ 和 $w = qu$ 的比值，其中 $\overline{w} \neq 0$ 。这意味着 $r + s$ 是有理数。我们证明了两个有理数之和是有理数，寻求直接证明的尝试成功了。

例9 证明如果 $n$ 是整数且 $n^2$ 是奇数，则 $n$ 是奇数。

解 首先尝试直接证明法。假设 $n$ 是整数且 $n^2$ 是奇数。由奇数的定义，存在整数 $k$ 使得 $n^2 = 2k + 1$ 。我们能用这个信息证明 $n$ 是奇数吗？似乎没有显而易见的方法来证明 $n$ 是奇数，因为求解 $n$ 会得出等式 $n = \pm \sqrt{2k + 1}$ ，而这毫无用处。

因为直接证明法的尝试没有见效，所以我们接下来尝试反证法。我们将语句“ $n$ 不是奇数”作为前提。因为每个整数不是奇数便是偶数，这意味着 $n$ 为偶数。这蕴含存在整数 $k$ 使得 $n = 2k$ 。为了证明这个定理，我们需证明这个前提蕴含着结论“ $n^2$ 不是奇数”，即 $n^2$ 是偶数。我们能用 $n = 2k$ 实现这个目标吗？在这个等式两边取平方，可得 $n^2 = 4k^2 = 2(2k^2)$ ，这蕴含着 $n^2$ 也是偶数，因为 $n^2 = 2t$ ，其中 $t = 2k^2$ 。这样就证明了如果 $n$ 是整数且 $n^2$ 是奇数，则 $n$ 是奇数。寻找反证法的尝试成功了。

# 1.7.7 归谬证明法

假设我们要证明命题 $p$ 是真的。再假定我们能找到一个矛盾式 $q$ 使得 $\neg p \rightarrow q$ 为真。因为 $q$ 是假的，而 $\neg p \rightarrow q$ 是真的，所以我们能够得出结论 $\neg p$ 为假，这意味着 $p$ 为真。怎样才能找到一个矛盾式 $q$ 以这样的方式帮助我们证明 $p$ 是真的呢？

因为无论 $r$ 是什么，命题 $r \wedge \neg r$ 就是矛盾式，所以如果我们能够证明对某个命题 $r$ ， $\neg p \rightarrow (r \wedge \neg r)$ 为真，就能证明 $p$ 是真的。这种类型的证明称为归谬证明法（proof by contradiction）。由于归谬证明法不是直接证明结论，所以它是另一种间接证明法。下面给出3个归谬证明的例子。第一个例子是鸽巢原理（将在6.2节深入介绍的一种组合学技术）的应用。

例10 证明任意22天中至少有4天属于每星期的同一天。

解 令 $p$ 为命题“任意22天中至少有4天属于每星期的同一天”。假设 $\neg p$ 为真。这意味着22天中至多有3天属于每星期的同一天。因为一个星期有7天，这蕴含至多可以选择21天，对于每星期的同一天，最多可以选三天属于这一天。这个与我们题中有22天的前提相矛盾。也就是说，如果 $r$ 是命题“22天”，则我们已经证明了 $\neg p \rightarrow (r \wedge \neg r)$ 。所以，我们知道 $p$ 是真的。我们证明了22天中至少有4天属于每星期的同一天。

例11 通过归谬证明法来证明 $\sqrt{2}$ 是无理数。

解设 $p$ 是命题“ $\sqrt{2}$ 是无理数”。要采用归谬证明法，我们假定 $\neg p$ 为真。注意 $\neg p$ 表示命题“并非 $\sqrt{2}$ 是无理数”，这就是说 $\sqrt{2}$ 是有理数。我们将证明假设 $\neg p$ 为真会导致矛盾。

如果 $\sqrt{2}$ 是有理数，则存在整数 $a$ 和 $b$ 满足 $\sqrt{2} = a / b$ ，其中 $b \neq 0$ 并且 $a$ 和 $b$ 没有公因子（这样分数 $a / b$ 是既约分数。）（这里用到了事实：每个有理数都能写成既约分数）。因为 $\sqrt{2} = a / b$ 当这个等式的两端取平方时，可得出

$$
2 = \frac {a ^ {2}}{b ^ {2}}
$$

因此，

$$
2 b ^ {2} = a ^ {2}
$$

根据偶数的定义可得 $a^2$ 是偶数。接下来我们用到一个基于练习18的事实：如果 $a^2$ 是偶数，则 $a$ 也一定是偶数。另外，因为 $a$ 是偶数，由偶数的定义，存在某个整数 $c$ 有 $a = 2c$ 。这样，

$$
2 b ^ {2} = 4 c ^ {2}
$$

等式两边除以2得：

$$
b ^ {2} = 2 c ^ {2}
$$

由偶数定义，这意味着 $b^{2}$ 是偶数。再次应用事实：如果一个整数的平方是偶数，那么这个数自身也一定是偶数，我们得出结论 $b$ 也必然是偶数。

现在，我们证明了假设 $\neg p$ 导致等式 $\sqrt{2} = a / b$ ，其中 $a$ 和 $b$ 没有公因子，但 $a$ 和 $b$ 都是偶数，即2整除 $a$ 和 $b$ 。注意命题 $\sqrt{2} = a / b$ ，其中 $a$ 和 $b$ 没有公因子，这意味着，特别是，2也不能整除 $a$ 和 $b$ 。因为我们的假设 $\neg p$ 导致2整除 $a$ 和 $b$ 与2不能整除 $a$ 和 $b$ 的矛盾，所以 $\neg p$ 一定是假的。即命题 $p$ 是“ $\sqrt{2}$ 是无理数”是真的。我们证明了 $\sqrt{2}$ 是无理数。

归谬证明法可以用于证明条件语句。在证明中，我们首先假设结论的否定为真。然后采用定理的前提和结论的否定来得到一个矛盾式。（这样证明是有效的原因是基于 $p \to q$ 与 $(p \land \neg q) \to F$ 是逻辑等价的。想要了解这些语句是等价的，很容易注意到每个语句只在一种情况下为假，即当 $p$ 为真且 $q$ 为假时。）

注意，我们可以把一个条件语句的反证改写成归谬证明。在 $p \to q$ 的反证里，假定 $\neg q$ 为真。然后证明 $\neg p$ 也必然为真。为了把 $p \to q$ 的反证改写成归谬证明，假定 $p$ 和 $\neg q$ 都为真。然后利用 $\neg q \to \neg p$ 的证明步骤来证明 $\neg p$ 也必然为真。这样导出矛盾式 $p \land \neg p$ ，从而完成归谬证明。例11解释条件语句的反证如何改写成归谬证明的。

例12 用归谬法证明定理“如果 $3n + 2$ 是奇数，则 $n$ 是奇数”。

解 假定 $p$ 表示“ $3n + 2$ 是奇数”， $q$ 表示“ $n$ 是奇数”。为构造归谬证明，假设 $p$ 和 $\neg q$ 都为真。也就是假设 $3n + 2$ 是奇数而 $n$ 不是奇数。因为 $n$ 不是奇数，所以 $n$ 是偶数。因为 $n$ 偶数，所以存在整数 $k$ 使得 $n = 2k$ 。这蕴含着 $3n + 2 = 3(2k) + 2 = 6k + 2 = 2(3k + 1)$ 。由于 $3n + 2$ 是 $2t$ ，这里 $t = 3k + 1$ ，所以 $3n + 2$ 是偶数。注意语句“ $3n + 2$ 是偶数”等价于语句 $\neg p$ ，因为一个整数是偶数当且仅当它不是奇数。由于 $p$ 和 $\neg p$ 都为真，所以得出一个矛盾式。这完成了一个归谬证明，证明了如果 $3n + 2$ 是奇数，则 $n$ 是奇数。

注意我们也可以用归谬法证明 $p \rightarrow q$ 是真的，通过假设 $p$ 和 $\neg q$ 都为真来证明 $q$ 也一定为真。这蕴含着 $q$ 和 $\neg q$ 都为真，导致矛盾。这一点告诉我们，可以将一个直接证明转变为一个归谬证明。

等价证明法 为了证明一个双条件命题的定理，即形如 $p \leftrightarrow q$ 的语句，我们证明 $p \rightarrow q$ 和 $q \rightarrow p$ 都是真的。这个方法的有效性是建立在重言式的基础上：

$$
(p \leftrightarrow q) \leftrightarrow (p \rightarrow q) \wedge (q \rightarrow p)
$$

例13 证明定理“如果 $n$ 是整数，则 $n$ 是奇数当且仅当 $n^2$ 是奇数”。

解这个定理具有这样的形式“ $p$ 当且仅当 $q$ ”，其中 $p$ 是“ $n$ 是奇数”而 $q$ 是“ $n^2$ 是奇数”。（通常可以不显式地表达全称量化。）为了证明这个定理，需要证明 $p \to q$ 和 $q \to p$ 都为真。

我们已经（在例1中）证明了 $p \to q$ 为真且（在例9中） $q \to p$ 为真。

因为已经证明了 $p \to q$ 和 $q \to p$ 都为真，所以也就证明了这个定理为真。

有时候一个定理会阐述多个命题都是等价的。这样的定理阐述命题 $p_1, p_2, p_3, \dots, p_n$ 都是等价的。这可以写成

$$
p _ {1} \leftrightarrow p _ {2} \leftrightarrow p _ {3} \leftrightarrow \dots \leftrightarrow p _ {n}
$$

这就是说，所有 $n$ 个命题都具有相同的真值，因此对所有的 $i$ 和 $j$ ，其中 $1 \leqslant i \leqslant n$ ， $1 \leqslant j \leqslant n$ ， $p_i$ 和 $p_j$ 是等价的。证明这些命题互相等价的一种方式是使用永真式

$$
p _ {1} \leftrightarrow p _ {2} \leftrightarrow p _ {3} \leftrightarrow \dots \leftrightarrow p _ {n} \leftrightarrow (p _ {1} \rightarrow p _ {2}) \wedge (p _ {2} \rightarrow p _ {3}) \wedge \dots \wedge (p _ {n} \rightarrow p _ {1})
$$

这说明，如果可以证明 $n$ 个条件语句 $p_1 \rightarrow p_2, p_2 \rightarrow p_3, \dots, p_n \rightarrow p_1$ 都为真，则命题 $p_1, p_2, p_3, \dots, p_n$ 都是等价的。

这个方法比证明对所有的 $i \neq j$ ， $1 \leqslant i \leqslant n$ ， $1 \leqslant j \leqslant n$ ，都有 $p_i \rightarrow p_j$ （注意这里有 $n^2 - 2$ 个这样的条件语句）更加有效。

当要证一组命题等价时，我们可以建立一个条件语句链，条件语句的选择只要能够保证从任一个语句出发都能通过这个链到达另一个语句。例如，通过证明 $p_1 \rightarrow p_3$ 、 $p_3 \rightarrow p_2$ 、 $p_2 \rightarrow p_1$ ，就能够证明 $p_1$ 、 $p_2$ 、 $p_3$ 是等价的。

例14 证明下列三个关于整数 $n$ 的语句是等价的：

$p_1$ ： $n$ 是偶数

$p_2$ ： $n - 1$ 是奇数

$p_3$ ： $n^2$ 是偶数

解可以通过证明条件语句 $p_1 \rightarrow p_2$ ， $p_2 \rightarrow p_3$ 和 $p_3 \rightarrow p_1$ 都为真来证明这些语句是等价的。

用直接证明来证明 $p_1 \rightarrow p_2$ 为真。假定 $n$ 为偶数。则存在整数 $k$ ，有 $n = 2k$ 。因此， $n - 1 = 2k - 1 = 2(k - 1) + 1$ 。这意味着 $n - 1$ 是奇数，因为它形如 $2m + 1$ ，其中 $m = k - 1$ 。

还是用直接证明来证明 $p_2 \rightarrow p_3$ 。现在假定 $n - 1$ 是奇数。则存在整数 $k$ ，有 $n - 1 = 2k + 1$ 。因此， $n = 2k + 2$ ，而 $n^2 = (2k + 2)^2 = 4k^2 + 8k + 4 = 2(2k^2 + 4k + 2)$ 。这意味着 $n^2$ 是整数 $2k^2 + 4k + 2$ 的2倍，所以 $n^2$ 是偶数。

要证明 $p_3 \rightarrow p_1$ ，可以用反证法。即证明如果 $n$ 不是偶数，则 $n^2$ 也不是偶数。这等同于证明如果 $n$ 是奇数，那么 $n^2$ 是奇数，这在例1中已被证明。证毕。

反例证明法 1.4节曾提到要证明形如 $\forall xP(x)$ 的语句为假，只要能找到一个反例，即存在一个例子 $x$ 使 $P(x)$ 为假即可。当我们遇到一个形如 $\forall xP(x)$ 的语句时，而我们又相信它是假的，或者所有的证明尝试都失败了，就可以寻找一个反例。我们用例15来说明了反例证明法的应用。

例15 证明语句“每个正整数都是两个整数的平方和”为假。

解为了证明此语句为假，我们寻找一个反例，即寻找一个特殊的整数，它不是两个数的平方和。很快就能发现反例，因为3不能写成两个数的平方和。为表明确实如此，注意不超过3的完全平方数只有 $0^{2} = 0$ 和 $1^{2} = 1$ 。再者，0、1的任意两项相加之和都得不出3。因此，我们证明了“每个正整数都是两个整数的平方和”为假。

# 1.7.8 证明中的错误

在构造数学证明时容易犯许多常见错误。这里简述其中的一些错误。这当中最常见的错误是算术和基本代数方面的。甚至职业数学家也会犯这种错误，尤其是在处理复杂的公式时。每当进行这样的计算时都应当尽可能仔细地检查。（你还应当复习一下基本代数中的一些难点，特别是在学习5.1节之前。）

数学证明的每一步都应当是正确的，并且结论必须从之前的步骤中逻辑地导出。许多错误是源于引入了不是前面步骤得出的逻辑推导。下面的例 $16\sim 18$ 说明了这一点。

例16 下面这个著名的 $1 = 2$ 的所谓“证明”错在哪里？

“证明” 步骤如下，其中 $a$ 和 $b$ 是两个相等的正整数。

步骤

理由

1. $a = b$

给定的前提

2. $a^2 = ab$

(1)两边乘以 $a$

3. $a^2 - b^2 = ab - b^2$

(2)两边减去 $b^{2}$

4. $(a - b)(a + b) = b(a - b)$

(3)两边分解因式

5. $a + b = b$

（4）两边除以 $a - b$

6. $2b = b$

（5）把 $a$ 替换成 $b$ ，因为 $a = b$ 并化简

7. $2 = 1$

(6)两边除以 $b$

解除了步骤5两边除以 $(a - b)$ 之外，每个步骤都有效。错误在于 $a - b$ 等于零。一个等式两边用同一个数相除只有在除数不是零时才是有效的。

例17 下面这个“证明”错在哪里？

“定理” 如果 $n^2$ 是正数，则 $n$ 是正数。

“证明” 假定 $n^2$ 是正数。因为条件命题“如果 $n$ 是正数，则 $n^2$ 是正数”为真，所以可以得出 $n$ 是正数。

解 令 $P(n)$ 为“ $n$ 是正数”， $Q(n)$ 为“ $n^2$ 是正数”。则前提是 $Q(n)$ 。命题“如果 $n$ 是正数，则 $n^2$ 是正数”也就是语句 $\forall n(P(n) \rightarrow Q(n))$ 。从前提 $Q(n)$ 和语句 $\forall n(P(n) \rightarrow Q(n))$ 不能得出结论 $P(n)$ ，因为没有有效的推理规则可用。相反，这是一个肯定结论的谬误示例。一个反例是当 $n = -1$ 时， $n^2 = 1$ 为正数，但 $n$ 却是负数。

例18 下面的“证明”错在哪里？

“定理” 如果 $n$ 不是正数，则 $n^2$ 不是正数。（这是例17中“定理”的逆否命题。）

“证明”假定 $n$ 不是正数。因为条件语句“如果 $n$ 是正数，则 $n^2$ 是正数”为真，所以可得 $n^2$ 不是正数。

解 令 $P(n)$ 和 $Q(n)$ 如例17所示。则前提是 $\neg P(n)$ ，语句“如果 $n$ 是正数，则 $n^2$ 是正数”是语句 $\forall n(P(n) \rightarrow Q(n))$ 。从前提 $\neg P(n)$ 和 $\forall n(P(n) \rightarrow Q(n))$ 不能得出 $\neg Q(n)$ ，因为没有有效的推理规则可用。相反，这是一个否定假设的谬误示例。如例16那样， $n = -1$ 即为反例。

最后，简要讨论一种比较难应付的错误。许多不正确的论证都基于一种称为窃取论题的谬误。当证明的一个或多个步骤基于待证明命题的真实性时，就会发生这样的谬误。换句话说，当命题使用自身或等价于自身的命题来进行证明时会产生这种谬误。所以这种谬误也称为循环推理。

例19 下面的论证是否正确？这里假定要证明当 $n^2$ 是偶整数时 $n$ 是一个偶整数。

假定 $n^2$ 是偶数，则存在某个整数 $k$ 使 $n^2 = 2k$ 。令 $n = 2l$ ，其中 $l$ 是某个整数。这证明了 $n$ 是偶数。

解 这个论证不正确。证明中出现了语句“令 $n = 2l$ ，其中 $l$ 是某个整数”。证明中没有给出论证说明 $n$ 可以写为 $2l$ ，其中 $l$ 为某个整数。这是一个循环论证，因为这个命题等价于待证的命题（即 $n$ 是偶数）。当然，结果本身是正确的，只是证明方法不对。

在证明中犯错是学习过程的一部分。当你犯了某个错误并被别人发现时，应该仔细分析哪里出了错误并确保不再犯同样的错误。即使是职业数学家在证明时也会犯错误。有些重要结论的错误证明常常会愚弄人们，许多年以后才发现其中的细微错误。这种情况并不少见。

# 1.7.9 良好的开端

我们已经开发了一个基本的证明方法库。在下一节将介绍其他重要的证明方法。第5章还将介绍一些重要的证明技术，包括数学归纳法，它可以用于证明对所有正整数都成立的结论。第6章将介绍组合证明的概念。

本节介绍了形如 $\forall x(P(x) \rightarrow Q(x))$ 定理的几种证明方法，包括直接证明法和反证法。有许多定理通过直接利用前提和定理中名词的定义很容易构造其证明。不过，要是不借助于灵活地利用反证法或归谬证明，或其他的证明技术，证明一个定理通常还是很困难的。在1.8节中，我们会讲述证明策略。我们会描述当直观的方法行不通时可用于寻找证明的各种方法。构造证

明是一种只能通过体验来学习的艺术，这体验包括写证明、让他人评论你的证明，以及阅读和分析其他证明。

# 练习

1. 用直接证法证明两个奇数之和是偶数。

2. 用直接证法证明两个偶数之和是偶数。

3. 用直接证法证明偶数的平方是偶数。

4. 用直接证法证明一个偶数的相反数或负数也是偶数。

5. 证明如果 $m + n$ 和 $n + p$ 都是偶数，其中 $m, n$ 和 $p$ 都是整数，那么 $m + p$ 也是偶数。你用的是什么证明方法？

6. 用直接证法证明两个奇数之积是奇数。

7. 用直接证法证明每个奇数都是两个平方数的差。[提示：找出 $k + 1$ 和 $k$ 的平方数的差值，这里 $k$ 是一个正整数。]

8. 证明如果 $n$ 是完全平方数，那么 $n + 2$ 不是完全平方数。

9. 使用归谬法证明一个无理数与一个有理数之和是无理数。

10. 用直接证法证明两个有理数之积是有理数。

11. 证明或反驳两个无理数之积是无理数。

12. 证明或反驳一个非零有理数与一个无理数之积是无理数。

13. 证明如果 $x$ 是无理数，则 $1 / x$ 是无理数。

14. 证明如果 $x$ 是有理数且 $x \neq 0$ ，则 $1 / x$ 是有理数。

15. 证明如果 $x$ 是无理数且 $x > 0$ ，则 $\sqrt{x}$ 也是无理数。

16. 证明如果 $x$ 、 $y$ 和 $z$ 是整数且 $x + y + z$ 是奇数，则 $x$ 、 $y$ 和 $z$ 中至少有一个是奇数。

17. 使用反证法证明如果 $x + y \geq 2$ ，这里 $x$ 和 $y$ 是实数，那么 $x \geq 1$ 或者 $y \geq 1$ 。

18. 证明如果 $m$ 和 $n$ 是整数并且 $mn$ 是偶数，那么 $m$ 是偶数或者 $n$ 是偶数。

19. 证明如果 $n$ 是整数而且 $n^3 + 5$ 是奇数，则 $n$ 是偶数。使用

a)反证法证明

b)归谬法证明

20. 证明如果 $n$ 是整数而且 $3n + 2$ 是偶数，则 $n$ 是偶数。使用

a)反证法证明

b)归谬法证明

21. 证明命题 $P(0)$ ，其中 $P(n)$ 是命题“如果 $n$ 是个大于1的正整数，则 $n^2 > n$ ”。你使用什么类型的证明方法？

22. 证明命题 $P(1)$ ，其中 $P(n)$ 是命题“如果 $n$ 是个正整数，则 $n^2 \geq n$ ”。你使用什么类型的证明方法？

23. 设 $P(n)$ 是命题“如果 $a$ 和 $b$ 是正实数，则 $(a + b)^n \geq a^n + b^n$ ”。证明 $P(1)$ 为真。你使用什么类型的证明方法？

24. 证明如果你从装有蓝色和黑色袜子的抽屉中选择三只袜子，你一定能得到一双蓝袜子或者一双黑袜子。

25. 证明在任意64天中至少有10天在每星期的同一天里。

26. 证明在任意 25 天中至少有 3 天在同一个月份。

27. 用归谬法证明没有有理数 $r$ 使得 $r^3 + r + 1 = 0$ 。[提示：假设 $r = a / b$ 是一个根，这里 $a$ 和 $b$ 是整数且 $a / b$ 是既约分数。通过乘以 $b^3$ 得到一个整数的等式。再看看 $a$ 和 $b$ 是否分别是奇数或偶数。]

28. 证明如果 $n$ 是正整数，则 $n$ 是偶数当且仅当 $7n + 4$ 是偶数。

29. 证明如果 $n$ 是正整数，则 $n$ 是奇数当且仅当 $5n + 6$ 是奇数。

30. 证明 $m^2 = n^2$ 当且仅当 $m = n$ 或 $m = -n$ 。

31. 证明或反驳如果 $m$ 和 $n$ 是使得 $mn = 1$ 的整数，则 $m = 1$ 且 $n = 1$ ，或者 $m = -1$ 且 $n = -1$ 。

32. 证明下面三条语句是等价的，其中 $a$ 和 $b$ 是实数：（i) $a$ 小于 $b$ ；（ii) $a$ 和 $b$ 的平均值大于 $a$ ；（iii) $a$ 和 $b$ 的平均值小于 $b$ 。

33. 证明下面三条语句是等价的：(i) $3x + 2$ 是偶数；(ii) $x + 5$ 是奇数；(iii) $x^2$ 是偶数。

34. 证明下面三条语句是等价的：(i) $x$ 是有理数；(ii) $x / 2$ 是有理数；(iii) $3x - 1$ 是有理数。

35. 证明下面三条语句是等价的：(i) $x$ 是无理数；(ii) $3x + 2$ 是无理数；(iii) $x / 2$ 是无理数。

36. 下列求解方程 $\sqrt{2x^2 - 1} = x$ 的推理过程是否正确？（1） $\sqrt{2x^2 - 1} = x$ ，已知；（2） $2x^2 - 1 = x^2$ ，(1)式两边取平方；（3） $x^2 - 1 = 0$ ，(2)式两边都减去 $x^2$ ；（4） $(x - 1)(x + 1) = 0$ ，对左边的 $x^2 - 1$ 进行因式分解；（5） $x = 1$ 或 $x = -1$ ，因为 $ab = 0$ 蕴含 $a = 0$ 或 $b = 0$ 。  
37. 下列求解方程 $\sqrt{x + 3} = 3 - x$ 的步骤是否正确？（1） $\sqrt{x + 3} = 3 - x$ ，已知；(2) $x + 3 = x^2 - 6x + 9$ ，(1) 式两边取平方；(3) $0 = x^2 - 7x + 6$ ，(2) 式两边都减去 $x + 3$ ；(4) $0 = (x - 1)(x - 6)$ ，对(3)式左边进行因式分解；(5) $x = 1$ 或 $x = 6$ ，因为 $ab = 0$ 蕴含 $a = 0$ 或 $b = 0$ ，所以从(4)可得到解。  
38. 证明：可以通过证明 $p_1 \leftrightarrow p_4$ 、 $p_2 \leftrightarrow p_3$ 和 $p_1 \leftrightarrow p_3$ 来证明命题 $p_1$ 、 $p_2$ 、 $p_3$ 和 $p_4$ 是等价的。  
39. 证明：可以通过证明条件语句 $p_1 \rightarrow p_4$ 、 $p_3 \rightarrow p_1$ 、 $p_4 \rightarrow p_2$ 、 $p_2 \rightarrow p_5$ 和 $p_5 \rightarrow p_3$ 来证明命题 $p_1$ 、 $p_2$ 、 $p_3$ 、 $p_4$ 和 $p_5$ 是等价的。  
40. 试找出下列命题的一个反例：“每个正整数都是3个整数的平方和”。  
41. 证明在实数 $a_1, a_2, \dots, a_n$ 中至少有一个数大于或等于这些数的平均值。你使用什么类型的证明方法？  
42. 使用练习 41 来证明如果把前 10 个正整数以任意顺序放在一个圆周上，则圆周上存在相邻位置的 3 个整数，它们之和大于或等于 17。  
43. 证明如果 $n$ 是整数，则下面4个语句是等价的：（i） $n$ 是偶数；（ii） $n + 1$ 是奇数；（iii） $3n + 1$ 是奇数；（iv） $3n$ 是偶数。  
44. 证明下面关于整数 $n$ 的 4 个语句是等价的：(i) $n^2$ 是奇数，(ii) $1 - n$ 是偶数，(iii) $n^3$ 是奇数，(iv) $n^2 + 1$ 是偶数。

# 1.8 证明的方法和策略

# 1.8.1 引言

1.7节介绍了各种不同的证明方法，并说明每一种方法如何使用。本节将继续这方面的讨论。我们将介绍几种其他常用的证明方法，包括分别考虑不同情形进行定理证明的方法。我们还将讨论具有预期性质的事物的存在性证明方法。  
1.7节只简要讨论了构造证明的策略。这些策略包括选择证明方法，然后基于该方法一步一步地成功构造论证。在开发了多功能的证明方法库之后，本节将研究关于证明的艺术和科学方面的一些问题。我们将提供如何寻找一个定理的证明的一些忠告。我们还将描述一些窍门，包括如何通过反向思维和通过改编现有证明来发现证明。

数学家工作时，会拟定猜测并试图证明或反驳之。这里通过证明用多米诺或其他形状的骨牌来拼接棋盘的有关结论来简要描述这个过程。查看这类拼接游戏，我们将能够迅速形成猜测并证明定理，而无须先开发一套理论。

本节最后将讨论开放问题所起的作用。特别地，我们会讨论一些有趣的问题，或者悬而未决数百年后被解决了的，或者仍然是开放问题。

# 1.8.2 穷举证明法和分情形证明法

有时候采用单一的论证不能在定理的所有可能情况下都成立，故不能证明该定理。现在介绍一种通过分别考虑不同的情况来证明定理的方法。该方法是基于现在要介绍的一个推理规则。为了证明条件语句

$$
(p _ {1} \vee p _ {2} \vee \dots \vee p _ {n}) \rightarrow q
$$

可以用永真式

$$
[ (p _ {1} \vee p _ {2} \vee \dots \vee p _ {n}) \rightarrow q ] \leftrightarrow [ (p _ {1} \rightarrow q) \wedge (p _ {2} \rightarrow q) \wedge \dots \wedge (p _ {n} \rightarrow q) ]
$$

作为推理规则。这个推理规则说明可以通过分别证明每个条件语句 $p_i \rightarrow q (i = 1, 2, \dots, n)$ 来证明由命题 $p_1, p_2, \dots, p_n$ 的析取式组成前提的原条件语句。这种论证称为分情形证明法（proof by cases）。有时为了证明条件语句 $p \rightarrow q$ 为真，方便的做法是用析取式 $p_1 \lor p_2 \lor \dots \lor p_n$ 代替 $p$ 作为条件语句的前提，其中 $p$ 与 $p_1 \lor p_2 \lor \dots \lor p_n$ 是等价的。

穷举证明法 有些定理可以通过检验相对少量的例子来证明。这样的证明叫作穷举证明法(exhaustive proof,proof by exhaustion)，因为这些证明是要穷尽所有可能性的。一个穷举证

Assessment

明是分情形证明的特例，这里每一种情形涉及检验一个例子。下面给出穷举证明法的一些例证。

例1 证明如果 $n$ 是一个满足 $n \leqslant 4$ 的正整数时，则有 $(n + 1)^{3} \geqslant 3^{n}$ 。

解 采用穷举证明法。我们只需检验当 $n = 1, 2, 3, 4$ 时， $(n + 1)^{3} \geqslant 3^{n}$ 成立。对于 $n = 1$ ，有 $(n + 1)^{3} = 2^{3} = 8$ 而 $3^{n} = 3^{1} = 3$ ；对于 $n = 2$ ，有 $(n + 1)^{3} = 3^{3} = 27$ 而 $3^{n} = 3^{2} = 9$ ；对于 $n = 3$ ，有 $(n + 1)^{3} = 4^{3} = 64$ 而 $3^{n} = 3^{3} = 27$ ；对于 $n = 4$ ，有 $(n + 1)^{3} = 5^{3} = 125$ 而 $3^{n} = 3^{4} = 81$ 。在这四种情况的每一种情形下，都有 $(n + 1)^{3} \geqslant 3^{n}$ 。我们用穷举证明法证明了如果 $n$ 是一个满足 $n \leqslant 4$ 的正整数，则 $(n + 1)^{3} \geqslant 3^{n}$ 。

例2 证明不超过100的连续正整数同时是幂次数的只有8和9（一个整数是幂次数(perfect power)如果它等于 $n^a$ ，其中 $n$ 是正整数， $a$ 是大于1的整数）。

解 采用穷举证明法。特别地，可以通过下面的方法来证明此事实：查看不超过100的正整数 $n$ ，首先检查 $n$ 是否是幂次数，如果是，在检查 $n + 1$ 是否也是幂次数。一个更快捷的方法是仅仅查看不超过100的所有幂次数并检查紧挨着的下一个整数是否也是幂次数。不超过100的正整数的平方有1、4、9、16、25、36、49、64、81和100。不超过100的正整数的立方有1、8、27和64。不超过100的正整数的4次幂有1、16和81。不超过100的正整数的5次幂有1和32。不超过100的正整数的6次幂有1和64。除了1以外，没有高于6次的正整数的幂次数不超过100的。观察不超过100的一系列幂次数，发现只有 $n = 8$ 是仅有的 $n + 1$ 也是幂次数的幂次数。即 $2^{3} = 8$ ， $3^{2} = 9$ ，是不超过100的唯一两个连续的幂次数。

当只需要检查一个语句的相对少量的情形时，人们可以穷举证明法。当要求计算机检查一个语句的数量非常巨大的情形时它不会抱怨，但仍然有局限性。注意当不可能列出所有要检查的情形时，即使是计算机也不能检查所有情形。

分情形证明法 分情形证明一定要覆盖定理中出现的所有可能情况。我们用两个例子来解释分情形证明法。在每一个例子中，你应该检查一下所有可能的情形都已被覆盖了。

例3 证明如果 $n$ 为整数，则有 $n^2 \geq n$ 。

解 我们通过分别考虑当 $n = 0$ ，当 $n \geqslant 1$ 和当 $n \leqslant -1$ 三种情形来证明对每个整数有 $n^2 \geqslant n$ 。我们将证明分为三种情形是因为通过分别考虑零、正整数和负整数可以更直截了当地证明这个结论。

情形(i)：当 $n = 0$ 时，因为 $0^{2} = 0$ ，从而 $0^{2}\geqslant 0$ 。这表明在这种情况下， $n^2\geq n$ 是真的。

情形(ii)：当 $n \geqslant 1$ 时，把不等式 $n \geqslant 1$ 两边同时乘以正整数 $n$ ，得到 $n \cdot n \geqslant n \cdot 1$ 。这蕴含着当 $n \geqslant 1$ 时有 $n^2 \geqslant n$ 。

情形(iii)：当 $n \leq -1$ 时。可是， $n^2 \geq 0$ 。因而有 $n^2 \geq n$ 。

因为在三种情形下均有不等式 $n^2 \geq n$ ，于是可得出结论，如果 $n$ 为整数，则有 $n^2 \geq n$ 。

例4 用分情形证明法证明 $|xy| = |x||y|$ ，其中 $x$ 和 $y$ 是实数。（回顾一下 $|a|$ 是 $a$ 的绝对值。当 $a \geqslant 0$ 时等于 $a$ ，而当 $a \leqslant 0$ 时等于 $-a$ 。）

解 在定理的证明中，我们用事实当 $a \geq 0$ 时 $|a| = a$ 并且当 $a \leq 0$ 时 $|a| = -a$ 来消除绝对值符号。由于 $|x|$ 和 $|y|$ 出现在公式中，就需要四种情形：（i） $x$ 和 $y$ 都为非负的；（ii） $x$ 为非负的且 $y$ 是负的；（iii） $x$ 是负的且 $y$ 为非负的；（iv） $x$ 是负的且 $y$ 是负的。我们用 $p_1, p_2, p_3$ 和 $p_4$ 来标记四个命题分别陈述四种情形对应的假设，用 $q$ 代表原命题。（注意：我们通过每一种情形中选择恰当正负号就可以去掉绝对值符号。）

情形(i)：可以看出 $p_1 \rightarrow q$ ，因为当 $x \geq 0$ 且 $y \geq 0$ 时 $xy \geq 0$ ，因此 $|xy| = xy = |x||y|$ 。

情形(ii)：要得出 $p_2 \rightarrow q$ ，注意如果 $x \geq 0$ 且 $y < 0$ ，则 $xy \leq 0$ ，因此 $|xy| = -xy = x(-y) = |x||y|$ 。（因为 $y < 0$ ，我们有 $|y| = -y$ 。）

情形(iii)：要得出 $p_3 \rightarrow q$ ，可遵循前一种情形的推理过程，只需将 $x$ 和 $y$ 的角色互换。

情形(iv)：要得出 $p_4 \to q$ ，注意当 $x < 0$ 且 $y < 0$ 时， $xy > 0$ 。因此 $|xy| = xy = (-x)(-y) = |x||y|$ 。

因为 $|xy| = |x||y|$ 对所有四种情形均成立，而这些情况包含了一切可能。我们能够得出结论当 $x$ 和 $y$ 是实数时， $|xy| = |x||y|$ 。

充分利用分情形证明法前面解释分情形证明法的例子提供了一些何时应用这种证明法的启发。特别地，当一个证明不可能同时顾及所有情形时，应该考虑采用分情形证明法。什么时候应该采用这样的证明呢？一般地，当没有明显的思路开始一个证明，而每一种情形的额外信息又能推进证明时，可以寻求分情形证明法。例5说明了如何有效地利用分情形证明法。

例5构造一个关于整数平方的十进制数字末位的猜想，并证明你的结论。

解 最小的完全平方数分别是1、4、9、16、25、36、49、64、81、100、121、144、169、196、225等。注意完全平方数的十进制数字的末位是：0、1、4、5、6和9，而2、3、7、8从来不出现在完全平方数的十进制数字的末位。我们猜测这样的结论：一个完全平方数的十进制数字的末位是：0、1、4、5、6或9。如何证明这个结论呢？

首先注意到把整数 $n$ 表示为 $10a + b$ ，这里 $a$ 和 $b$ 是正整数， $b$ 是0、1、2、3、4、5、6、7、8或9。这里 $a$ 是 $n$ 减去 $n$ 的末位十进制数字再除以10所得到的整数。其次注意到 $(10a + b)^{2} = 100a^{2} + 20ab + b^{2} = 10(10a^{2} + 2ab) + b^{2}$ ，因而， $n^2$ 的末位十进制数字与 $b^{2}$ 的末位十进制数字相同。进一步， $b^{2}$ 的十进制数字的末位与 $(10 - b)^{2} = 100 - 20b + b^{2}$ 相同。因此，把证明缩减为以下6种情形。

情形(i)： $n$ 的末位数字是1或9。这样 $n^2$ 的末位十进制数字是 $1^{2} = 1$ 或 $9^{2} = 81$ 的末位数，即为1。

情形(ii)： $n$ 的末位数字是2或8。这样 $n^2$ 的末位十进制数字是 $2^{2} = 4$ 或 $8^{2} = 64$ 的末位数，即为4。

情形(iii)： $n$ 的末位数字是3或7。这样 $n^2$ 的末位十进制数字是 $3^{2} = 9$ 或 $7^{2} = 49$ 的末位数，即为9。

情形(iv)： $n$ 的末位数字是4或6。这样 $n^2$ 的末位十进制数字是 $4^2 = 16$ 或 $6^2 = 36$ 的末位数，即为6。

情形(v)： $n$ 的末位数字是5。这样 $n^2$ 的末位十进制数字是 $5^{2} = 25$ 的末位数，即为5。

情形(vi)： $n$ 的末位数字是0。这样 $n^2$ 的末位十进制数字是 $0^{2} = 0$ 的末位数，即为0。

因为考虑了所有的6种情况，所以能够得出结论，当 $n$ 是整数时， $n^2$ 的末位十进制数字是0、1、4、5、6或9。

在分情形证明中，有时我们能消除几乎全部而只留下少量情形。如例6所示。

例6 证明 $x^{2} + 3y^{2} = 8$ 没有整数解。

解 由于当 $|x| \geqslant 3$ 时 $x^{2} > 8$ 且当 $|y| \geqslant 2$ 时 $3y^{2} > 8$ ，因此能够很快将证明简化为只需检验几种简单的情形。这样只剩下当 $x$ 等于 $-2$ 、 $-1$ 、0、1、2，而 $y$ 等于 $-1$ 、0、1 的情形。我们可以用穷举法完成证明。为了解决剩下的情形，注意到 $x^{2}$ 的可能取值是 $0, 1, 4, 3y^{2}$ 的可能取值是 0 和 3，而 $x^{2}$ 与 $3y^{2}$ 可能取值的最大和是 7。因此，当 $x$ 和 $y$ 是整数时 $x^{2} + 3y^{2} = 8$ 是不可能成立的。

不失一般性 在例4的证明中，我们省略了情形 $(\mathrm{iii})x < 0$ 和 $y \geqslant 0$ ，因为在互换 $x$ 和 $y$ 角色后它与情形 $(\mathrm{ii})x \geqslant 0$ 和 $y < 0$ 是相同的。为了缩短证明篇幅，可以不失一般性（without loss of generality）地假设 $x \geqslant 0$ ， $y < 0$ ，而把情形(ii)和(iii)的证明合在一起。这个语句隐含着我们可以采用与 $x \geqslant 0$ 和 $y < 0$ 情形一样的论证来完成 $x < 0$ 和 $y \geqslant 0$ 情形的证明，其中有一些显而易见的改变。

一般地，当证明中用到“不失一般性”（缩写为WLOG）一词时，我们断言通过证明定理的一种情形，不需要用额外的论证来证明其他特定的情形。也就是说，其他的一系列情形论证可以通过对论证做一些简单的改变，或者通过补充一些简单的初始步骤来完成。当引入了不失

一般性的概念后，分情形证明法就变得更加有效了。可是，不正确地应用这个原理会导致不幸的错误发生。有时候所做的假设会导致失去一般性。这类假设通常是由于忽略了一个情形可能与其他情形有着巨大的差异。这样会导致一个不完整的或许不可补救的证明。事实上，许多著名定理的不正确证明也是依赖于应用“不失一般性”的想法试图论证那些不能快速从简单情形来证明的情形。

现在我们来说明在证明中不失一般性和其他证明技术的有效结合。

例7 证明如果 $x$ 和 $y$ 是整数并且 $xy$ 和 $x + y$ 均为偶数，则 $x$ 和 $y$ 也是偶数。

解 我们会用到反证法、不失一般性的概念和分情形证明法。首先假定 $x$ 和 $y$ 不都是偶数。即假设 $x$ 是奇数或 $y$ 是奇数或均为奇数。不失一般性，我们假定 $x$ 是奇数，因此存在整数 $m$ 使得 $x = 2m + 1$ 。

为了完成证明，我们需要证 $xy$ 是奇数或者 $x + y$ 是奇数。考虑两种情形：（i） $y$ 是偶数；（ii） $y$ 是奇数。在(i)中存在整数 $n$ 使得 $y = 2n$ ，因此 $x + y = (2m + 1) + 2n = 2(m + n) + 1$ 是奇数。在(ii)中存在整数 $n$ 使得 $y = 2n + 1$ ，因此 $xy = (2m + 1)(2n + 1) = 4mn + 2m + 2n + 1 = 2(2mn + m + n) + 1$ 是奇数。从而完成了反证法证明。（注意我们在证明中使用不失一般性是合理的，因为当 $y$ 是奇数时的证明可以通过上面的证明中简单地交换 $x$ 和 $y$ 的角色而获得。）

穷举证明法和分情形证明法中的常见错误 推理中的一种常见错误是从个例中得出不正确结论。不管考虑了多少不同的个例，都不能从个例来证明定理，除非每一种可能情况都覆盖了。证明定理这样的问题类似于要证明计算机程序总能产生所期望的输出。除非所有的输入值都测试了，否则无论测试了多少输入值，也不能得出结论程序总能产生正确的输出。

例8 每个正整数都是18个整数的四次幂之和是否为真？

解 要判断一个正整数 $n$ 是否可写为 18 个整数的四次幂的和，我们先从最小的正整数开始考察。因为整数的四次幂分别是 0，1，16，81，…，如果能从这些数中选择 18 个项后相加得 $n$ ，则 $n$ 就是 18 个四次幂之和。可以证明，从 1 到 78 的所有正整数都可以写成 18 个整数的四次幂的和（细节留给读者证明）。然而，如果认为这就检查够了，那就会得出错误的结论。每个正整数是 18 个四次幂之和并不为真，因为 79 并不是 18 个四次幂的和（读者请自行验证）。

另一个常见错误是做出了莫须有的假设导致在分情形证明中没有考虑到所有情形。如例9所示。

例9 下面的“证明”错在哪里？

“定理” 如果 $x$ 是实数，则 $x^2$ 是正实数。

“证明”令 $p_1$ 为“ $x$ 是正数”， $p_2$ 为“ $x$ 是负数”， $q$ 为“ $x^2$ 是正数”。要证明 $p_1 \rightarrow q$ 为真，注意当 $x$ 是正数时， $x^2$ 为正数，因为这是两个正数 $x$ 和 $x$ 的积。要证明 $p_2 \rightarrow q$ ，注意当 $x$ 是负数时， $x^2$ 是正数，因为这是两个负数 $x$ 和 $x$ 的积。证毕。

解上面的“证明”存在的问题是忘了考虑 $x = 0$ 的情形。当 $x = 0$ 时， $x^{2} = 0$ 不是正数，因此假设的定理为假。如果 $p$ 是“ $x$ 是实数”，那我们可以将假设 $p$ 分三种情形 $p_{1}$ 、 $p_{2}$ 和 $p_{3}$ 来证明结论，其中 $p_{1}$ 是“ $x$ 是正数”， $p_{2}$ 是“ $x$ 是负数”， $p_{3}$ 是“ $x = 0$ ”，因为有等价式 $p \leftrightarrow p_{1} \lor p_{2} \lor p_{3}$ 。

# 1.8.3 存在性证明

许多定理是断言特定类型对象的存在性。这种类型的定理是形如 $\exists xP(x)$ 的命题，其中 $P$ 是谓词。 $\exists xP(x)$ 这类命题的证明称为存在性证明（existence proof）。有多种方式来证明这类定理。有时可以通过找出一个使得 $P(a)$ 为真的元素 $a$ （称为一个物证）来给出 $\exists xP(x)$ 的存在性证明。这样的存在性证明称为是构造性的（constructive）。也可以给出一种非构造性的（nonconstructive）存在性证明，即不是找出使 $P(a)$ 为真的元素 $a$ ，而是以某种其他方式来证明

$\exists xP(x)$ 为真。给出非构造性证明的一种常用方法是使用归谬证明，证明该存在量化式的否定式蕴含一个矛盾。例10可以解释构造性的存在性证明的概念，而例11可以解释非构造性的存在性证明的概念。

例10一个构造性的存在性证明 证明存在一个正整数，可以用两种不同的方式将其表示为正整数的立方和。

解 经过大量的计算（如使用计算机搜索）可找到

$$
1 7 2 9 = 1 0 ^ {3} + 9 ^ {3} = 1 2 ^ {3} + 1 ^ {3}
$$

因为我们已经把一个整数写成两种不同的立方和，因而得证。

关于这个例子有一个有趣的故事。英国数学家G.H.哈代，在一次前往医院看望生病的印度天才拉马努金时，提到他乘坐的出租车的编号1729是个枯燥的数字。拉马努金回答：“不，这是一个非常有趣的数，它是可以用两种方式表示为立方和的最小数。”

例11一个非构造性的存在性证明 证明存在无理数 $x$ 和 $y$ 使得 $x^{y}$ 是有理数。

解 由1.7节例11可知 $\sqrt{2}$ 是无理数。考虑数 $\sqrt{2}^{\sqrt{2}}$ 。如果它是有理数，那就存在两个无理数 $x$ 和 $y$ 且 $x^{y}$ 是有理数，即 $x = \sqrt{2}$ ， $y = \sqrt{2}$ 。另一方面如果 $\sqrt{2}^{\sqrt{2}}$ 是无理数，那么可以令 $x = \sqrt{2}^{\sqrt{2}}$ 且 $y = \sqrt{2}$ ，因此 $x^{y} - x = (\sqrt{2}^{\sqrt{2}})^{\sqrt{2}} = \sqrt{2}^{\left(\sqrt{2} \cdot \sqrt{2}\right)} = \sqrt{2}^{2} = 2$ 。

Links

![](741bb210a41629dc9a3a7facb11afe74b605d989d24cab459a090185571e9fee.jpg)  
$\odot$ AMERICAN  
PHILOSOPHICAL  
SOCIETY/Science Source

戈弗雷·哈罗德·哈代（Godfrey Harold Hardy，1877—1947）哈代是 Isaac Hardy 和 Sophia Hall Hardy 的两个孩子中的老大，出生在英格兰的萨里郡的 Cranleigh。他父亲是 Cranleigh 学校的地理和绘画老师，同时还教唱歌课，并且踢足球。他母亲教授钢琴课并且协助管理一家年轻学生的寄宿处。哈代的双亲致力于儿童教育。哈代早在 2 岁时就显露出对数字的能力，那时他能写到百万级的数字。他有一位私人数学教师，而没有去上 Cranleigh 学校的正规课程。他 13 岁时上了一所私立高中，温切斯特公学，并且获得了奖学金。他擅长学习并在数学方面表现出浓厚的兴趣。1896 年，他获得奖学金而进入剑桥大学的三一学院，在学习期间他获得诸多奖项，1899 年毕业。

1906～1919年哈代在剑桥大学的三一学院任数学讲师，当时他也被任命为牛津大学几何学的沙利文讲座教授。由于著名哲学家和数学家伯特兰·罗素从事反战活动而被三一学院解雇，哈代开始对剑桥大学没有好感，也不喜欢繁琐的行政工作。1931年他重返剑桥大学任纯数学的Sadleirian教授，直到1942年退休。他是一位纯数学家，对数学具有一种精英观点，希望他的研究永远不会有应用。具有讽刺意义的是，他或许是以哈代一温伯格定律的发现者之一而闻名于世的，而这个定律则预测了遗传的模式。他在这个领域的工作是给《科学》(Science)期刊的一封信，其中他用简单的代数概念证明了一篇遗传学论文中的错误。哈代的工作主要在数论和函数论方面，探索的主题为黎曼 zeta 函数、傅里叶级数和素数分布。他对许多重要问题做出了重要的贡献，如将正整数表示为 $k$ 次幂之和的 Waring 问题和将奇整数表示为三个素数之和的问题。他为人们所记忆的还有他和剑桥同事李特尔伍德(John E. Littlewood)合作共同撰写了100多篇论文，以及和显赫的印度数学天才拉马努金(Srinivasa Ramanujan)的合作。他和李特尔伍德的合作还造就一个笑话：当时的英国只有三个重要的数学家，哈代、李特尔伍德和哈代-李特尔伍德，可是人们相信哈代创造了一个虚构的人物李特尔伍德，因为李特尔伍德在剑桥之外没什么名气。哈代从拉马努金发给他的不同凡响且极具创造性的著作中慧眼识天才，而其他数学家则没能发现这个天才。哈代将拉马努金带到剑桥大学并与之合作重要的论文，建立了关于一个整数的划分数的新的结论。哈代对数学教育也充满兴趣，他的书《纯数学教程》(A Course of Pure Mathematics)在20世纪前半叶的本科数学教学中具有深远影响。哈代还写了《一个数学家的辩白》(A Mathematician's Apology)，其中对是否值得奉献一生研究数学这样一个问题给出了自己的回答。这代表了哈代对于什么是数学和数学家在做什么的一种观点。

哈代对运动也有浓厚的兴趣。他是一个狂热的板球爱好者并且成绩不俗。他有一个特点就是不喜欢照相（为世人所知的照片只有五张）也不喜欢镜子，进入酒店房间后会立刻用毛巾盖住它。

Extra Examples

这个证明是非构造性存在性证明的一个例子，因为我们并没有找出无理数 $x$ 和 $y$ 使得 $x^{y}$ 是有理数。相反，我们证明了或者 $x = \sqrt{2}$ ， $y = \sqrt{2}$ ，或者 $x = \sqrt{2}^{\sqrt{2}}$ ， $y = \sqrt{2}$ 具有所需性质，但并不知道这两对中哪一对是解。

评注 4.3节的练习11将给出一个构造性的存在性证明：存在无理数 $x$ 和 $y$ 使得 $x^y$ 是有理数。

非构造性存在性证明通常相当微妙，如例12所示。

例12蚕食游戏(Chomp)是两个人玩的游戏。在这个游戏中，曲奇饼放在矩形格中。左上角的曲奇饼有毒，如图1a所示。两个玩家轮流行动：每个动作中一个玩家都要吃一块剩余的曲奇饼，以及它右下角的所有曲奇饼（例如，如图1b所示）。没有别的选择而只能吃有毒曲奇饼的玩家为输。请问：两个玩家之一是否有获胜的策略。即其中一个玩家是否能够一直做动作而保证其获胜？

![](50a0731ab756682de74dc295b0c0e0c7a9bbc10a432741739a637f26531f81e6.jpg)

![](4ec406fc55eb006bd5f3174ad01d24e0d08011873c31122f5656d0e472040bf3.jpg)  
图1

解 我们会给出第一个玩家获胜策略的非构造性存在证明。即我们将证明第一个玩家总有获胜的策略，而没有明确描述玩家的具体动作步骤。

首先，游戏结束时不会是一个平局，因为每一步动作至少要吃掉一块曲奇饼，因此不超过 $m \times n$ 步动作游戏就会结束，这里 $m \times n$ 是网格的初始值。现假设在游戏开始，第一个玩家吃掉了右下角的曲奇饼。这有两种可能，这是第一个玩家获胜策略的第一步，或者这是第二个玩家可以做一个动作成为第二个玩家获胜策略的第一步。在第二种情况下，第一个玩家可以不是只吃右下角的曲奇饼，而是采用第二个玩家获胜策略的第一步相同的步骤（然后继续那个获胜策略）。这将保证第一个玩家获胜。

注意我们证明了获胜策略的存在性，但是没有刻画实际的获胜策略。因此，这个证明是一个非构造性存在性证明。事实上，没有人能够通过刻画第一个玩家应该遵循的动作步骤来描述适用于所有长方形网格的蚕食游戏的获胜策略。然而，在某种特殊的情况，比如当网格是正方形时，以及当网格只有两行曲奇饼时，获胜策略是可以描述的（参见5.2节的练习15和练习16）。

# 1.8.4 唯一性证明

某些定理断言具有特定性质的元素唯一存在。换句话说，这些定理断言恰好只有一个元素具有这个性质。要证明这类语句，需要证明存在一个具有此性质的元素，以及没有其他元素具有此性质。唯一性证明(unicuenessproof)的两个部分如下：

存在性：证明存在某个元素 $x$ 具有期望的性质。

唯一性：证明如果 $x$ 和 $y$ 都具有期望的性质，则 $x = y$ 。

评注 证明存在唯一元素 $x$ 使得 $P(x)$ 为真等同于证明语句 $\exists x(P(x) \land \forall y (y \neq x \rightarrow \neg P(y)))$ 。

我们用例13说明唯一性证明的要素。

例13 证明：如果 $a$ 和 $b$ 是实数并且 $a \neq 0$ ，那么存在唯一的实数 $r$ 使得 $ar + b = 0$ 。

解首先，注意实数 $r = -b / a$ 是 $ar + b = 0$ 的一个解，因为 $a(-b / a) + b = -b + b = 0$ 。因此，对于 $ar + b = 0$ 而言，实数 $r$ 是存在的。这是证明的存在性部分。

其次，假设实数 $s$ 使得 $as + b = 0$ 成立。则有 $ar + b = as + b$ ，这里 $r = -b / a$ 。从两边减去 $b$ 得到 $ar = as$ 。最后式子两边同除以 $a$ ，这里 $a$ 是非零的，得到 $r = s$ 。这意味着如果 $r \neq s$ ，则 $as + b \neq 0$ 。这就证明了唯一性部分。

# 1.8.5 证明策略

寻找证明是一项富于挑战性的工作。当你面对待证命题时，应该先把术语替换成其定义，再仔细分析前提结论的含义。然后，可以选一种已有的证明方法去尝试证明结论。我们在1.7节已经给出了一些证明形如 $\forall x(P(x)\rightarrow Q(x))$ 的定理的证明策略，包括直接证明法、反证法和归谬证明法。如果语句是条件语句，就应该首先尝试直接证明法；如果不行，就尝试间接证明

# Links

![](71df95df0320c157efdd12f2e4f71b8d5ea5334fff1ea7c769acf5c1a67bae93.jpg)  
Nick Higham/Alamy Stock Photo

拉马奴金(Srinivasa Ramanujan，1887—1920)著名的数学天才拉马奴金在马德拉斯市(Madras，现名钦奈(Chennai))附近的印度南部出生并长大。他的父亲是一家布店的职员。他的母亲通过在当地一寺庙唱歌来补贴家用。拉马奴金在当地的一所英语学校学习，显露出其对数学的兴趣和天赋。13岁那年他掌握了大学生使用的一本教科书。当他15岁时，一名大学生借给他一本《纯数学概要》(Synopsis of Pure Mathematics)。拉马奴金决定把这本不带任何证明或解释的书中的6000多个结论重新做一遍，写在纸上后来收集起来形成笔记。1904年他从高中毕业，赢得奖学金进入马德拉斯大学。他报读的是美术课程，但是他忽视除数学以外的所有科目，因而

失去了奖学金。大学期间(1904—1907)他有四次考试不及格，只有数学学得好。这期间他在笔记中写下了许多原创性的著作，有时是已经发表工作的重新发现，有时是新的发现。

没有大学学位，拉马奴金要找一份体面的工作是很困难的。为了生存，他不得不依靠朋友们的施舍。他教学生数学，但是他的不同寻常的思维方式和不能遵循教学大纲导致了问题。1909年通过包办婚姻他和一个小他九岁的年轻姑娘结婚。为了养活自己和他的妻子，他搬到马德拉斯寻找工作。他把他笔记中的数学著作给可能的雇主看，但是他的书让他们不知所措。然而，总统学院的一位教授认可了他的天赋并支持他，1912年他获得了一份会计员的工作，赚取微薄的薪水。

此时，拉马奴金依然在继续着他的数学研究，并于1910年在印度的期刊上发表了第一篇论文。他认识到自己的工作在印度数学家之上，遂决定写信给英国顶尖的数学家。起初，几位数学家都将他的信当作求助信息。1913年1月他给G.H.哈代写信，哈代也没看好拉马奴金，但是信中的那些虽然没有给出证明的数学陈述却让哈代有些困惑。哈代决定与同事和合作者J.E.李特尔伍德一起仔细检查这些陈述。经过仔细研究，他们判定拉马奴金可能是一个天才，因为他的陈述“只有那些最高水平的数学家才有可能写得出来，而且也一定是真的，因为如果这些陈述不成立，就没有人有这样的想象力来发明这些陈述。”

1914年哈代为拉马奴金安排了奖学金并将他带到英格兰。哈代亲自教他数学分析，一起合作了五年，证明了一些有关整数划分数的重要定理。在这期间，拉马奴金在数论领域做出了重要贡献，同时在连分数、无穷级数、椭圆函数方面做些工作。拉马奴金对于某些类型的函数和级数有着惊人的洞察力，但是他声称的有关素数的定理则是错误的，这也解释了他对于什么是正确的证明只有模糊的概念。他是当时被任命的英国皇家学会院士最年轻的成员之一。不幸的是，1917年拉马奴金得了严重的疾病。那时被认为是由于不适应英国气候并染上了肺结核。现在看来是由于拉马奴金严格的素食主义以及英国战时的食物短缺造成他得了维生素缺乏症。1919年他回到印度，继续他的数学研究，即使是在病床上也是如此。他笃信宗教，认为他的数学天赋来自于家族的神——Namagiri。他将数学和宗教联系起来。他说道：“一个方程对我来说没有意义，除非它表达了神的意志。”1920年4月他短暂的一生走到了尽头，年仅32岁。拉马奴金留下一些笔记，记载着没有发表的结果。这些笔记中的著作解释了拉马奴金的一些见解，但是也相当概略。有些数学家倾注了多年的研究试图解释和证明这些笔记中的结果。2015年的一部非常精彩的电影《知道无穷的人》就是描述拉马奴金的一生的。

法；如果这些方法都不行，就尝试归谬证明法。可是，我们没有提供更进一步的用于构建这样的证明的指南。现在我们给出一些策略来构建新的证明。

正向和反向推理无论选择什么证明方法，都需要为证明找一个起点。条件语句的直接证明就从前提开始。利用这些前提以及公理和已知定理，用导向结论的一系列步骤来构造证明。这类推理称为正向推理(forward reasoning)，是用来证明相对简单结论的一类最常见推理方式。同样，要开始间接证明，就从结论的否定开始，用一系列步骤来得出前提的否定。

遗憾的是，正向推理常常难以用来证明更复杂的结论，因为得出想要的结论所需要的推理可能并不明显。在这种情况下使用反向推理（backward reasoning）可能会有所帮助。要反向推理证明命题 $q$ ，我们就寻找一个命题 $p$ 并可证明其具有性质 $p \rightarrow q$ 。（注意，寻找一个命题 $r$ 并能证明其具有 $q \rightarrow r$ 不会有所帮助，因为从 $q \rightarrow r$ 和 $r$ 得出 $q$ 为真是一种窃取论题的错误推理。）反向推理的解释如例14和例15所示。

例14 给定两个正实数 $x$ 和 $y$ ，其算术均值是 $(x + y) / 2$ 而其几何均值是 $\sqrt{xy}$ 。当比较不同正实数对的算术和几何均值时，可以发现算术均值总是大于几何均值。（例如，当 $x = 4$ 和 $y = 6$ 时，有 $5 = (4 + 6) / 2 > \sqrt{4 \cdot 6} = \sqrt{24}$ 。）能否证明这个不等式恒为真？

解 当 $x$ 和 $y$ 是不同正实数时，要证明 $(x + y) / 2 > \sqrt{xy}$ ，我们可以采用反向推理。我们构造一系列等价的不等式。这些等价的不等式是：

$$
\begin{array}{l} (x + y) / 2 > \sqrt {x y} \\ (x + y) ^ {2} / 4 > x y \\ (x + y) ^ {2} > 4 x y \\ x ^ {2} + 2 x y + y ^ {2} > 4 x y \\ x ^ {2} - 2 x y + y ^ {2} > 0 \\ (x - y) ^ {2} > 0 \\ \end{array}
$$

由于当 $x \neq y$ 时，有 $(x - y)^2 > 0$ ，所以最后一个不等式为真。由于所有这些不等式都等价，所以可得出当 $x \neq y$ 时， $(x + y) / 2 > \sqrt{xy}$ 。一旦做了这样的反向推理，就可以通过颠倒这些步骤来构造证明，这样将构造出正向推理的证明。（注意反向推理中的步骤不会成为最终证明的一部分，这些步骤只是作为指南来构造完整的证明。）

证明 假设 $x$ 和 $y$ 是两个不同的实数。那么 $(x - y)^2 > 0$ ，因为非零实数的平方是正的（见附录1）。由于 $(x - y)^2 = x^2 - 2xy + y^2$ ，所以这蕴含着 $x^2 - 2xy + y^2 > 0$ 。两边同时加上 $4xy$ ，得 $x^2 + 2xy + y^2 > 4xy$ 。因为 $x^2 + 2xy + y^2 = (x + y)^2$ ，因此 $(x + y)^2 > 4xy$ 。两边同时除以4，可得 $(x + y)^2 / 4 > xy$ 。最后，两边同时开平方（保持不等式性质，因为两边都是正的）得 $(x + y) / 2 > \sqrt{xy}$ 。从而得出结论如果 $x$ 和 $y$ 是两个不同的实数，那么它们的算术均值 $(x + y) / 2$ 大于它们的几何均值 $\sqrt{xy}$ 。

例15 假定两人玩游戏，轮流从最初有15块石头的堆中每次取1、2或3块石头。取最后一块石头的人赢得游戏。证明无论第二个玩家如何取，第一个玩家都能赢得游戏。

解为了证明第一个玩家(甲)总能赢得游戏，我们可以用反向推理。在最后一步，如果留给甲的石头堆中剩下1、2或3块石头，则甲就能获胜。如果第二个玩家(乙)不得不从有4块石头的堆中取石头，就迫使乙留下1、2或3块石头。因此，甲要获胜的一种方法是在倒数第二步给乙留下4块石头。当轮到甲的时候面临5、6或7块石头时（当乙不得不从8块石头的堆中取石头时就会出现这种情况），甲就能留下4块石头。因此，为迫使乙留下5、6或7块石头，甲应该在其倒数第三步给乙留下8块石头。这意味着当轮到甲取时还有9、10或11块石头。同样，当

![](82639a32d174e3474dedf54534e8944227f7cf268ebfc6b64461cac9e7894883.jpg)

甲走第一步时应该留下12块石头。我们可以把这个论证倒过来就能证明无论乙如何取，甲总是有石头取从而甲赢得游戏。这些步骤依次给乙留下12、8和4块石头。

改编现有证明 在寻找可用于证明语句方法时，一个很好的思路是利用类似结论现有的证明。一个现有的证明通常可以改编用于证明其他结论。即使不是这样，现有证明中的一些想法也会有所帮助。因为现有证明能为新证明提供线索，就应该多阅读和理解在学习中遇到的证明。这一过程如例16所示。

例16 在1.7节例11中证明了 $\sqrt{2}$ 是无理数。现在推测 $\sqrt{3}$ 是无理数。我们能够改编1.7节例11的证明来证明 $\sqrt{3}$ 是无理数吗？

解 为改编在1.7节例11的证明，开始先模仿这个证明的步骤，只是要用 $\sqrt{3}$ 代替 $\sqrt{2}$ 。首先，假设 $\sqrt{3} = c / d$ ，这里分数 $c / d$ 是既约的。等式的两边取平方得到 $3 = c^2 / d^2$ ，因此 $3d^2 = c^2$ 。类似于1.7节例11中由等式 $2b^2 = a^2$ 证明2是 $a$ 和 $b$ 的公因子的方法，我们可以用这个等式能证明3一定是 $c$ 和 $d$ 的公因子吗？（回忆一下如果 $t / s$ 是整数，则整数 $s$ 是整数 $t$ 的因子。一个整数 $n$ 是偶数当且仅当2是 $n$ 的因子。）事实证明是可以的，只是需要借助于将第4章讨论的数论内容。我们勾画出剩下的证明，但把这些步骤的理由留到第4章。因为3是 $c^2$ 的因子，它也必然是 $c$ 的因子。再者，因为3是 $c$ 的因子，9就是 $c^2$ 的因子，这意味着9是 $3d^2$ 的因子。这蕴含着3是 $d^2$ 的因子，这意味着3是 $d$ 的因子。这样3就是 $c$ 和 $d$ 的因子，与 $c / d$ 是既约分数相矛盾。在为这些步骤添加理由后，我们就完成了通过改编 $\sqrt{2}$ 是无理数的证明来证明 $\sqrt{3}$ 是无理数。注意这个证明可以推广到 $\sqrt{n}$ 是无理数，这里 $n$ 是一个非完全平方的正整数。这里的细节留给第4章。

当你面临要证明一个新定理时，特别是当新定理类似于你原先证明过的定理时，一个窍门就是寻找你可以改编的现有的证明。

# 1.8.6 寻找反例

1.7节介绍了应用反例证明法来证明一些语句是假的。当面对一个猜想时，你首先可以试图去证明这个猜想，如果你的尝试没有成功，你可以试图寻找一个反例。如果你不能找到反例，你可以再试图证明这个语句。无论如何，寻找反例都是一个相当重要的方法，并时常能提供对问题的领悟。下面例17说明了反例的作用。

例17 在1.7节例15中通过寻找反例证明了语句“每个正整数都是两个整数的平方和”为假。也就是说，存在正整数不能写成两个整数的平方和。尽管不能把每一个正整数写成两个整数的平方和，但也许我们能把每一个正整数写成三个整数的平方和。即语句“每个正整数都是三个整数的平方和”是真还是假呢？

解 因为我们知道并不是每个正整数都是两个整数的平方和，可能最初怀疑每一个正整数能写为三个整数平方和。因此，首先寻找反例。即如果能够找到一个特殊的整数不是三个整数的平方和就能证明语句“每个正整数都是三个整数的平方和”为假。为寻找反例，试着将连续的正整数写成三个整数的立方和。可以发现 $1 = 0^{2} + 0^{2} + 1^{2}$ ， $2 = 0^{2} + 1^{2} + 1^{2}$ ， $3 = 1^{2} + 1^{2} + 1^{2}$ ， $4 = 0^{2} + 0^{2} + 2^{2}$ ， $5 = 0^{2} + 1^{2} + 2^{2}$ ， $6 = 1^{2} + 1^{2} + 2^{2}$ ，但无法找到将7写为三个整数的平方和的方法。要证明没有三个数的平方加起来等于7，注意可以用的平方数是那些不超过7的平方数，即0、1或4。因为0、1或4的任意三项相加得不出7，所以7是一个反例。我们得到结论语句“每个正整数都是三个整数的平方和”为假。

我们已经证明了并不是每个正整数都是三个整数的平方和。下一个问题要问是不是每个正整数都是四个整数的平方和。有些实验证据表明答案是对的。例如， $7 = 1^{2} + 1^{2} + 1^{2} + 2^{2}$ ， $25 = 4^{2} + 2^{2} + 2^{2} + 1^{2}$ 和 $87 = 9^{2} + 2^{2} + 1^{2} + 1^{2}$ 。于是得出猜想“每个正整数都是四个整数的平方和”是真的。对于证明参见[Ro10]。

Extra Examples

# 1.8.7 证明策略实践

我们在学习数学时仿佛数学事实是刻在石头上的。数学教科书（包括这本书的绝大部分）正式地提出定理及其证明。这样的展示并不能揭示数学发现过程。这一过程以探索概念和例子开始，提出问题，形成猜想，并企图通过证明或者通过反例来解决这些猜想。这些就是数学家的日常活动。不管你信不信，教科书中所讲授的材料起初都是以这个方式发展出来的。

人们基于各种可能证据来拟定猜想。对特殊情形的考察可能够导致一个猜想，就像识别一些可能的模式。对已知定理的假设和结论稍做改变也能导致可信的猜想。有些时候，猜想的建立是基于直觉或者甚至认为结果成立的信念。无论猜想是怎样产生的，一旦它被形式化描述，目标就是证明或者驳斥它。当数学家相信猜想可能是真的时，他们会尝试寻找证明。如果他们找不到证明，他们就会寻找反例。当他们不能找到反例时，他们又会转回来再次试图证明猜想。尽管许多猜想很快被解决，但有些猜想则抵御了数百年攻关，还导致数学新分支的发展。本节稍后将会提到几个著名的猜想。

# 1.8.8 拼接

通过对棋盘拼接游戏的简要研究能够解释证明策略的各个方面。研究棋盘的拼接游戏是一

种能快速发现多种结论并用各种证明方法来构造其证明的很有效方法。在这个领域几乎创造了无穷多的猜想及其研究。我们需要定义一些术语。一个棋盘是一个由水平和垂直线分割成同样大小方格组成的矩形。象棋游戏是在8行和8列的木板上进行，这块板称为标准棋盘（standard checkerboard），如图2所示。在这一节我们用术语拼板（board）指任意大小的矩形棋盘，以及删除一个或多个方格剩下的棋盘组成。一个骨牌（domino）是一块一乘二的方格组成的矩形，如图3所示。当一个拼板的所有方格由不重叠的骨牌覆盖并且没有骨牌悬空时，我们就说一个拼板由骨牌所拼接（tiled）。现在来研究一些有关用骨牌拼接拼板的结论。

![](e8fdf693247461557469fb13c0ad7da9c5f61a3a39866c4cbf3531de354c2304.jpg)  
图2 标准棋盘

例18 我们能用骨牌拼接标准棋盘吗？

解我们可以找到许多用骨牌拼接标准棋盘的方法。例如，可以水平放32块骨牌拼接它，如图4所示。该拼接的存在即完成了一个构造性的存在证明。还有大量其他的方法可以完成这个拼接。可以在拼板上垂直放32块骨牌，或者水平放一些和垂直放一些来拼接它。但对于一个构造性存在证明只需要找到一个这样的拼接就可以了。

例19 我们能拼接从标准棋盘中去掉四个角的方格之一得到的拼板吗？

解为了回答这个问题，注意一个标准棋盘有64个方格，因此去掉一个方格就会产生由63个方格构成的拼板。现在假设能够拼接一个从标准棋盘中去掉一个角的方格的拼板。因为每一个骨牌盖住两个方格，并且没有两个骨牌重叠没有骨牌悬空，所以拼板上一定有偶数个方格。因此，可以用归谬证明法证明标准棋盘去掉一个方格后不能用骨牌拼接，因为这样一个拼板有奇数个方格。

现在考虑一个比较棘手的情况。

![](07225e6818cddf3cea679b50c0944fffe85bf229b77943d80ea11d5226dee4df.jpg)

![](f7a45afffc5e320a092a8d88d978a378d10d5323b6f504e3c2792f3391c2b41f.jpg)  
图3 两种骨牌

![](3072af361f086bdc565f99214f171c04e4b1f7b109f2fc4d96da8a8f5c9540ae.jpg)  
图4 拼接标准棋盘

例20 我们能拼接标准棋盘中去掉左上角和右下角方格得到的拼板吗，如图5所示？

解 去掉标准棋盘中两个方格得到的拼板包含 $64 - 2 = 62$ 个方格。因为62是偶数，不能像例19那样很快排除标准棋盘去掉左上角和右下角方格后拼接的存在性，例19中排除了标准棋盘去掉一个方格后用骨牌拼接的存在性。读者应该尝试的第一个方法可能是通过依次放置骨牌来试图构造这个拼板的拼接。然而，无论怎么试验，我们都不能找到这样的一个拼接。因为我们的努力没有得到一个拼接，所以导向一个猜测：拼接不存在。

我们通过证明无论怎样在拼板上依次放置骨牌都会走进死胡同从而可以试图证明不存在拼接。为构造这样的证明，不得不考虑在选择依次放置骨牌时可能出现的所有可能情况。例如，要覆盖紧挨着去掉的左上角方格的第一行第二列的方格就有两种选择。我们可以用水平方式拼接或者垂直方式拼接来覆

![](e335d07123cdc1e24305641bae89fe83f8846ebd392d9d161dd380431acd9108.jpg)  
图5 标准棋盘去掉左上角和右下角方块

盖它。这两种选择的每一种都会导致下一步的不同选择，如此继续。很快就会发现对于人来说这不是一个有效的解决方案，尽管可以用计算机通过穷举法来完成这样的证明（练习47要求你提供这样的证明来解释一个 $4 \times 4$ 棋盘去掉对角后不能拼接）。

我们需要另一种方法。或许有一个比较容易的方法可以证明标准棋盘去掉两个对角后不存在拼接。正如许多证明一样，一个关键的观察能启发我们。我们交替用白和黑给这个棋盘的方格涂色，如图2所示。观察在这样的拼板拼接中一个骨牌覆盖一个白方格和一个黑方格。其次，注意这样的拼板白色方格和黑色方格数量不等。我们可以用这些观察通过归谬证明法来证明一个标准棋盘去掉两个对角后不能用骨牌拼接。现在给出这样的证明。

证明 假设能用骨牌拼接标准棋盘去掉两个对角后的拼板。注意标准棋盘去掉两个对角后包含 $64 - 2 = 62$ 个方格。拼接需要用到 $62 / 2 = 31$ 个骨牌。注意在这个拼接中，每个骨牌盖住一个白的和一个黑的方格。因此，这个拼接盖住31个白的和31个黑的方格。然而，当去掉两个对角方格时，剩下的方格或者是32块白的30块黑的，或者是30块白的32块黑的。这与能用骨牌覆盖标准棋盘去掉两个对角后的拼板的假设相矛盾，从而完成证明。

我们还可以用骨牌之外其他类型的板块来拼接。我们研究用同样的方格沿边粘连起来构成的相同形状的板块而非骨牌来做拼接游戏。这样的板块称为是多联骨牌(polyomino)，这个术语是由数学家所罗门·戈洛姆在1953年创造的，他为此写了一本消遣性的书[Go94]。我们将两个具有同样数量方格的多联骨牌当作一样的，如果通过旋转和翻转其中一个而能得到另一个。例如，有两种类型的三联骨牌（见图6），它是由三个方格沿边粘连起来的多联骨牌。一种三联骨牌是直三联骨牌(straight triomino)，它由三个水平连接的方格构成；另一种是

![](6f6cf8a002c99d281c757162ce15deddcb76c15898adc254972313a1ecebfba3.jpg)  
图6 一个直角三联骨牌和一个直三联骨牌

直角三联骨牌(right triomino)，酷似字母 $L$ 的形状，及其翻转和旋转（必要时）。这里将研究用直三联骨牌拼接棋盘，5.1节再研究用直角三联骨牌的拼接问题。

例21 你能用直三联骨牌拼接标准棋盘吗？

解 标准棋盘含有64个方格，每一个三联骨牌覆盖3个方格。因此，如果三联骨牌拼接了一个拼板，拼板的方格数量一定是3的倍数。因为64不是3的倍数，所以三联骨牌不能用于覆盖 $8 \times 8$ 棋盘。

下面的例22，考虑了用直三联骨牌拼接一个标准棋盘去掉一个角的问题。

例22 我们能用直三联骨牌拼接标准棋盘中去掉四个角的任一个角的拼板吗？一个 $8 \times 8$ 棋盘去掉一个角后包含 $64 - 1 = 63$ 个方格。用直三联骨牌对四种可能的任一做拼接都要用 $63 / 3 = 21$ 个直三联骨牌。然而当我们试验时，找不到一个用直三联骨牌对这样的拼板拼接。

穷举证明法也没有带来什么希望。我们能改编例20的证明来证明这样的拼接不存在吗？

解例20证明了用骨牌拼接去掉对角的标准棋盘是不可能的，为了尝试改编例20的归谬证明，我们给棋盘的方格涂色。因为是用直三联骨牌而不是骨牌，我们用三种而不是两种颜色为方格着色，如图7所示。注意在这个着色中有21个灰色方格、21个黑色方格、22个白色方格。接着，做一个重要的观察，当一个直三联骨牌覆盖棋盘的3个方格时，它覆盖一个灰色的、一个黑色的和一个白色的方格。然后注意3种颜色的每一个都出现在一个角的方格中。于是，不失一般性，我们可以假设轮换颜色，使得去掉的方格是灰色的。因此假设剩余的拼板包含20个灰色方格、21个黑色方格、22个白色方格。

![](8520cb5b9d0a0f3fbf8b9788a811ade74202d695c1fe6663523ac0a8696f2a2f.jpg)  
图7用三种颜色对标准棋盘方格着色

如果能用直三联骨牌拼接这块拼板，那么将用 $63 / 3 = 21$ 个直三联骨牌。这些直三联骨牌覆盖21个灰色方格、21个黑色方格、21个白色方格。这与该拼板包含20个灰色方格、21个黑色方格、22个白色方格相矛盾。因此不能用直三联骨牌拼接这个拼板。

# 1.8.9 开放问题的作用

数学中的许多进展是人们在试图解决著名的悬而未决的问题时而做出的。在过去的20年中，有许多悬而未决的问题最后被最终解决，比如数论中300多年前的一个猜想被证明。这个猜想断言称为费马大定理的命题为真。

定理1 费马大定理：只要 $n$ 是满足 $n > 2$ 的整数，方程

$$
x ^ {n} + y ^ {n} = z ^ {n}
$$

就没有满足 $xyz \neq 0$ 的整数解 $x, y$ 和 $z$ 。

评注方程 $x^{2} + y^{2} = z^{2}$ 有无穷多个整数解 $x$ 、 $y$ 和 $z$ ，这些解称为毕达哥拉斯三元组，对应于具有整数边长的直角三角形的边长。参见练习34。

这个问题有一段很有意思的典故。在17世纪，费马在一本丢番图的著作的空白处匆匆写道，他有了“巧妙的证明”：当 $n$ 是大于2的整数时 $x^{n} + y^{n} = z^{n}$ 没有非零的整数解。但他从来没有发表过一个证明（费马几乎没有发表过任何东西），在他死后留下的文章中也找不到任何证明。数学家花了300年寻找这个证明却没有成功，尽管许多人相信能找到一个相对简单的证明。（已经有一些特殊情形下的证明，比如欧拉的当 $n = 3$ 时的证明和费马本人的当 $n = 4$ 时的证明。）历年来，有些有声望的数学家认为他们证明了这个定理。在19世纪，这些失败的尝试之一导致了被称为代数数论的数论分支的发展。直到20世纪90年代，当安德鲁·怀尔斯（Adrew Wiles）采用源自深奥的数论领域中所谓的椭圆曲线理论的最新思想来证明费马大定理时，才找到了几百页长的高等数学的正确证明。公共电视台Nova系列的节目介绍说，怀尔斯利用这个强有力的理论来寻找费马大定理的证明花费了将近10年时间！另外，他的证明还基于许多数学家的重大贡献。（感兴趣的读者可以查阅[Ro10]来了解关于费马大定理的更多信息和关于这个问题及其解决的其他参考资料。）

下面我们给出一个开放问题，这个问题描述起来很简单，但却很难求解。

例23 $3x + 1$ 猜想令 $T$ 是把偶整数 $x$ 转换成 $x / 2$ 、把奇整数 $x$ 转换成 $3x + 1$ 的变换。一个著名的猜想，有时称为 $3x + 1$ 猜想：对于所有正整数 $x$ ，当反复地应用变换 $T$ 时，最终会得到整数1。例如，从 $x = 13$ 开始，发现 $T(13) = 3\cdot 13 + 1 = 40$ ， $T(40) = 40 / 2 = 20$ ， $T(20) = 20 / 2 = 10$ ， $T(10) = 10 / 2 = 5$ ， $T(5) = 3\cdot 5 + 1 = 16$ ， $T(16) = 8$ ， $T(8) = 4$ ， $T(4) = 2$ ， $T(2) = 1$ 。对于直到 $5.6\cdot 10^{13}$ 的所有整数都验证了 $3x + 1$ 猜想。

$3x + 1$ 猜想具有有趣的历史，从20世纪50年代以来就吸引了数学家的注意力。这个猜想被多次提出，具有许多其他名称，包括：Collatz问题、Hasse算法、Ulam问题、Syracuse问题以及Kakutani问题等。许多数学家抛开原有工作花时间来解决这个猜想。这还引起一则笑话说这个问题是旨在减缓美国数学研究的阴谋的一部分。参见JeffreyLagaris的文章[Lal0]来了解对这个问题有趣的讨论以及试图解决这个问题的数学家所发现的结果。

在离散数学中有数量惊人的开放问题，在第4章，你将会遇到更多关于素数的开放问题（已经熟悉素数的基础概念的学生可能想要探索4.3节讨论的开放问题）。在阅读本书时，你会遇到很多其他方面的开放问题，对这类问题的研究对离散数学许多领域的发展起着重要作用。

# 1.8.10 其他证明方法

本章介绍了证明中使用的基本方法。同时描述了如何利用这些方法来证明各种结论。后续章节中将会用到这些证明方法。特别是，在第2、3、4章中将用这些证明方法证明有关集合、函数、算法和数论的结论，在第9、10、11章中用于证明图论中的结论。在我们要证明的这些定理中有一个著名的停机定理，它阐述了存在一个不能用任何过程来解决的问题。可是，除了我们讨论过的方法外还有许多重要的证明方法。本书稍后介绍其中一些方法。特别是，5.1节讨论数学归纳法，这是非常有用的方法，用于证明形如 $\forall nP(n)$ 的语句，其中论域是正整数集合。5.3节介绍结构归纳法，可用来证明与递归定义的集合相关的结论。2.5节使用康托尔对角线方法，用来证明与无穷集的大小相关的结论。第6章介绍组合证明的概念，可采用计数论

# Links

![](8744e9acae7421624fb58ae66e7c114957aec6f1521b69ad1e37fdae66dcd893.jpg)  
$\langle \widehat{\mathbb{C}}\rangle$ Charles Rex Arbogast/AP Images

安德鲁·怀尔斯(Andrew Wiles, 1953—) 怀尔斯出生于英格兰的剑桥，他的父亲是一位神学教授。怀尔斯曾就读于剑桥的国王学院学校和莱斯学校。他10岁时读到一本关于费马大定理的书，从此对这个问题产生了极大兴趣。那时候他就知道自己不会放过这个问题，因为它虽然简单，但还没有一个大数学家能解决它。怀尔斯于1971年进入牛津大学默顿学院，于1974年获得学士学位，继而进入剑桥大学克莱尔学院攻读研究生，1980年获得博士学位，研究方向为椭圆曲线理论。他于1977年至1980年在哈佛大学担任Benjamin Peirce助理教授。1981年，他获得了普林斯顿大学高等研究院的一个职位，1982年被任命为普林斯顿大学教授。他于1985年获得古

根海姆奖学金并在巴黎高等科学研究所和巴黎高等师范学院学习了一年。不过，他并没有认识到在研究椭圆曲线时学到的技术，能在日后帮助自己解决曾痴迷的问题。1986年，当怀尔斯获知费马大定理可以从椭圆曲线理论中的一个猜想推导出来时，他才认识到这有可能会引出一个证明策略。于是，他放弃了当时的研究而全身心投入费马大定理。他用七年多的时间完成了证明，又用两年多的时间修正了证明中的部分错误。这期间他把所有时间都花在这一问题以及陪伴女儿上了。1988年他在牛津大学任研究教授一职，1990年返回普林斯顿大学，一直到2011年，此时他重新加入牛津大学任皇家学会研究教授。证明费马大定理不仅使他成名，还为他赢得了Wolfskehl奖。该奖设立于1908年，授予第一个正确证明费马大定理的人，奖金是10万德国马克(当时的货币)，相当于今天的150万美元。然而大家都明白，由于两次世界大战、货币贬值以及恶性通货膨胀，该奖项不那么值钱了——怀尔斯只收到大约5万美元的奖金。怀尔斯赢得了数学界的多项顶级奖项，包括阿贝尔奖、费马奖和沃尔夫奖。2000年，他被英国女王任命为大英帝国勋章的骑士指挥官，这使他成为安德鲁·怀尔斯爵士。

证的方式证明相关结论。读者应当注意相关书籍专门描述本节中讨论的内容，包括乔治·波利亚(George Polya)的许多优秀著作([Po61]、[Po71]、[Po90])。

最后，请注意我们没有给出一个能够用于证明数学中定理的过程。这样一个过程不存在的理由涉及数理逻辑中的一个深奥的定理。

# 练习

1. 证明当 $n$ 是 $1 \leqslant n \leqslant 4$ 的正整数时，有 $n^2 + 1 \geqslant 2^n$ 。  
2. 采用分情形证明法证明10不是一个整数的平方。[提示：考虑两种情况：(i) $1 \leqslant x \leqslant 3$ ，(ii) $x \geqslant 4$ 。]  
3. 采用分情形证明法证明100不是一个整数的立方。[提示：考虑两种情况：(i) $1 \leqslant x \leqslant 4$ ，(ii) $x \geqslant 5$ 。]  
4. 证明不存在小于1000的正完全立方数是两个正整数的立方和。  
5. 证明如果 $x$ 和 $y$ 都是实数，则 $\max(x, y) + \min(x, y) = x + y$ 。[提示：使用分情形证明法，两种情形分别对应于 $x \geqslant y$ 和 $x < y$ 。]  
6. 使用分情形证明法来证明当 $a$ 、 $b$ 和 $c$ 都是实数时就有 $\min (a,\min (b,c)) = \min (\min (a,b),c)$ 。  
7. 用不失一般性的概念证明当 $x$ 和 $y$ 是实数时有 $\min(x, y) = (x + y - |x - y|)/2$ 和 $\max(x, y) = (x + y + |x - y|)/2$ 。  
8. 用不失一般性的概念证明当 $x$ 和 $y$ 是奇偶性相反的整数时有 $5x + 5y$ 是一个奇整数。  
9. 证明三角不等式：如果 $x$ 和 $y$ 都是实数，则 $|x| + |y| \geqslant |x + y|$ （其中 $|x|$ 表示 $x$ 的绝对值，当 $x \geq 0$ 时它等于 $x$ ，当 $x < 0$ 时它等于 $-x$ ）。  
10. 证明存在一个正整数等于所有小于它的正整数的和。你的证明是构造性的还是非构造性的？  
11. 证明存在 100 个连续的不是完全平方的正整数。你的证明是构造性的还是非构造性的？  
12. 证明 $2 \times 10^{500} + 15$ 或 $2 \times 10^{500} + 16$ 不是完全平方数。你的证明是构造性的还是非构造性的？  
13. 证明存在一对连续的整数，其中一个整数是完全平方数，另一个是完全立方数。  
14. 证明 $65^{1000} - 8^{2001} + 3^{177}$ 、 $79^{1212} - 9^{2399} + 2^{2001}$ 和 $24^{4493} - 5^{8192} + 7^{1777}$ 这三个数中任意两个数之积是非负的。你的证明是构造性的还是非构造性的？[提示：不要尝试计算这些数！]  
15. 证明或驳斥存在有理数 $x$ 和无理数 $y$ ，使得 $x^y$ 是无理数。  
16. 证明或驳斥如果 $a$ 和 $b$ 是有理数，那么 $a^b$ 也是有理数。  
17. 证明下列每一个命题均可用于表达这样的事实：存在一个唯一的元素 $x$ 使得 $P(x)$ 为真。[注意，这等同于命题 $\exists! xP(x)$ 。]

a) $\exists x\forall y(P(y)\leftrightarrow x = y)$   
b) $\exists xP(x)\land \forall x\forall y(P(x)\land P(y)\rightarrow x = y)$   
c) $\exists x(P(x)\land \forall y(P(y)\rightarrow x = y))$

18. 证明：如果 $a$ 、 $b$ 和 $c$ 是实数且 $a \neq 0$ ，则方程 $ax + b = c$ 存在唯一的解。  
19. 假定 $a$ 和 $b$ 是奇数且 $a \neq b$ 。证明存在唯一的整数 $c$ 满足 $|a - c| = |b - c|$ 。  
20. 证明如果 $r$ 是无理数，则存在唯一的整数 $n$ 使得 $r$ 和 $n$ 之间的距离小于 $1 / 2$ 。  
21. 证明如果 $n$ 是奇数，则存在唯一的整数 $k$ 使得 $n$ 是 $k - 2$ 和 $k + 3$ 之和。  
22. 证明给定实数 $x$ ，存在唯一的数 $n$ 和 $\varepsilon$ 使得 $x = n + \varepsilon$ ，这里 $n$ 是整数且 $0 \leqslant \varepsilon < 1$ 。  
23. 证明给定实数 $x$ ，存在唯一的数 $n$ 和 $\varepsilon$ 使得 $x = n - \varepsilon$ ，这里 $n$ 是整数且 $0 \leqslant \varepsilon < 1$ 。  
24. 用正向推理证明：如果 $x$ 是非零实数，则 $x^2 + 1 / x^2 \geq 2$ 。[提示：对所有非零实数 $x$ ，从不等式 $(x - 1 / x^2)^2 \geq 0$ 开始证明。]  
25. 两个实数 $x$ 和 $y$ 的调和均值（harmonic mean）是 $2xy / (x + y)$ 。通过计算不同正实数对的调和均值和几何均值，构造一个关于这两种均值相对大小的猜想并证明之。  
26. 两个实数 $x$ 和 $y$ 的平方均值（quadratic mean）是 $\sqrt{(x^2 + y^2) / 2}$ 。通过计算不同正实数对的算术均值和平方均值，构造一个关于这两种均值相对大小的猜想并证明之。  
* 27. 在黑板上写下数字 1, 2, ..., 2n, 其中 $n$ 是奇数。从中任意挑出两个数 $j$ 和 $k$ , 在黑板上写下 $|j - k|$ 并擦掉 $j$ 和 $k$ 。继续这个过程, 直到黑板上只剩下一个整数为止。证明: 这个整数必为奇数。  
* 28. 假设5个1和4个0绕圆周排列。在任何两个相同的比特之间插入一个0，在任何两个不同的比特之

间插入一个1，以产生9个新的比特。然后删除原来的9比特。证明当反复进行这个过程时，永远不能得到9个0。[提示：采用反向推理，假设真的以9个0结束。]

29. 构造一个关于一个整数的 4 次幂的十进制末位数字的猜想。用分情形证明法证明你的猜想。

30. 构造一个关于一个整数平方的十进制末两位数字的猜想。用分情形证明法证明你的猜想。

31. 证明不存在正整数 $n$ 使得 $n^2 + n^3 = 100$ 。

32. 证明方程 $2x^{2} + 5y^{2} = 14$ 没有 $x$ 和 $y$ 的整数解。

33. 证明方程 $x^4 + y^4 = 625$ 没有 $x$ 和 $y$ 的整数解。

34. 证明方程 $x^{2} + y^{2} = z^{2}$ 有无穷多个正整数解 $x, y$ 和 $z$ 。[提示：令 $x = m^{2} - n^{2}$ 、 $y = 2mn$ 以及 $z = m^{2} + n^{2}$ ，其中 $m$ 和 $n$ 是整数。]

35.改编1.7节例4的证明来证明如果 $n = abc$ ，其中 $a,b,c$ 是正整数，则 $a\leqslant \sqrt[3]{n}$ 、 $b\leqslant \sqrt[3]{n}$ 或者 $c\leqslant \sqrt[3]{n}$ 。

36. 证明 $\sqrt[3]{2}$ 是无理数。

37. 证明任两个有理数之间都有一个无理数。

38. 证明任一个有理数和任一个无理数之间都有一个无理数。

* 39. 设 $S = {x}_{1}{y}_{1} + {x}_{2}{y}_{2} + \cdots  + {x}_{n}{y}_{n}$ ,其中 ${x}_{1},{x}_{2},\cdots ,{x}_{n}$ 和 ${y}_{1},{y}_{2},\cdots ,{y}_{n}$ 是两个不同的正实数序列的排列,各自有 $n$ 个元素。

a) 证明：在这两个序列的所有排列中，当两个序列都排序（每个序列中的元素都以非降序排列）时， $S$ 取最大值。

b) 证明：在这两个序列的所有排列中，当一个序列排成非降序，另一个序列排成非升序时，S 取最小值。

40. 证明或驳斥：如果你有一个盛有8加仑水的瓶和两个容量分别为5加仑和3加仑的空瓶，那么你可以通过不断地把一瓶水全部或部分倒入另一个瓶中而测量出4加仑的水。

41. 对下列这些整数验证 $3x + 1$ 猜想：

a)6

b)7

c)17

d)21

42. 对下列这些整数验证 $3x + 1$ 猜想：

a)16

b)11

c)35

d)113

43. 证明或驳斥：你能用骨牌拼接去掉两个相邻角（也就是说，不是对角）的标准棋盘。

44. 证明或驳斥：你能用骨牌拼接去掉所有四个角的标准棋盘。

45. 证明：你能用骨牌拼接带有偶数个方格的长方形棋盘。

46. 证明或驳斥：你能用骨牌拼接去掉三个角的 $5 \times 5$ 的棋盘。

47. 通过穷举法证明：用骨牌拼接去掉两个对角的 $4 \times 4$ 棋盘是不可能的。[提示：首先证明你能假设可以去掉左上角和右下角的方格。对原始棋盘的方格用1到16进行编号，从第一行开始，在这一行向右编号，然后在第2行最左边的方格开始向右编号等。去掉第1和16号方格。开始证明时，注意2号方格或者被一个水平放置的骨牌覆盖，此时覆盖了2和3两个方格，或者垂直放置而覆盖2和6号方格。分别考虑每一种情形以及由此产生的所有子情形。]

* 48. 证明：当从一个 $8 \times 8$ （如同正文中的着色）的棋盘去掉一块白的和一块黑的方格后，你能用骨牌拼接棋盘上留下的方格。[提示：证明当去掉一个白格和一个黑格后，通过插入如图所示的隔板，由剩余的单元格所组成的每个划分块都能用骨牌拼接。]

49. 证明：从一个 $8 \times 8$ （如同正文中的着色）的棋盘去掉两块白的和两块黑的方格后，就不可能用骨牌来拼接棋盘留下的方格。

* 50. 如果存在，找出所有这样的拼板：从一个 $8 \times 8$ 的棋盘上删除其中一个方格后能用直三联骨牌拼接的拼板。[提示：首先基于着色和旋转可以消除尽可能多的需要考虑的拼板。]

* 51. a) 画 5 种不同的四联骨牌，这里四联骨牌是指由 4 个方格组成的多联骨牌。

b)对于5种不同的四联骨牌的每一种，证明或驳斥可以用这些四联骨牌拼接一个标准棋盘。

![](80b9af699953b95fb80b41e49edb4f8694572afde744ef391cace5054ee059e5.jpg)

* 52. 证明或驳斥：可以用直四联骨牌拼接 $10 \times 10$ 的棋盘。

# 关键术语和结论

# 术语

命题（proposition）：一个或为真或为假的语句。

命题变量（propositional variable）：代表一个命题的变量。

真值（truth value）：真或假。

$\neg p(p$ 的否定，negation of $p$ ）：与 $p$ 的真值相反的命题。

逻辑运算符(logicaloperators)：用于组合命题的运算符。

复合命题(compound proposition)：用逻辑运算符组合命题构造出的命题。

真值表（truth table）：显示命题所有可能真值的表。

$p \vee q$ ( $p$ 和 $q$ 的析取，disjunction of $p$ and $q$ )：命题“ $p$ 或 $q$ ”，它为真当且仅当 $p$ 和 $q$ 至少有一个为真。

$p \wedge q$ ( $p$ 和 $q$ 的合取，conjunction of $p$ and $q$ ): 命题 “ $p$ 与 $q$ ”, 它为真当且仅当 $p$ 和 $q$ 均为真。

$p \oplus q (p$ 和 $q$ 的异或，exclusive or of $p$ and $q)$ ：命题“ $p$ XOR $q$ ”，它为真当且仅当 $p$ 和 $q$ 中恰有一个为真。

$p \rightarrow q (p$ 蕴含 $q$ , $p$ implies $q)$ : 命题“如果 $p$ , 则 $q$ ”, 它为假当且仅当 $p$ 为真而 $q$ 为假。

$p \to q$ 的逆命题（converse of $p \to q$ ）：条件语句 $q \to p$ 。

$p \to q$ 的逆否命题（contrapositive of $p \to q$ ）：条件语句 $\neg q \to \neg p$ 。

$p \rightarrow q$ 的反命题 (inverse of $p \rightarrow q$ ): 条件语句 $\neg p \rightarrow \neg q$ 。

$p \leftrightarrow q$ （双条件，biconditional）：命题“ $p$ 当且仅当 $q$ ”，它为真当且仅当 $p$ 和 $q$ 真值相同。

比特(bit)：0或1。

布尔变量（Boolean variable）：以0或1为值的变量。

比特运算(bit operation)：一比特或多比特的运算。

比特串（bit string）：比特列表。

按位运算(bitwise operations)：比特串上的运算，对一个比特串的比特和另一比特串的对应比特进行运算。

逻辑门(logic gate)：对一个或多个比特执行逻辑运算以产生输出比特的逻辑单元。

逻辑电路（logic circuit）：由逻辑门构成的能产生一个或多个输出比特的开关电路。

永真式（tautology）：永远为真的复合命题，也称为重言式。

矛盾式（contradiction）：永远为假的复合命题。

可能式（contingency）：有时成真有时为假的复合命题。

相容的复合命题（consistent compound propositions）：存在变量的真值赋值使得所有这些命题为真的那些复合命题。

可满足的复合命题（satisfiable compound proposition）：存在一个变量的真值赋值使得该命题为真的复合命题。

逻辑等价的复合命题(logicallyequivalentcompoundpropositions)：总是具有同样真值的复合命题。

谓词（predicate）：句子中代表主语属性的那部分。

命题函数(propositional function)：包含一个或多个变量的语句，当每一个变量被赋值或被量词约束时，就变成命题。

论域（domain（or universe）of discourse）：命题函数中变量可能取到的所有值。

$\exists xP(x)(P(x)$ 的存在量化，existential quantification of $P(x)$ ）：该命题为真当且仅当在论域中存在一个 $\mathcal{X}$ 使 $P(x)$ 为真。

$\forall x P(x)(P(x)$ 的全称量化，universal quantification of $P(x)$ ）：该命题为真当且仅当论域中的所有 $\mathcal{X}$ 使 $P(x)$ 均为真。

逻辑等价表达式（logically equivalent expressions）：无论用什么样的命题函数和论域，真值都相同的表达式。

自由变量(free variable)：命题函数中未被绑定的变量。

约束变量（bound variable）：被量化的变量。

量词的作用域（scope of a quantifier）：语句中量词绑定其变量的那部分。

论证(argument)：一连串的命题。

论证形式（argument form）：一连串包含命题变量的复合命题。

前提(premise)：论证或论证形式中最后命题以外的命题。

结论（conclusion）：论证或论证形式中最后的命题。

有效论证形式(validargumentform)：一连串包含命题变量的复合命题，其中所有前提为真蕴含着结论为真。

有效论证（validargument）：具有有效论证形式的论证。

推理规则（rule of inference）：可用于证明论证是有效的一个有效论证形式。

谬误(fallacy)：常常被错误地当作一个推理规则(有时甚至是一个错误的论证)使用的一种的无效论证形式。

循环论证或窃取论题(circular reasoning or begging the question)：论证中的一个或多个步骤是基于待证命题的真实性的推理。

定理（theorem）：可以证明为真的数学断言。

猜想(conjecture)：真值未知的数学断言。

证明（proof）：对定理为真的展示过程。

公理（axiom）：假设为真的并可作为基础用来证明定理的命题。

引理（lemma）：用来证明其他定理的定理。

推论(corollary)：可以被证明是刚刚证明的一个定理的结论的命题。

空证明（vacuousproof）：基于 $p$ 为假的事实而对蕴含式 $p\to q$ 的证明。

平凡证明（trivialproof）：基于 $q$ 为真的事实而对蕴含式 $p\to q$ 的证明。

直接证明法（directproof）：通过证明当 $p$ 为真时 $q$ 必然为真来证明 $p\to q$ 为真。

反证法(proofofcontraposition)：通过证明当 $q$ 是假时 $p$ 一定是假来证明 $p\to q$ 为真。

归谬证明法(proofofcontradiction)：基于蕴含式 $\neg p\to q$ 的真值(其中 $q$ 是矛盾式)而得出命题 $p$ 为真的。证明。

穷举证明法(exhaustive proof)：通过检查一系列所有可能的情形来建立一个结论的证明。

分情形证明法（proof by cases）：一个证明分解为不同的情形，这些情形覆盖所有的可能性。

不失一般性（without loss of generality）：证明中的一个假定，使得有可能通过减少证明中所需考虑的情形来证明一个定理。

反例（counterexample）：使得 $P(x)$ 为假的元素 $x$ 。

构造性的存在性证明（constructive existence proof）：具有特定性质的元素存在并通过显式方式来寻找这样的元素的证明。

非构造性的存在性证明（nonconstructive existence proof）：具有特定性质的元素存在，但不显式地寻找这样的元素的证明。

有理数(rational number)：一个可以表示为两个整数 $p$ 和 $q$ （其中 $q \neq 0$ ）之比的数。

唯一性证明（uniqueness proof）：证明具有特定性质的元素唯一地存在。

# 结论

1.3节表6、表7、表8给出的逻辑等价式。

量词的德·摩根律。

命题演算的推理规则。

量化命题的推理规则。

# 复习题

1. a)定义一个命题的否定。

b）“这是一门无聊的课程”的否定是什么？

2. a) (用真值表) 定义命题 $p$ 和 $q$ 的析取、合取、异或、条件和双条件命题。

b）“今晚我去看电影”和“我将完成离散数学作业”的析取、合取、异或、条件和双条件命题是

什么？

3. a) 用汉语给出至少五种不同的方式表达条件语句 $p \rightarrow q$ 。

b)定义一个条件语句的逆命题和逆否命题。

c)叙述条件语句“如果明天阳光明媚，则我将到林中散步。”的逆命题和逆否命题。

4. a) 两个命题逻辑等价的含义是什么？

b)描述证明两个复合命题逻辑等价的不同方法。

c)至少用两种方法证明 $\neg p\lor (r\to \neg q)$ 和 $\neg p\lor \neg q\lor \neg r$ 是等价的。

5.（依赖于1.3节的练习）

a)给定一个真值表，试解释怎样用析取范式构造一个该真值表对应的复合命题。

b)试解释为什么a)说明运算符 $\wedge$ 、 $\vee$ 和 $\neg$ 是功能完备的。

c)是否有一个运算符使得只含这个运算符的集合是功能完备的？

6. 一个谓词 $P(x)$ 的全称和存在量化是什么？它们的否定又是什么？

7. a) 量化命题 $\exists x \forall y P(x, y)$ 和 $\forall y \exists x P(x, y)$ 的区别是什么，其中 $P(x, y)$ 为谓词？

b)给出谓词 $P(x,y)$ 的一个例子，使得 $\exists x\forall yP(x,y)$ 和 $\forall y\exists xP(x,y)$ 具有不同的真值。

8. 试描述命题逻辑中有效论证是什么意思，并且证明论证“如果地球是平的，那你就能航行到地球边缘”，“你不能航行到地球边缘”，因此，“地球不是平的”是一个有效论证。

9. 用推理规则证明如果前提“所有的斑马都有条纹”，“Mark是一匹斑马”是真的，那么结论“Mark有条纹”是真的。

10. a) 描述条件语句 $p \rightarrow q$ 的一个直接证明、一个反证和一个归谬证明分别是什么意思。

b)分别给出语句“如果 $n$ 是偶数，则 $n + 4$ 是偶数”的一个直接证明、一个反证和一个归谬证明。

11. a) 描述双条件语句 $p \leftrightarrow q$ 的一种证明方式。

b) 证明命题“整数 $3n + 2$ 是奇数当且仅当整数 $9n + 5$ 是偶数，其中 $n$ 是整数”。

12. 为了证明语句 $p_1$ 、 $p_2$ 、 $p_3$ 和 $p_4$ 都是等价的，是否只要证明条件语句 $p_4 \rightarrow p_2$ 、 $p_3 \rightarrow p_1$ 和 $p_1 \rightarrow p_2$ 都是有效的就足够了？如果不是，请给出可用来证明这四个语句都是等价的另外一组条件语句。

13. a) 假定形如 $\forall x P(x)$ 的语句为假。要如何证明呢？

b) 证明语句“对每个正整数 $n$ 来说， $n^2 \geqslant 2n$ ”为假。

14.构造性与非构造性存在性证明之间的差异是什么？分别举一个例子。

15. 证明存在唯一的元素 $x$ 使得 $P(x)$ 为真（其中 $P(x)$ 是命题函数）的要素是什么？

16. 阐释如何用分情形证明法来证明有关绝对值的结果：对所有实数 $x$ 和 $y$ 有 $|xy| = |x||y|$ 。

# 补充练习

1. 令 $p$ 为命题“我将做本书中的每一道练习”且 $q$ 为命题“这门课程我会得‘A’”。将下列各项表示为 $p$ 和 $q$ 的组合。

a)这门课程我会得‘A’仅当我做本书中的每道练习。  
b)这门课程我会得‘A’，而且我会做本书中每一道练习。   
c)或者这门课程我不会得‘A’，或者我不会做本书中的每一道练习。  
d)我这门课程得‘A’的充分必要条件是我做本书中的每一道练习。

2. 求复合命题 $(p \vee q) \rightarrow (p \wedge \neg r)$ 的真值表。

3. 证明下列复合命题为永真式。

$$
\mathrm {a}) (\neg q \wedge (p \rightarrow q)) \rightarrow \neg p
$$

$$
\mathrm {b}) ((p \vee q) \wedge \neg p) \rightarrow q
$$

4. 给出下列条件语句的逆命题、反命题和逆否命题。

a)如果今天下雨，我就开车上班。  
b)如果 $|x| = x$ ，那么 $x\geq 0$   
c)如果 $n$ 大于3，那么 $n^2$ 大于9。

5. 给定条件语句 $p \rightarrow q$ ，找出其反命题的逆命题、反命题的反命题、逆否命题的逆命题。  
6. 给定条件语句 $p \rightarrow q$ ，找出其反命题的反命题、逆命题的反命题、逆否命题的反命题。  
7. 用命题变量 $p$ 、 $q$ 、 $r$ 和 $s$ 构造一个复合命题，使它在这些命题变量中恰有三个为真时取真值，其他情

况下为假。

8. 证明下列语句是不相容的：“如果 Sergei得到该工作机会，那他将获得一笔签约奖金。”“如果 Sergei得到该工作机会，那他将获得一份高薪。”“如果 Sergei获得一笔签约奖金，那他将不会获得一份高薪。”“Sergei得到了该工作机会。”  
9. 证明下列语句是不相容的：“如果 Miranda 没有修过离散数学课程，那她将不能毕业。”“如果 Miranda 不能毕业，那她将不没有资格获得那份工作。”“如果 Miranda 读了这本书，那她将有资格获得那份工作。”“Miranda 没有修过离散数学课程，但她读过这本书。”

据说在中世纪，教师通过称为伴随游戏（obligato game）的一种技巧来测试学生的实时命题逻辑能力。一个伴随游戏包含若干轮，在每轮老师依次会给学生断言，学生必须接受或拒绝。当学生接受一个断言时，它被添加作为一个承诺；当学生拒绝一个断言，就将其否定添加作为一个承诺。如果能做到在整个测试过程中的所有承诺保持相容，学生就通过了测试。

10. 假定在一个有三轮的伴随游戏中，老师首先给学生命题 $p \rightarrow q$ ，然后命题 $\neg (p \lor r) \lor q$ ，最后是命题 $q$ 。学生3次回答的8种可能的序列中的哪个能通过测试？  
11. 假定在一个有四轮的伴随游戏中，老师首先给学生命题 $\neg (p \rightarrow (q \wedge r))$ ，然后命题 $p \vee \neg q$ ，然后命题 $\neg r$ ，最后是命题 $(p \wedge r) \vee (q \rightarrow p)$ 。学生四次回答的 16 种可能的序列中的哪个能通过测试？

12. 试阐述为什么每一个伴随游戏均有一个获胜策略。  
练习13和14是基于1.2节例7中描述的骑士和无赖岛的场景的。  
13. 假定你遇见三个人，Aaron、Bohan 和 Crystal。如果 Aaron 说“我们都是无赖”，而 Bohan 说“我们三人中恰有一人是无赖”，那么你能确定 Aaron、Bohan 和 Crystal 分别是哪种人吗？  
14. 假定你遇见三个人，Anita、Boris 和 Carmen。如果 Anita 说“我是无赖，Boris 是骑士”，而 Boris 说“我们三人中恰有一人是骑士”，Anita、Boris 和 Carmen 分别是哪种人？  
15.（改编自[Sm78]）假定在一个岛上住着三类人：骑士、无赖和普通人（也称为是间谍）。骑士总是说真话，无赖总是说谎话，普通人有时说谎话有时说真话。侦探为了调查一宗罪案而询问了岛上的三个人，Amy、Brenda和Claire。侦探知道三人中有一人犯罪了，但不知是哪个人。他们还知道罪犯是一个骑士，另两个人不是骑士。此外，侦探还记录了如下供述。Amy说：“我是清白的。”Brenda说：“Amy说的是真的。”Claire说：“Brenda不是普通人。”经过分析这些信息，侦探非常肯定地确认了罪犯。他是谁？  
16. 证明：如果 $S$ 是一个命题，这里 $S$ 是条件命题“如果 $S$ 是真的，则独角兽是存在的”，那么“独角兽是存在的”是真的。证明 $S$ 不能是一个命题（这个悖论称为是Löb悖论）。  
17. 证明：假设“牙齿仙女是真人”，“牙齿仙女就不是真人”，结论“你能在彩虹尽头找到金子”是一个有效论证。这样能证明结论是真的吗？  
18. 假定命题 $p_i$ 的真值为 $T$ 当 $i$ 是一个正奇数时，而为 $F$ 当 $i$ 是一个正偶数时。试找出 $\bigvee_{i=1}^{100} (p_i \wedge p_{i+1})$ 和 $\bigwedge_{i=1}^{100} (p_i \vee p_{i+1})$ 的真值。  
19. 试用可满足性问题对 $16 \times 16$ 的数独谜题（用 $4 \times 4$ 的单元）进行建模。  
20. 令 $P(x)$ 为语句“学生 $x$ 会微积分”， $Q(y)$ 为“ $y$ 班上有个学生会微积分”。用 $P(x)$ 和 $Q(y)$ 的量化式表示下列各项。

a)某个学生会微积分。  
b)不是每个学生都会微积分。  
c)每个班上都有一个学生会微积分。  
d)每个班上的每个学生都会微积分。  
e)至少有一个班上没有学生会微积分。

21. 令 $P(m, n)$ 为语句“ $m$ 整除 $n$ ”，其中变量 $m$ 和 $n$ 的论域均为正整数集合。（所谓“ $m$ 整除 $n$ ”，是指存在某个整数 $k$ 使得 $n = km$ 。）确定下列每条语句的真值。

a) $P(4,5)$

b) $P(2,4)$

c) $\forall m\forall nP(m,n)$

d) $\exists m\forall nP(m,n)$

e) $\exists n\forall mP(m,n)$

f) $\forall nP(1,n)$

22. 试为 $\exists x\exists y(x\neq y\land \forall z((z = x)\lor (z = y)))$ 中的量词找一个论域使得该语句为真。

23. 试为 $\exists x \exists y (x \neq y \land \forall z ((z = x) \land (z = y)))$ 中的量词找一个论域使得该语句为假。

24. 用存在和全称量词表达语句“没人有多于三个的祖母”，使用命题函数 $G(x, y)$ ，它表示“ $x$ 是 $y$ 的祖母。”

25. 用存在和全称量词表达语句“每个人恰有两个亲生父母”，使用命题函数 $P(x, y)$ ，它表示“ $x$ 是 $y$ 的亲生父母。”

26. 量词 $\exists_{n}$ 表示“恰好存在 $n$ 个”，因此 $\exists_{n}xP(x)$ 意思是在论域中恰好存在 $n$ 个值使得 $P(x)$ 为真。确定下列语句的真值，其中论域由所有实数组成。

a) $\exists_0x(x^2 = -1)$

b) $\exists_{1}x(|x| = 0)$

c) $\exists_{2}x(x^{2} = 2)$

d) $\exists_{3}x(x = |x|)$

27. 用存在量词、全称量词和命题逻辑来表示以下每一个命题，其中 $\exists_{n}$ 如练习26所定义。

a) $\exists_0xP(x)$

b) $\exists_{1}xP(x)$

c) $\exists_{2}xP(x)$

d) $\exists_{3}xP(x)$

28. 令 $P(x, y)$ 为命题函数。证明 $\exists x \forall y P(x, y) \rightarrow \forall y \exists x P(x, y)$ 为永真式。

29. 令 $P(x)$ 和 $Q(x)$ 为命题函数。求证 $\exists x(P(x) \rightarrow Q(x))$ 和 $\forall x P(x) \rightarrow \exists x Q(x)$ 总是具有同样的真值。

30. 如果 $\forall y \exists x P(x, y)$ 为真，是否必然有 $\exists x \forall y P(x, y)$ 为真？

31. 如果 $\forall x \exists y P(x, y)$ 为真，是否必然有 $\exists x \forall y P(x, y)$ 为真？

32. 找出下列语句的否定。

a)如果今天下雪，那么我明天去滑雪。  
b)班上每个人都懂数学归纳法。  
c)班上有些学生不喜欢离散数学。  
d)每堂数学课都会有某个学生上课就睡着了。

33. 用量词表示“班上每个学生都选修过数学学院里每个系的一些课程”。  
34. 用量词表示“在美国某学院的校园里有座楼的每间屋子都漆成了白色”。  
35. 用唯一量词表示语句：“本班里恰好一个学生选修了学校里恰好一门数学课”，然后再用量词而不用唯一量词表示这个语句。  
36. 描述一个推理规则，可用它来证明论域中恰有两个元素 $x$ 和 $y$ 使得 $P(x)$ 和 $P(y)$ 为真。用汉语句子表达这个推理规则。  
37. 使用推理规则证明如果前提 $\forall x(P(x) \rightarrow Q(x))$ 、 $\forall x(Q(x) \rightarrow R(x))$ 和 $\neg R(a)$ 为真，其中 $a$ 在论域中，那么结论 $\neg P(a)$ 为真。  
38. 证明如果 $x^3$ 是无理数，则 $x$ 是无理数。  
39. 证明或反驳如果 $x^{2}$ 是无理数，则 $x^{3}$ 是无理数。  
40. 证明给定一个非负整数 $n$ ，存在唯一的非负整数 $m$ 使得 $m^2 \leqslant n < (m + 1)^2$ 。  
41. 证明存在一个整数 $m$ 使得 $m^2 > 10^{1000}$ 。你的证明是构造性的还是非构造性的？  
42. 证明存在这样一个正整数：它可以用两种不同的方式写成正整数的平方和。（使用计算机或计算器来加速完成计算。）  
43. 反驳如下命题：每个正整数均可表示为8个非负整数的立方和。  
44. 反驳如下命题：每个正整数均可表示为至多两个非负整数的平方与一个非负整数的立方的和。  
45. 反驳如下命题：每个正整数均可表示为36个非负整数的5次幂的和。  
46. 假设以下定理的真实性：当 $n$ 是非完全平方数的正整数时， $\sqrt{n}$ 是个无理数。由此证明 $\sqrt{2} + \sqrt{3}$ 是无理数。

# 计算机课题

按给定的输入和输出写程序。

1. 已知命题 $p$ 和 $q$ 的真值，求这些命题的合取、析取、异或、条件语句和双条件命题的真值。  
2. 已知两个长度为 $n$ 的比特串，求它们的按位 AND、按位 OR 及按位 XOR。

*3. 给定一个复合命题，通过对其命题变量所有可能的真值赋值检查其真值来判定它是否是可满足的。  
4. 给定模糊逻辑中命题 $p$ 和 $q$ 的真值，求 $p$ 和 $q$ 的析取和合取的真值（参看1.1节练习50和练习51）。

*5. 给定正整数 $m$ 、 $n$ ,以交互方式做蚕食游戏。

* 6. 给定棋盘的一部分，寻找用各种不同类型的多联骨牌拼接该棋盘，包括骨牌、两种三联骨牌和更大的多联骨牌。

# 计算和探索

使用一个计算程序或你自己编写的计算程序做下面的练习。

1. 找出这样的正整数：它不是9个不同的正整数的立方和。  
2. 找出大于79的正整数：它不是18个正整数的四次幂的和。  
3. 找出尽可能多这样的正整数：它可以用两种不同的方式写成正整数的立方和，1729 就具有这个性质。  
4. 试图为不同初始格局的曲奇饼蚕食游戏找出获胜策略。  
5. 构造出12种不同的五联骨牌，这里五联骨牌是由5个方格组成的多联骨牌。  
6. 寻找所有可以用 12 种不同的五联骨牌的每一个来拼接的由 60 个方格组成的矩形。

# 写作课题

用本教材以外的资料，按下列要求写成论文。

1. 试讨论逻辑悖论，包括克里特人Epimenides的悖论、Jourdain的纸牌悖论以及理发师悖论，说明如何解决它们。  
2. 试描述模糊逻辑怎样用于实际应用。可以参考一两本最近出版的为普通读者写的模糊逻辑书籍。  
3. 描述一些可以用可满足性问题来建模的实际问题。  
4. 试解释如何为循环制锦标赛构建可满足性的模型。  
5. 试描述一些已知的非借助于计算机求解数独谜题的技巧。  
6. 试描述由莱曼·艾伦(Layman Allen)提出的“WFF’N PROOF, The Game of Modern Logic”的基本规则。给出WFF’N PROOF中包含的一些博弈示例。  
7. 阅读刘易斯·卡罗尔(Lewis Carroll)关于符号逻辑的一些著作。详细描述他用于表示逻辑论证的模型和用于论证的推理规则。  
8. 扩展 1.4 节对 Prolog 的讨论，进一步解释 Prolog 如何使用消解规则。  
9. 试讨论在计算逻辑中使用的一些技术，包括 Skolem 规则。  
10.“自动定理证明”的任务是使用计算机来机械地证明定理。试讨论自动定理证明的目标和应用，以及在开发自动定理证明器上取得的进展。  
11. 试讨论如何使用DNA计算来求解可满性问题的一些示例。  
12. 查找一些著名的开放问题的错误证明以及 1970 年以来被解决的开放问题，描述每个证明中的错误类型。  
13. 讨论有关蚕食游戏中已知的一些获胜策略。  
14. 试描述在乔治·波利亚(George Polya)有关推理的著作（包括[Po62]、[Po71]和[Po90]）中所讨论的证明策略的各个方面。  
15. 试描述用多联骨牌进行拼接的一些问题和结果，如在[Go94]和[Ma91]中所描述的一样。

# 第2章

Discrete Mathematics and Its Applications, 8E

# 基本结构：集合、函数、序列、求和与矩阵

离散数学的许多内容主要研究用以表示离散对象的离散结构。许多重要的离散结构是用集合来构建的，这里集合就是对象的汇集。由集合构建的离散结构包括：组合——无序对象汇集，广泛用于计数；关系——序偶的集合用于表示对象之间的关系；图——结点和连接结点的边的集合；有限状态机——为计算机器建模。这是我们将在后续章节要研究的一些主题。

函数的概念在离散数学中是非常重要的。函数给第一个集合中的每一个元素指派第二个集合中的恰好一个元素，这里两个集合不一定要不同。函数在整个离散数学中起着重要的作用。可以用以表示算法的计算复杂度，研究的集合的大小，计算对象的数量，以及无数的其他应用方式。像序列和字符串这样非常有用的结构就是特殊类型的函数。这一章我们将介绍序列的概念，即表示元素的有序排列。另外还将介绍一些重要类型的序列并讨论如何用序列前面的项来定义后续的项。我们还会论述从几个初始项来确定一个序列的问题。

在离散数学研究中，我们还常常将一个数列的连续项加起来。因为将数列中的项以及其他数的索引集的项加起来，已经是一个相当普遍的现象，以至于开发了一个特殊的符号来表示把这些项加起来。在这一章中，我们引入用于表示求和的符号。我们还会给出贯穿于离散数学研究的某些类型的求和公式。例如，对数列进行排序使其项按递增顺序排列的算法，在分析算法所需的步骤时就会遇到这样的求和问题。

通过引入一个集合的大小或基数的概念就可以研究无限集合的相对大小问题。当一个集合是有限的或者与正整数的集合具有一样的大小，我们说这个集合是可数的。在这一章中，我们会确立一些令人惊奇的结论：有理数的集合是可数的，而实数集则不是。本章还将展示我们所讨论的概念如何用于证明存在一些函数是不能用任何编程语言写的计算机程序来计算的。

矩阵在离散数学中可用于表示很多种离散结构。我们会复习用来表示关系和图时所需的矩阵和矩阵运算的一些基本内容。矩阵运算可用于求解许多涉及这些结构的问题。

# 2.1 集合

# 2.1.1 引言

这一节我们将研究最基本的离散结构——集合，所有其他离散结构都建立于集合之上。集合可用于把对象聚集在一起。通常，一个集合中的对象都有相似的性质，但也不绝对。例如，目前就读于你们学校的所有学生构成一个集合。同样，目前选修任何学校的一门离散数学课的学生可以组成一个集合。此外，在你们学校就读且正选修一门离散数学课的所有学生组成一个集合，这个集合可以从上述两个集合中取共同的元素得到。集合语言是以有组织的方式来研究这些集合的工具。下面给出集合的一种定义。这是一种直观的定义，不属于集合形式化理论的一部分。

定义1 集合是不同对象的一个无序的聚集，对象也称为集合的元素（element）或成员（member）。集合包含（contain）它的元素。我们用 $a \in A$ 来表示 $a$ 是集合 $A$ 中的一个元素。记号 $a \notin A$ 表示 $a$ 不是集合 $A$ 中的一个元素。

通常我们用大写字母来表示集合。用小写字母表示集合中的元素。

描述集合有多种方式。一种方式是在可能的情况下一一列出集合中的元素。我们采用在花

括号之间列出所有元素的方法。例如， $\{a,b,c,d\}$ 表示含4个元素 $a$ 、 $b$ 、 $c$ 和 $d$ 的集合。这种描述集合的方式也称为是花名册方法(roster method)。

例1英语字母表中所有元音字母的集合 $V$ 可以表示为 $V = \{a,e,i,o,u\}$

例2 小于10的正奇数集合 $O$ 可以表示为 $O = \{1, 3, 5, 7, 9\}$ 。

例3 尽管集合常用来聚集具有共同性质的元素，但也不妨碍集合拥有表面上看起来毫不相干的元素。例如 $\{a, 2, \text{Fred}, \text{New Jersey}\}$ 是包含4个元素 $a$ 、2、Fred和New Jersey的集合。

有时候用花名册方法表示集合时并不列出它的所有元素。先列出集合中的某些元素，当元素的一般规律显而易见时就用省略号（…）代替。

例4小于100的正整数集合可以记为 $\{1,2,3,\dots ,99\}$

描述集合的另一种方式是使用集合构造器(set builder)符号。我们通过描述作为集合的成员必须具有的性质来刻画集合中的那些元素。一般的形式是采用记号 $\{x \mid x$ 具有性质 $P\}$ ，并读作满足 $P$ 的所有 $x$ 的集合。例如，小于10的所有奇数的集合 $O$ 可以写成

$O = \{x\mid x$ 是小于10的正奇数}

或者，指定全集为正整数集合，如

$O = \{x\in \mathbf{Z}^{+}\mid x$ 为奇数， $x <   10\}$

当不可能列出集合中所有元素时我们常用这类记法来描述集合。例如，所有正有理数集合 $\mathbf{Q}^{+}$ ，可以写成

$\mathbf{Q}^{+} = \{x\in \mathbf{R}\mid x = p / q,p$ 和 $q$ 为正整数}

这些集合通常用黑体表示，它们在离散数学中发挥着重要的作用：

$\mathbf{N} = \{0,1,2,3,\dots \}$ ，所有自然数的集合

$\mathbf{Z} = \{\dots, -2, -1, 0, 1, 2, \dots\}$ ，所有整数的集合

$\mathbf{Z}^{+} = \{1,2,3,\dots \}$ ，所有正整数的集合

$\mathbf{Q} = \{p / q \mid p \in \mathbf{Z}, q \in \mathbf{Z}$ , 且 $q \neq 0\}$ , 所有有理数的集合

R，所有实数的集合

$\mathbf{R}^{+}$ ，所有正实数的集合

C，所有复数的集合

（注意有些人认为0不是自然数，所以当你阅读其他书籍的时候要仔细检查术语自然数是怎样用的。）

回顾一下表示实数区间的记号。当 $a$ 和 $b$ 是实数且 $a < b$ 时，我们可以写

$$
\begin{array}{l} [ a, b ] = \{x \mid a \leqslant x \leqslant b \} \\ [ a, b) = \{x \mid a \leqslant x <   b \} \\ (a, b ] = \{x \mid a <   x \leqslant b \} \\ (a, b) = \{x \mid a <   x <   b \} \\ \end{array}
$$

注意 $[a, b]$ 称为是从 $a$ 到 $b$ 的闭区间，而 $(a, b)$ 称为是从 $a$ 到 $b$ 的开区间。 $[a, b]$ 、 $[a, b)$ 、 $(a, b]$ 和 $(a, b)$ 的每个区间都包含 $a$ 和 $b$ 之间的所有实数。其中，前两个包含 $a$ ，第一个和第三个包含 $b$ 。

评注 有些书采用记号 $[a, b[, a, b]$ 和 $]a, b[$ 分别表示 $[a, b)$ 、 $(a, b]$ 和 $(a, b)$ 。

集合可以把其他的集合当作自己的成员，如例5所示。

例5 集合 $\{\mathbf{N},\mathbf{Z},\mathbf{Q},\mathbf{R}\}$ 包含了四个元素，每一个元素都是一个集合。这个集合的四个元素是：N，自然数集；Z，整数集；Q，有理数集；以及R，实数集。

评注计算机科学中的数据类型或类型的概念是建立在集合这一概念上的。特别地，数据类型或类型是一个集合连同作用于该集合对象上的一组操作的整体的名称。例如，布尔

![](25e18e29bd727edf6e7ad027c8924ba23de22d81c2ff13a1f0151cffe1c3402e.jpg)

boolean)是集合 $\{0,1\}$ 的一个名称，连同对其上一个或多个元素实施运算，如AND、OR和NOT。

由于许多数学语句断言以两种不同方式描述的对象聚集实际上是同一个集合，所以我们需要理解两个集合相等的含义。

定义2 两个集合相等当且仅当它们拥有同样的元素。所以，如果 $A$ 和 $B$ 是集合，则 $A$ 和 $B$ 是相等的当且仅当 $\forall x (x \in A \leftrightarrow x \in B)$ 。如果 $A$ 和 $B$ 是相等的集合，就记为 $A = B$ 。

例6 集合 $\{1,3,5\}$ 和 $\{3,5,1\}$ 是相等的，因为它们拥有同样的元素。注意集合中元素的排列顺序无关紧要。还要注意同一个元素被列出来不止一次也没关系，所以 $\{1,3,3,3,5,5,5,5\}$ 和 $\{1,3,5\}$ 是同一个集合，因为它们拥有同样的元素。

空集 有一个特殊的不含任何元素的集合。这个集合称为空集（empty set 或 null set），用 $\varnothing$ 表示。空集也可以用 $\{\}$ 表示（这里我们用一对花括号来表示空集）。经常具有一定性质的元素组成的集合其实就是空集。例如，大于自身的平方的所有正整数的集合是空集。

只有一个元素的集合叫作单元素集（singleton set）。一个常见的错误是混淆空集 $\varnothing$ 与单元素集合 $\{\emptyset\}$ 。集合 $\{\emptyset\}$ 的唯一元素是空集本身！考虑计算机文件系统中的文件夹做一个类比有助于记住这个区别。空集可以比做一个空的文件夹，而仅包含一个空集的集合可以比做一个文件夹里只有一个文件夹，即空文件夹。

朴素集合论 注意集合定义(定义1)中用到的术语对象，而没有指定一个对象是什么。基于对象的直觉概念基础上，将集合描述为对象的聚集最先是由德国数学家乔治·康托尔于1895年提出的。由集合的直觉定义以及无论什么性质都存在一个恰好由具有该性质的对象组成的集合这种直觉概念的使用所产生的理论导致悖论(paradox)或逻辑不一致性。这已由英国哲学家伯特兰·罗素(Bertrand Russell)在1902年所证实(有关悖论的描述参见练习50)。这些逻辑不一致性可以通过由公理出发构造集合论来避免。然而，我们在本书中将使用康托尔集合论的原始版本，即所谓的朴素集合论(naive set theory)，因为本书中所考虑的所有集合都可以用康托尔原始理论来处理并保持一致性。如果有学生愿意继续学习公理集合论，他们会发现了解朴素集合论也会很有帮助。他们还会发现公理集合论的发展远比本书中的内容要抽象。建议有兴趣的读者参考[Su72]以了解更多关于公理集合论的内容。

# 2.1.2 文氏图

集合可以用文氏图形象地表示。文氏图是以英国数学家约翰·文（John Venn）的名字命名的，他在1881年介绍了这种图的使用。在文氏图中全集（universal set) $U$ ，包含所考虑的全部

# Links

![](d5067c3af7b9495f0fc3f7e962ae4fddeb7bc7b94b14cc560f307ed989d63b93.jpg)  
Source: Library of Congress  
Prints and Photographs  
Division [LC-USZ62-74393]

乔治·康托尔(Georg Cantor，1845—1918)出生于俄罗斯的圣彼德堡，他父亲是一名成功的商人。康托尔青少年时对数学产生了浓厚的兴趣。1862年他在苏黎世开始了他的大学学习，不过在他父亲去世时就离开了那里。1863年他在柏林大学继续大学学习，并得到著名数学家Weierstrass、Kummer和Kronecker的指导。1867年在完成了一篇数论的博士论文后他获得博士学位。1869年康托尔得到哈雷大学的一个职位，并在那里一直工作到去世。

康托尔被认为是集合论的奠基人。他在这一领域的贡献包括发现了实数集合是不可数的。他在数学分析方面的贡献也引人注目。康托尔对哲学也有兴趣，并写了若干论文将他在集合的理论与形而上学联系在一起。

1874年康托尔结婚并育有6个子女。他忧郁的气质与妻子的乐观性情正好相互平衡。尽管他从父亲那里得到了大笔遗产，但作为教授他的收入却少得可怜。为此他曾试图获得柏林大学一个待遇更好的职位。他的任命被Kronecker阻挠了，因为Kronecker不认可康托尔集合论的观点。康托尔晚年受到精神疾病的折磨，1918年死于心脏病。

对象，用矩形框来表示。（注意全集随着我们所关注的对象会有所不同。）在矩形框内部，圆形或其他几何图形用于表示集合。有时候用点来表示集合中特定的元素。文氏图常用于表示集合之间的关系。下面例7展示了怎样使用文氏图。

例7 画一个文氏图表示英语字母表中元音字母集合 $V$ 。

解 画一个矩形表示全集 $U$ ，这是26个英文字母的集合。在矩形中画一个圆表示集合 $V$ 。在圆中用点表示集合 $V$ 的元素（见图1）。

# 2.1.3 子集

通常会遇到这样的情况，一个集合的元素也是另一个集合的元素。现在引入术语和记号来表达这种集合之间的关系。

![](7b14b6df3f3dc144a99115146b823782dfbe8be78f8dbc1f29b63eefccfb435f.jpg)  
图1元音字母集合的文氏图

定义3 集合 $A$ 是集合 $B$ 的子集并且 $B$ 是 $A$ 的超集当且仅当 $A$ 的每个元素也是 $B$ 的元素。我们用记号 $A \subseteq B$ 表示集合 $A$ 是集合 $B$ 的子集。另外，如果我们要强调 $B$ 是 $A$ 的超集，可以用等价的记号 $B \supseteq A$ （故 $A \subseteq B$ 和 $B \supseteq A$ 是等价的语句）。

我们看到， $A\subseteq B$ 当且仅当量化式

$$
\forall x (x \in A \rightarrow x \in B)
$$

为真。注意要证明 $A$ 不是 $B$ 的子集，我们只需要找到一个元素 $x \in A$ 但 $x \notin B$ 。这样的 $x$ 就是 $x \in A$ 蕴含 $x \in B$ 的一个反例。

我们可以用下面的规则判断一个集合是否是另一个集合的子集：

证明 $A$ 是 $B$ 的子集：为了证明 $A \subseteq B$ ，需要证明如果 $x$ 属于 $A$ 则 $x$ 也属于 $B$ 。

证明 $A$ 不是 $B$ 的子集：为了证明 $A \nsubseteq B$ ，需要找一个 $x \in A$ 使得 $x \notin B$ 。

例8所有小于10的正奇数的集合是所有小于10的正整数的集合的子集，有理数集是实数集的一个子集，你们学校主修计算机科学的学生的集合是你们学校全体学生集合的子集，在中国的所有人的集合是在中国的所有人的集合的子集（即它是自身的子集）。注意属于每对集合中第一个集合的元素也属于该对集合中第二个集合就可以很快得出这些事实。

例9 其平方小于100的整数集合不是非负整数集合的子集，因为-1在前一个集合中[由于 $(-1)^{2} < 100]$ 但不在后一个集合中。在你校选修离散数学的人的集合不是你校计算机专业学生集合的子集，如果至少有一个学生不是计算机专业的但却选修了离散数学。

定理1表明每个非空集合 $S$ 都至少有两个子集，分别为空集和集合 $S$ 本身，即 $\varnothing \subseteq S$ 和 $S \subseteq S$ 。

# Links

![](d7e11c871ae48a6ffa7d1d3be8767506cf2d02f97ceca57d82338ee12f924964.jpg)  
Source: Library of Congress Prints and Photographs Division [LC-USZ62-49535]

伯特兰·罗素（Bertrand Russell，1872—1970）罗素生于一个以积极参与进步运动、强力崇尚自由而闻名的英国家庭。年幼时就成为孤儿的罗素由祖父母扶养，并在家里接受教育。1890年他进入剑桥大学的三一学院，在数学和伦理学方面表现出色。他在几何学基础方面的工作为他赢得了一个研究职位。1910年，三一学院任命他讲授逻辑和数学原理的课程。

罗素毕生为进步事业而奋斗。他有着强烈的和平主义见解，他对第一次世界大战的抗议导致他被三一学院解雇。由于写了一篇被认为具有煽动性的文章，1918年他被囚禁6个月。罗素还为英国妇女的选举权而斗争。由于参与主张核裁军的抗议活动，1961年在他89岁高龄时第二次入狱。

罗素最伟大的工作是他提出的可以作为所有数学学科基础的原理。他最著名的著作是与怀特海(Altred North Whitehead)合作撰写的《数学原理》(Principia Mathematica)，它试图用一组基本公理推导出数学的一切。他还撰写了许多书籍论述哲学、物理学和他的政治理念。1950年罗素赢得诺贝尔文学奖。

定理1 对于任意集合 $S$ ，有： $(\mathrm{i})\varnothing \subseteq S$ ， $(\mathrm{ii})S\subseteq S$

我们将证明（i），（ii）的证明留作练习。

证明 令 $S$ 为一个集合。为了证明 $\varnothing \subseteq S$ ，必须证明 $\forall x (x \in \varnothing \rightarrow x \in S)$ 为真。因为空集没有元素，所以 $x \in \varnothing$ 总是假。因此 $x \in \varnothing \rightarrow x \in S$ 总是真，因为其前提为假，并且前提为假的条件语句为真。即 $\forall x (x \in \varnothing \rightarrow x \in S)$ 为真。这完成了 (i) 的证明。注意这是空证明的一个示例。

当我们要强调集合 $A$ 是集合 $B$ 的子集但是 $A \neq B$ 时，就写成 $A \subset B$ 并说 $A$ 是 $B$ 的真子集。如果 $A \subset B$ 是真的，则必有 $A \subseteq B$ 且必有 $B$ 的某个元素 $x$ 不是 $A$ 的元素。即 $A$ 是 $B$ 的真子集当且仅当

$$
\forall x (x \in A \rightarrow x \in B) \wedge \exists x (x \in B \wedge x \notin A)
$$

为真。文氏图可以用来解释集合 $A$ 是集合 $B$ 的子集。我们把全集 $U$ 画成长方形。在这长方形

中画一圆表示 $B$ 。由于 $A$ 是 $B$ 的子集，我们在代表 $B$ 的圆内画圆表示 $A$ 。这个关系如图2所示。

回忆一下定义2，如果两个集合拥有相同的元素，则这两个集合相等。证明两个集合具有相同元素的一个有效方法是证明每个集合是另一个的子集。换言之，可以证明如果 $A$ 和 $B$ 为集合并且 $A \subseteq B$ 和 $B \subseteq A$ ，则有 $A = B$ 。也就是说， $A = B$ 当且仅当 $\forall x (x \in A \rightarrow x \in B)$ 和 $\forall x (x \in B \rightarrow x \in A)$ ；或者等价于当且仅当 $\forall x (x \in$

![](4081dea76039cadc58d30f82b1b7f09477d20450d5bfde0b9d934ad3ff11f0e1.jpg)  
图2表示 $A$ 是 $B$ 的子集的文氏图

$A \leftrightarrow x \in B)$ ，这就是 $A$ 和 $B$ 相等的含义。因为这个证明两个集合相等的方法很有效，这里就再强调一下。

证明两个集合相等：为了证明两个集合 $A$ 和 $B$ 相等，需要证明 $A \subseteq B$ 和 $B \subseteq A$ 。

集合可以以其他集合作为其成员。例如，下面列出的集合：

$$
A = \{\varnothing , \{a \}, \{b \}, \{a, b \} \}
$$

$$
B = \{x \mid x \text {是 集 合} \{a, b \} \text {的 子 集} \}
$$

注意这两个集合是相等的，即 $A = B$ 。同时注意 $\{a\} \in A$ ，但是 $a \notin A$ 。

# 2.1.4 集合的大小

集合广泛应用于计数问题，为此我们需要讨论集合的大小问题。

定义4 令 $S$ 为集合。如果 $S$ 中恰有 $n$ 个不同的元素，这里 $n$ 是非负整数，我们就说 $S$ 是有限集，而 $n$ 是 $S$ 的基数。 $S$ 的基数记为 $|S|$ 。

评注 术语基数（cardinality）来自于将术语基数（cardinal number）作为一个有限集的大小的常用语。

例10 令 $A$ 为小于10的正奇数集合。则 $|A| = 5$

# Links

![](59bcd8a818a3cd64d083fdb01b3aef08bc64b6a8d6db05203e44f478aabe51f9.jpg)  
$\odot$ Alpha Historica/Alamy Stock Photo

约翰·文（John Venn，1834—1923）出生于伦敦郊区的一个慈善家庭。他在伦敦上学，并于1857年获得剑桥Caius学院的数学学位。他当选该学院的研究员并任此职直至去世。1859年他接受牧师的圣职，但在短暂的宗教工作后回到了剑桥，并在那里创建了伦理学教育计划。除了数学方面的工作之外，文还对历史有兴趣，他撰写了大量关于他的学院和家庭的文章。

文所著的《符号逻辑》（Symbolic Logic）一书澄清了最初由布尔引入的若干概念。在这本书中文提出了一种系统的研究方法，其中使用了后人称为文氏图的几何图形。今天这些图形主要用于分析逻辑论证以及解释集合之间的关系。除了在符号逻辑方

面的工作以外，文对概率论也做出了贡献，写入了他编写的广为采用的概率论教科书中。

例11 令 $S$ 为英语字母表中字母的集合。那么 $|S| = 26$

例12 由于空集没有元素，所以 $\lceil \varnothing \rceil = 0$

我们对于元素个数不是有限的集合也有兴趣。

定义5 一个集合称为是无限的，如果它不是有限的。

例13 正整数集合是无限的。

我们将在2.5节将基数的概念扩展到无限集，这是一个富有挑战性且又充满惊奇的主题。

# 2.1.5 幂集

许多问题涉及要检查一个集合的元素的所有可能组合看它们是否满足某种性质。为了考虑集合 $S$ 中元素所有可能的组合，我们构造一个以 $S$ 的所有子集作为其元素的新集合。

定义6 给定集合 $S$ ， $S$ 的幂集（power set）是集合 $S$ 所有子集的集合。 $S$ 的幂集记为 $\mathcal{P}(S)$ 。

例14 集合 $\{0, 1, 2\}$ 的幂集是什么？

解 幂集 $\mathcal{P}(\{0, 1, 2\})$ 是 $\{0, 1, 2\}$ 所有子集的集合。因此，

$$
\mathcal {P} (\{0, 1, 2 \}) = \{\varnothing , \{0 \}, \{1 \}, \{2 \}, \{0, 1 \}, \{0, 2 \}, \{1, 2 \}, \{0, 1, 2 \} \}
$$

注意空集和集合自身都是这个子集的集合的成员。

例15 空集的幂集是什么？集合 $\{\varnothing\}$ 的幂集是什么？

解 空集只有一个子集，即它自身。因此，

$$
\mathcal {P} (\varnothing) = \{\varnothing \}
$$

集合 $\{\varnothing\}$ 有两个子集，即 $\varnothing$ 和集合 $\{\varnothing\}$ 自身。于是，

$$
\mathcal {P} (\{\emptyset \}) = \{\emptyset , \{\emptyset \} \}
$$

如果一个集合有 $n$ 个元素，那么它的幂集就有 $2^{n}$ 个元素。我们将在本书后续章节中以不同的方式来证明这一事实。

# 2.1.6 笛卡儿积

有时候元素聚集中其次序是很重要的。由于集合是无序的，所以就需要用一种不同的结构来表示有序的聚集。这就是有序 $n$ 元组。

定义7 有序 $n$ 元组（ordered n-tuple） $(a_{1}, a_{2}, \cdots, a_{n})$ 是以 $a_{1}$ 为第 1 个元素， $a_{2}$ 为第 2 个元素，…， $a_{n}$ 为第 $n$ 个元素的有序聚集。

两个有序 $n$ 元组是相等的当且仅当每一对对应的元素都相等。换言之， $(a_{1}, a_{2}, \cdots, a_{n}) = (b_{1}, b_{2}, \cdots, b_{n})$ 当且仅当对于 $i = 1, 2, \cdots, n$ ，有 $a_{i} = b_{i}$ 。特别地，有序二元组称为序偶（ordered pair）。序偶 $(a, b)$ 和 $(c, d)$ 相等当且仅当 $a = c$ 和 $b = d$ 。注意 $(a, b)$ 和 $(b, a)$ 不相等，除非 $a = b$ 。

在随后几章中我们将要学习的许多离散结构都是基于（以笛卡儿的名字命名的）集合的笛卡儿积的概念。我们先定义两个集合的笛卡儿积。

定义8 令 $A$ 和 $B$ 为集合。 $A$ 和 $B$ 的笛卡儿积（Cartesian product）用 $A \times B$ 表示，是所有序偶 $(a, b)$ 的集合，其中 $a \in A$ 且 $b \in B$ 。于是，

$$
A \times B = \{(a, b) \mid a \in A \wedge b \in B \}
$$

例16 令 $A$ 为一所大学所有学生的集合， $B$ 表示该大学开设的所有课程的集合。 $A$ 和 $B$ 的笛卡儿积 $A \times B$ 是什么，如何应用？

解笛卡儿积 $A\times B$ 由所有形如 $(a,b)$ 的序偶组成，其中 $a$ 是该校的学生而 $b$ 是该校开设

的一门课程。集合 $A \times B$ 的一种用法是可以用来表示该校学生选课的所有可能情况。另外，观察到 $A \times B$ 的每个子集表示一种可能的选课情况， $\mathcal{P}(A \times B)$ 表示所有可能的选课情况。

例17 $A = \{1,2\}$ 和 $B = \{a,b,c\}$ 的笛卡儿积是什么？

解笛卡儿积 $A\times B$ 是

$$
A \times B = \{(1, a), (1, b), (1, c), (2, a), (2, b), (2, c) \}
$$

注意笛卡儿积 $A \times B$ 和 $B \times A$ 是不相等的，除非 $A = \emptyset$ 或 $B = \emptyset$ （这样 $A \times B = \emptyset$ ）或 $A = B$ （参见练习33和40）。下面用例18来解释。

例18 证明笛卡儿积 $B \times A$ 不等于笛卡儿积 $A \times B$ ，其中 $A$ 和 $B$ 为如例17中的集合。

解笛卡儿积 $B\times A$ 是

$$
B \times A = \{(a, 1), (a, 2), (b, 1), (b, 2), (c, 1), (c, 2) \}
$$

这不等于例17中得到的 $A \times B$ 。

对于两个以上的集合也可以定义笛卡儿积。

定义9 集合 $A_{1}, A_{2}, \cdots, A_{n}$ 的笛卡儿积用 $A_{1} \times A_{2} \times \cdots \times A_{n}$ 表示，是有序 $n$ 元组 $(a_{1}, a_{2}, \cdots, a_{n})$ 的集合，其中 $a_{i}$ 属于 $A_{i}$ ， $i = 1, 2, \cdots, n$ 。换言之，

$$
A _ {1} \times A _ {2} \times \dots \times A _ {n} = \left\{\left(a _ {1}, a _ {2}, \dots , a _ {n}\right) \mid a _ {i} \in A _ {i}, i = 1, 2, \dots , n \right\}
$$

例19笛卡儿积 $A\times B\times C$ 是什么，其中 $A = \{0,1\}$ ， $B = \{1,2\}$ ， $C = \{0,1,2\}$ ？

解笛卡儿积 $A\times B\times C$ 由所有有序三元组 $(a,b,c)$ 组成，其中 $a\in A$ ， $b\in B$ ， $c\in C$ 。因此， $A\times B\times C = \{(0,1,0),(0,1,1),(0,1,2),(0,2,0),(0,2,1),(0,2,2),$ $(1,1,0),(1,1,1),(1,1,2),(1,2,0),(1,2,1),(1,2,2)\}$

评注 当 $A, B, C$ 是集合时， $(A \times B) \times C$ 与 $A \times B \times C$ 是不同的（参见练习41）。

我们用记号 $A^2$ 来表示 $A \times A$ ，即集合 $A$ 和自身的笛卡儿积。类似地， $A^3 = A \times A \times A$ ， $A^4 = A \times A \times A \times A$ ，等等。更一般地，

$$
A ^ {n} = \left\{\left(a _ {1}, a _ {2}, \dots , a _ {n}\right) \mid a _ {i} \in A, i = 1, 2, \dots , n \right\}
$$

例20 假设 $\mathrm{A} = \{1, 2\}$ 。则 $\mathrm{A}^2 = \{(1, 1), (1, 2), (2, 1), (2, 2)\}$ 并且 $\mathrm{A}^3 = \{(1, 1, 1)\}$

# Links

![](48214f6e699d910c87ce9bb5bb0735bcc903f605414854cb799604ec9e68979c.jpg)  
©Stock Montage/Archive Photos/Getty Images

勒内·笛卡儿（René Descartes，1596—1650）出生于法国距巴黎西南约200英里的图尔附近的一个贵族家庭。他是他父亲第一位妻子的第三个孩子，在他出生几天后母亲就去世了。由于笛卡儿健康欠佳，他父亲，一位省里的法官，推迟了儿子接受正规教育，直到8岁他才进入La Flèche的Jesuit学院。该校校长喜欢他，并因他身体虚弱而允许他晚起床。从那时起笛卡儿把早晨时间都花在床上，他认为这是最有利于他思考的时间。

1612年笛卡儿离开学校去了巴黎，并在那里学了两年数学。1616年他获得普瓦提埃大学(University of Poitiers)的法律学位。18岁时笛卡儿厌倦了学习，决定去看

看外面的世界。他移居巴黎，并成为一个成功的赌徒。可是他慢慢厌倦了这种无聊的生活，他搬到了圣日耳曼的郊区，专注于数学研究。当他的赌友找到他时，他决定离开法国，并参军。不过他从未参加过战斗。有一天，当他御寒而待在军营中一间过热的房间里时，他做了几个狂热的梦，揭示他将以数学家和哲学家为职业。

结束军旅生涯以后，他游遍欧洲。然后，在巴黎待了几年，研究数学和哲学，并制造光学仪器。笛卡儿决定去荷兰，花了20年时间在那里走访，同时完成了他最重要的工作。这期间他写了几本书，包括他最著名的《方法论》(Discours)，该书中有他对解析几何的贡献。笛卡儿还对哲学做出了基础性的贡献。

1649年笛卡儿受克里斯蒂娜女王邀请访问瑞典宫廷，并做她的哲学老师。尽管他不情愿生活在他所说的“岩石和冰雪中的熊的乐土”，但最终还是接受邀请搬到瑞典。不幸的是， $1649\sim 1650$ 年的冬季分外寒冷，笛卡儿染上了肺炎并于2月中旬去世。

(1，1，2)，（1，2，1)，（1，2，2)，（2，1，1)，（2，1，2)，（2，2，1)，（2，2，2）}。

笛卡儿积 $A \times B$ 的一个子集 $R$ 被称为从集合 $A$ 到集合 $B$ 的关系(relation)。 $R$ 的元素是序偶，其中第一个元素属于 $A$ 而第二个元素属于 $B$ 。例如， $R = \{(a, 0), (a, 1), (a, 3), (b, 1), (b, 2), (c, 0), (c, 3)\}$ 是从集合 $\{a, b, c\}$ 到集合 $\{0, 1, 2, 3\}$ 的关系，它也是一个从集合 $\{a, b, c, d, e\}$ 到集合 $\{0, 1, 3, 4\}$ 的关系。（这解释了一个关系不一定要包含 $A$ 的每个元素 $x$ 的序偶 $(x, y)$ 。）从集合 $A$ 到其自身的一个关系称为是 $A$ 上的一个关系。

例21 集合 $\{0, 1, 2, 3\}$ 上的小于等于关系（如果 $a \leqslant b$ 则包含 $(a, b)$ ）中的序偶是什么？

解 序偶 $(a, b)$ 属于 $R$ 当且仅当 $a$ 和 $b$ 属于 $\{0, 1, 2, 3\}$ 且 $a \leqslant b$ 。所以， $R$ 中的序偶是 $(0, 0), (0, 1), (0, 2), (0, 3), (1, 1), (1, 2), (1, 3), (2, 2), (2, 3), (3, 3)$ 。

我们将在第9章详细研究关系及其性质。

# 2.1.7 使用带量词的集合符号

有时我们通过使用特定的符号来显式地限定一个量化命题的论域。例如， $\forall x \in S(P(x))$ 表示 $P(x)$ 在集合 $S$ 所有元素上的全称量化。换句话说， $\forall x \in S(P(x))$ 是 $\forall x (x \in S \to P(x))$ 的简写。类似地， $\exists x \in S(P(x))$ 表示 $P(x)$ 在集合 $S$ 所有元素上的存在量化。即 $\exists x \in S(P(x))$ 是 $\exists X (x \in S \land P(x))$ 的简写。

例22 语句 $\forall x\in \mathbf{R}(x^2\geqslant 0)$ 和 $\exists x\in \mathbf{Z}(x^{2} = 1)$ 的含义是什么？

解 语句 $\forall x \in \mathbb{R}(x^2 \geqslant 0)$ 声称对任意实数 $x$ ， $x^2 \geqslant 0$ 。这个语句可以表达为“任意实数的平方是非负的”。这是一个真语句。

语句 $\exists x\in \mathbf{Z}(x^2 = 1)$ 声称存在一个整数 $x$ 使得 $x^{2} = 1$ 。这个语句可以表达为“有某个整数，其平方是1”。这个语句也是一个真语句，因为 $x = 1$ 就是这样一个整数（-1也是）。

# 2.1.8 真值集和量词

现在我们把集合理论和谓词逻辑的一些概念结合起来。给定谓词 $P$ 和论域 $D$ ，定义 $P$ 的真值集（truth set）为 $D$ 中使 $P(x)$ 为真的元素 $x$ 组成的集合。 $P(x)$ 的真值集记为 $\{x \in D \mid P(x)\}$ 。

例23 谓词 $P(x), Q(x), R(x)$ 的真值集都是什么？这里论域是整数集合， $P(x)$ 是“ $|x| = 1$ ”， $Q(x)$ 是“ $x^2 = 2$ ”， $R(x)$ 是“ $|x| = x$ ”。

解 $P$ 的真值集 $\{x\in \mathbf{Z}\mid |x| = 1\}$ 是满足 $|x| = 1$ 的整数集合。因为当 $x = 1$ 或 $x = -1$ 时有 $|x| = 1$ ，而没有其他整数 $x$ 能满足，因此 $P$ 的真值集是 $\{-1,1\}$ 。

$Q$ 的真值集 $\{x\in \mathbf{Z}\mid x^2 = 2\}$ 是满足 $x^{2} = 2$ 的整数集合。因为没有整数 $x$ 满足 $x^{2} = 2$ ，所以这是个空集。

$R$ 的真值集 $\{x\in \mathbf{Z}||x| = x\}$ 是满足 $|x| = x$ 的整数集合。因为 $|x| = x$ 当且仅当 $x\geq 0$ ，所以 $R$ 的真值集是N，非负整数集合。

注意 $\forall xP(x)$ 在论域 $U$ 上为真当且仅当 $P$ 的真值集是集合 $U$ 。同样， $\exists xP(x)$ 在论域 $U$ 上为真当且仅当 $P$ 的真值集非空。

# 练习

1. 列出下述集合的成员。

a) $\{x\mid x$ 是使得 $x^{2} = 1$ 的实数 $\}$

b) $\{x\mid x$ 是小于12的正整数}

c) $\{x\mid x$ 是一个整数的平方且 $x <   100\}$

d) $\{x\mid x$ 是整数且 $x^{2} = 2\}$

2. 用集合构造器给出下列每个集合的描述。

a) $\{0, 3, 6, 9, 12\}$

b） $\{-3, -2, -1, 0, 1, 2, 3\}$

c） $\{m,n,o,p\}$

3. 区间（0，5）、（0，5]、[0，5）、[0，5]、（1，4]、[2，3]和(2，3)中，哪个包含

a)0?

b)1?

c)2?

d)3?

e)4?

f)5?

4. 对于下面每个区间，列出所有元素或解释为什么是空的。

a）[a，a]

b）[a，a)

c） $(a,a]$

d）（a，a）

e) $(a, b)$ ，其中 $a > b$

f)[a，b]，其中 $a > b$

5. 对下面每一对集合，判断第一个是否是第二个的子集，第二个是否是第一个的子集，或者哪个也不是另一个的子集。

a)从纽约至新德里的航空公司航班的集合，从纽约至新德里的不经停航空公司航班的集合。  
b)说英语的人的集合，说中文的人的集合。  
c) 飞鼠的集合，会飞行的生物的集合。

6. 对下面每一对集合，判断第一个是否是第二个的子集，第二个是否是第一个的子集，或者哪个也不是另一个的子集。

a)说英语的人的集合，说带有澳大利亚口音的英语的人的集合。  
b)水果的集合，柑橘类水果的集合。  
c)学习离散数学的学生的集合，学习数据结构的学生的集合。

7. 判断下面每对集合是否相等。

a）{1，3，3，3，5，5，5，5，5}，{5，3，1}

b）{1}，{1，{1}}

c) $\varnothing$ ， $\{\varnothing\}$

8. 设 $A = \{2, 4, 6\}$ , $B = \{2, 6\}$ , $C = \{4, 6\}$ , $D = \{4, 6, 8\}$ 。判断这些集合中哪个是另外一个的子集。

9. 对下面的每个集合，判断 2 是否为该集合的元素。

a) $\{x\in \mathbf{R}\mid x$ 是大于1的整数}

b) $\{x\in \mathbf{R}\mid x$ 是一个整数的平方}

c）{2，{2}}

d）{2}，{2}}

e）{2}，{2，{2}}

f){{2}}}

10. 对练习9中的每个集合，判断{2}是否为该集合的一个元素。

11. 判断下列语句是真还是假。

a) $0\in \varnothing$

b) $\varnothing \in \{0\}$

c) $\{0\} \subset \varnothing$

d) $\emptyset \subset \{0\}$

e) $\{0\} \in \{0\}$

f) $\{0\} \subset \{0\}$

g) $\{\varnothing\} \subseteq \{\varnothing\}$

12. 判断下列语句是真还是假。

a) $\varnothing \in \{\varnothing \}$

b) $\emptyset \in \{\varnothing ,\{\varnothing \} \}$

c) $\{\varnothing\} \in \{\varnothing\}$

d) $\{\varnothing\} \in \{\{\varnothing\}\}$

e) $\{\varnothing\} \subset \{\varnothing, \{\varnothing\}\}$

f){0}C{0，{0}}

g）{0}C{0，{0}}

13. 判断下列语句是真还是假。

a) $x\in \{x\}$

b) $\{x\} \subseteq \{x\}$

c) $\{x\} \in \{x\}$

d) $\{x\} \in \{\{x\}\}$

e) $\emptyset \subseteq \{x\}$

f) $\varnothing \in \{x\}$

14. 用文氏图说明所有不超过 10 的正整数集合中的奇数子集。

15. 用文氏图说明在一年所有的月份集合中月份名称中不包含字母 $R$ 的所有月份的集合。

16. 用文氏图说明集合关系 $A \subseteq B$ 和 $B \subseteq C$ 。

17. 用文氏图说明集合关系 $A \subset B$ 和 $B \subset C$ 。

18. 用文氏图说明集合关系 $A \subset B$ 和 $A \subset C$ 。

19. 假定 $A$ 、 $B$ 和 $C$ 为集合，且 $A \subseteq B$ ， $B \subseteq C$ 。证明 $A \subseteq C$ 。

20. 找出两个集合 $A$ 和 $B$ ，使得 $A \in B$ 且 $A \subseteq B$ 。

21. 下列各集合的基数是什么？

a) $\{a\}$

b）{a}

c） $\{a,\{a\}\}$

d）{a，{a}，{a，{a}}}

22. 下列各集合的基数是什么？

a) $\varnothing$

b) $\{\varnothing\}$

c) $\{\varnothing ,\{\varnothing \} \}$

d）{，{0}，{，{0}}}]

23. 找出下列各集合的幂集。

a) $\{a\}$

b) $\{a,b\}$

c）{，{0}}

24. 如果 $A$ 和 $B$ 是两个集合，且有相同的幂集，能否得出结论 $A = B$ ?

25. 假设 $a$ 和 $b$ 是不同的元素，下列集合各有多少个元素？

a) $\mathcal{P}(\{a,b,\{a,b\}\})$

b) $\mathcal{P}(\{\varnothing ,a,\{a\} ,\{\{a\} \})$ ）

c) $\mathcal{P}(\mathcal{P}(\emptyset))$

26. 假设 $a$ 和 $b$ 是不同的元素，判断下列各集合是否为某集合的幂集。

a) $\varnothing$

b) $\{\varnothing ,\{a\} \}$

c） $\{\varnothing ,\{a\} ,\{\varnothing ,a\} \}$

d) $\{\emptyset, \{a\}, \{b\}, \{a, b\}\}$

27. 证明 $\mathcal{P}(A) \subseteq \mathcal{P}(B)$ 当且仅当 $A \subseteq B$ 。

28. 证明如果 $A \subseteq C$ 并且 $B \subseteq D$ ，则 $A \times B \subseteq C \times D$ 。

29. 令 $A = \{a, b, c, d\}$ , $B = \{y, z\}$ 。求

a) $A\times B$

b) $B \times A$

30. 令 $A$ 为一所大学的数学系所开设课程的集合， $B$ 为该大学所有数学教授的集合，笛卡儿积 $A \times B$ 是什么？给出一个例子说明这个笛卡儿积如何使用。

31. 笛卡儿积 $A \times B \times C$ 是什么，其中 $A$ 是所有航线的集合， $B$ 和 $C$ 都是所有美国城市的集合？给出一个例子说明这个笛卡儿积如何使用。

32. 假定 $A \times B = \emptyset$ ，其中 $A$ 和 $B$ 为集合。你能得出什么结论？

33. 令 $A$ 为集合。证明 $\varnothing \times A = A \times \varnothing = \varnothing$ 。

34. 令 $A = \{a, b, c\}$ , $B = \{x, y\}$ , $C = \{0, 1\}$ 。求

a) $A\times B\times C$

b) $C \times B \times A$

c) $C\times A\times B$

d) $B\times B\times B$

35. 求 $A^2$ 如果

a) $A = \{0,1,3\}$

b) $A = \{1,2,a,b\}$

36. 求 $A^3$ 如果

a) $A = \{a\}$

b) $A = \{0,a\}$

37. 如果 $A$ 有 $m$ 个元素， $B$ 有 $n$ 个元素，则 $A \times B$ 有多少个不同的元素？

38. 如果 $A$ 有 $m$ 个元素， $B$ 有 $n$ 个元素， $C$ 有 $p$ 个元素，则 $A \times B \times C$ 有多少个不同的元素？

39. 如果 $A$ 有 $m$ 个元素且 $n$ 是一个正整数，则 $A^n$ 有多少个不同的元素？

40. 证明 $A \times B \neq B \times A$ 除非 $A = B$ ，其中 $A$ 和 $B$ 均为非空集合。

41. 试解释为什么 $A \times B \times C$ 和 $(A \times B) \times C$ 不同。

42. 试解释为什么 $(A \times B) \times (C \times D)$ 和 $A \times (B \times C) \times D$ 不同。

43. 证明或反驳：如果 $A$ 和 $B$ 是集合，则 $\mathcal{P}(A \times B) = \mathcal{P}(A) \times \mathcal{P}(B)$ 。

44. 证明或反驳：如果 $A$ 、 $B$ 和 $C$ 是非空集合，且 $A \times B = A \times C$ ，则 $B = C$ 。

45. 将下列量化表达式翻译成汉语句子并确定其真值。

a) $\forall x\in \mathbf{R}(x^2\neq -1)$

b) $\exists x\in \mathbf{Z}(x^2 = 2)$

c) $\forall x\in \mathbf{Z}(x^2 >0)$

d) $\exists x\in \mathbf{R}(x^2 = x)$

46. 将下列量化表达式翻译成汉语句子并确定其真值。

a) $\exists x\in \mathbf{R}(x^3 = -1)$

b) $\exists x\in \mathbf{Z}(x + 1 > x)$

c) $\forall x\in \mathbf{Z}(x - 1\in \mathbf{Z})$

d) $\forall x\in \mathbf{Z}(x^2\in \mathbf{Z})$

47. 给出以下各个谓词的真值集合，这里域是整数集合。

a) $P(x)$ ： $x^{2} < 3$

b) $Q(x): x^2 > x$

c) $R(x):2x + 1 = 0$

48. 给出以下各个谓词的真值集合，这里域是整数集合。

a) $P(x)\colon x^3\geqslant 1$

b) $Q(x): x^2 = 2$

c) $R(x):x <   x^{2}$

* 49. 序偶所定义的性质是两个序偶相等当且仅当其第一个元素相等且第二个元素相等。令人惊奇的是，我们可以用集合论的基本概念来构造序偶，从而取代用序偶作为最基本的概念。证明如果将序偶 $(a, b)$ 定义为 $\{\{a\}, \{a, b\}\}$ ，那么 $(a, b) = (c, d)$ 当且仅当 $a = c$ 且 $b = d$ 。[提示：首先证明 $\{\{a\}, \{a, b\}\} = \{\{c\}, \{c, d\}\}$ 当且仅当 $a = c$ 且 $b = d$ 。]

* 50. 这里介绍罗素悖论(Russel's paradox)。令 $S$ 为这样的集合，它包含集合 $x$ 如果集合 $x$ 不属于它自己，即 $S = \{x \mid x \notin x\}$ 。

a) 证明从 $S$ 是它自己的一个元素的假设能推出矛盾。

b) 证明从 $S$ 不是它自己的一个元素的假设能推出矛盾。

从a)和b)可知， $S$ 不可能是由其定义所描述的集合。这一悖论是可以避免的，只要对集合可以拥有的元素类型加以限制即可。

* 51. 给出一个能列出一个有限集合所有子集的步骤。

# 2.2 集合运算

# 2.2.1 引言

两个或多个集合可以以许多不同的方式结合在一起。例如，从学校主修数学的学生集合和主修计算机科学的学生集合入手，可以构成主修数学或计算机科学的学生集合、既主修数学又主修计算机科学的学生集合、所有不主修数学的学生集合等。

定义1 令 $A$ 和 $B$ 为集合。集合 $A$ 和 $B$ 的并集，用 $A \cup B$ 表示，是一个集合，它包含 $A$ 或 $B$ 中或同时在 $A$ 和 $B$ 中的元素。

一个元素 $x$ 属于 $A$ 和 $B$ 的并集当且仅当 $x$ 属于 $A$ 或 $x$ 属于 $B$ 。这说明

$$
A \cup B = \{x \mid x \in A \vee x \in B \}
$$

图1所示的文氏图表示两个集合 $A$ 和 $B$ 的并集。表示 $A$ 的圆圈内或表示 $B$ 的圆圈内的阴影区域表示 $A \cup B$ 。

我们将给出集合并集的例子。

例1 集合 $\{1, 3, 5\}$ 和集合 $\{1, 2, 3\}$ 的并集是集合 $\{1, 2, 3, 5\}$ ，即 $\{1, 3, 5\} \cup \{1, 2, 3\} = \{1, 2, 3, 5\}$

例2学校主修计算机科学的学生集合与主修数学的学生集合的并集就是或主修数学或主修计算机科学或同时主修这两个专业的学生的集合。

定义2 令 $A$ 和 $B$ 为集合。集合 $A$ 和 $B$ 的交集，用 $A \cap B$ 表示，是一个集合，它包含同时在 $A$ 和 $B$ 中的那些元素。

一个元素 $x$ 属于集合 $A$ 和 $B$ 的交集当且仅当 $x$ 属于 $A$ 而且 $x$ 属于 $B$ 。这说明

$$
A \cap B = \{x \mid x \in A \wedge x \in B \}
$$

图2所示的文氏图表示集合 $A$ 和 $B$ 的交集。同时在代表 $A$ 和 $B$ 的两个圆之内的阴影区域表示 $A$ 和 $B$ 的交集。

![](3340206eb406214b64a9062ddd3c93791a75aa8eae60d36ec24acc0adc30860a.jpg)  
图1 $A$ 和 $B$ 并集的文氏图

![](81fc43c227c0b9da34bd27e72cdb76fb4bbff7be4803e853dec5a4acf59769d9.jpg)  
图2 $A$ 和 $B$ 交集的文氏图

我们给出交集的几个例子。

例3 集合{1，3，5}和{1，2，3}的交集是{1，3}，即{1，3，5}∩{1，2，3}={1，3}。

例4学校所有主修计算机科学的学生集合与所有主修数学的学生集合的交集是所有既主修计算机科学又主修数学的学生的集合。

定义3 两个集合称为是不相交的，如果它们的交集为空集。

例5 令 $A = \{1,3,5,7,9\}$ ，而 $B = \{2,4,6,8,10\}$ 。因为 $A \cap B = \emptyset$ ，所以 $A$ 和 $B$ 不相交。

我们经常对寻找集合的并集的基数很感兴趣。注意 $|A| + |B|$ 把只属于 $A$ 或只属于 $B$ 的元素数了恰好一次，而对既属于 $A$ 又属于 $B$ 的元素数了恰好两次。因此，如果从 $|A| + |B|$ 中减去同时属于 $A$ 和 $B$ 的元素的个数，则 $A \cap B$ 中的元素也就只数了一次。于是

$$
| A \cup B | = | A | + | B | - | A \cap B |
$$

把这一结果推广到任意多个集合的并集就是所谓的包含排斥原理或简称容斥原理（principle of inclusion-exclusion）。容斥原理是枚举中的一项重要技术。我们将在第6章和第8章详细讨论这一原理和其他的计数技术。

还有其他一些重要的组合集合的方式。

定义4 令 $A$ 和 $B$ 为集合。 $A$ 和 $B$ 的差集，用 $A - B$ 表示，是一个集合，它包含属于 $A$ 而不属于 $B$ 的元素。 $A$ 和 $B$ 的差集也称为 $B$ 相对于 $A$ 的补集。

评注 集合 $A$ 和 $B$ 的差集有时候也记为 $A \setminus B$ 。

一个元素 $x$ 属于 $A$ 和 $B$ 的差集当且仅当 $x \in A$ 且 $x \notin B$ ，这说明

$$
A - B = \{x \mid x \in A \wedge x \notin B \}
$$

图3所示的文氏图表示集合 $A$ 和 $B$ 的差集。在表示集合 $A$ 的圆圈内部同时在表示集合 $B$ 的圆圈外部的阴影区域表示 $A - B$ 。

让我们举几个差集的例子。

例6 集合 $\{1, 3, 5\}$ 和 $\{1, 2, 3\}$ 的差集是 $\{5\}$ ，即 $\{1, 3, 5\} - \{1, 2, 3\} = \{5\}$ 。这不同于 $\{1, 2, 3\}$ 和 $\{1, 3, 5\}$ 的差集 $\{2\}$ 。

例7 学校主修计算机科学的学生集合和主修数学的学生集合的差集是学校主修计算机科学但不主修数学的学生集合。

一旦指定了全集 $U$ ，就可以定义集合的补集。

定义5 令 $U$ 为全集。集合 $A$ 的补集，用 $\overline{A}$ 表示，是 $A$ 相对于 $U$ 的补集。所以，集合 $A$ 的补集是 $U - A$ 。

评注 $A$ 的补集的定义取决于特定的全集 $U$ 。这个定义对 $A$ 的任何超集 $U$ 都适用。如果我们想要确定全集 $U$ ，可以写成“相对于全集 $U$ 的 $A$ 的补集。”

一个元素 $x$ 属于 $\overline{A}$ 当且仅当 $x\notin A$ 。这说明

$$
\bar {A} = \{x \in U \mid x \notin A \}
$$

图4中代表集合 $A$ 的圆圈外面的阴影区域表示 $\overline{A}$ 。

![](fffa327f313c33f875fa3514b3b0cbd88114aa6be600709295566fdfe7184fe3.jpg)  
图3 $A$ 和 $B$ 的差集的文氏图（阴影部分是 $A - B$ ）

![](f86c00ee9c05c4a52b11be4714a896e2d315e6ac0e53a262e51fd0001a58189e.jpg)  
图4 集合 $A$ 的补集的文氏图（阴影部分是 $\overline{A}$ ）

我们举几个补集的例子。

例8令 $A = \{a,e,i,o,u\}$ （其中全集为英语字母表中字母的集合）。那么 $\overline{A} = \{b,c,d,$

$f,g,h,j,k,l,m,n,p,q,r,s,t,v,w,x,y,z\}$

例9 令 $A$ 为大于10的正整数的集合（全集为所有正整数集合）。那么 $\overline{A} = \{1,2,3,4,5,6,7,8,9,10\}$

下面的证明留给读者(练习21)：可以将 $A$ 和 $B$ 的差集表示成 $A$ 和 $B$ 的补集的交集。即

$$
A - B = A \cap \bar {B}
$$

# 2.2.2 集合恒等式

表1列出了涉及集合并、交、补的最重要的恒等式。我们将用三种不同的方法证明其中的几个恒等式。介绍这些方法是想说明对一个问题的求解往往有不同的途径。表中未证明的恒等式留给读者练习。读者应该注意这些集合恒等式和1.3节讨论的逻辑等价式的相似之处（比较1.6节中表6和这里的表1）。事实上，这里给出的集合恒等式可以直接由对应的逻辑等价式证明。不仅如此，这两者都是布尔代数(在第12章讨论)中的恒等式的特例。

在开始讨论证明集合恒等式的不同方法之前，我们简要讨论一下文氏图的作用。尽管这样的图示能够帮助我们理解由两个或三个原子集合（用于构造这些集合的更复杂组合的集合）构造而成的集合，但涉及四个或更多原子集合时，它们提供不了多少启示。四个或更多集合的文氏图相当复杂，因为需要用各种椭圆而不是圆圈来表示集合。并且有必要保证对于集合的每种可能的组合都能用非空的区域来表示。尽管文氏图能提供某些恒等式的非正式的证明，但这样的证明仍须用我们将要讨论的三种方法之一来给出形式化的证明。

证明集合相等的一种方法是证明每一个是另一个的子集。回想一下为了证明一个集合是另一个集合的子集，可以通过证明一个元素如果属于第一个集合，必定属于第二个集合。通常我们用直接证明法来证明。我们将通过证明第一德·摩根律来说明这一方法。

例10 证明 $\overline{A\cap B} = \overline{A}\cup \overline{B}_{\circ}$

解 我们通过证明互为子集来证明两个集合 $\overline{A \cap B}$ 和 $\overline{A} \cup \overline{B}$ 相等。

表 1 集合恒等式  

<table><tr><td>恒等式</td><td>名称</td></tr><tr><td>A∩U=A</td><td rowspan="2">恒等律</td></tr><tr><td>A∪∅=A</td></tr><tr><td>A∪U=U</td><td rowspan="2">支配律</td></tr><tr><td>A∩∅=∅</td></tr><tr><td>A∪A=A</td><td rowspan="2">幂等律</td></tr><tr><td>A∩A=A</td></tr><tr><td>(A̅) = A</td><td>补律</td></tr><tr><td>A∪B=B∪A</td><td rowspan="2">交换律</td></tr><tr><td>A∩B=B∩A</td></tr><tr><td>A∪(B∪C)=(A∪B)∪C</td><td rowspan="2">结合律</td></tr><tr><td>A∩(B∩C)=(A∩B)∩C</td></tr><tr><td>A∪(B∩C)=(A∪B)∩(A∪C)</td><td rowspan="2">分配律</td></tr><tr><td>A∩(B∪C)=(A∩B)∪(A∩C)</td></tr><tr><td>A∩B=AB∩B</td><td>德·摩根律</td></tr><tr><td>A∪(A∩B)=A</td><td rowspan="2">吸收律</td></tr><tr><td>A∩(A∪B)=A</td></tr><tr><td>A∪A=U</td><td rowspan="2">互补律</td></tr><tr><td>A∩A=∅</td></tr></table>

首先，证明 $\overline{A\cap B}\subseteq \overline{A}\cup \overline{B}$ 。这个只需要证明如果 $x$ 在 $\overline{A\cap B}$ 中，则也必然在 $\overline{A}\bigcup \overline{B}$ 中。现在假定 $x\in \overline{A\cap B}$ 。根据补的定义， $x\notin A\cap B$ 。再由交集的定义可知，命题 $\neg ((x\in A)\land (x\in B))$ 为真。

再应用命题逻辑的德·摩根律，可得 $\neg (x\in A)$ 或 $\neg (x\in B)$ 。根据命题否定的定义，有 $x\notin A$ 或 $x\notin B$ 。再由补集的定义，这蕴含着 $x\in \overline{A}$ 或 $x\in \overline{B}$ 。因此，由并集的定义，可得 $x\in \overline{A}\cup \overline{B}$ 。从而得证 $\overline{A\cap B}\subseteq \overline{A}\cup \overline{B}$ 。

接下来，证明 $\overline{A} \cup \overline{B} \subseteq \overline{A \cap B}$ 。这个只需要证明如果 $x$ 在 $\overline{A} \cup \overline{B}$ 中，则也必然在 $\overline{A \cap B}$ 中。现假设 $x \in \overline{A} \cup \overline{B}$ 。由并集的定义，我们知道 $x \in \overline{A}$ 或 $x \in \overline{B}$ 。用补的定义，可得 $x \notin A$ 或 $x \notin B$ 。所以，命题 $\neg (x \in A) \lor \neg (x \in B)$ 为真。

再应用命题逻辑的德·摩根律，可得 $\neg ((x\in A)\land (x\in B))$ 为真。由交集的定义，可得 $\neg (x\in A\cap B)$ 成立。再由补的定义，可以得出 $x\in \overline{A\cap B}$ 。这就证明了 $\overline{A}\cup \overline{B}\subseteq \overline{A\cap B}$

由于已经证明了每一个集合是另一个的子集，所以这两个集合相等，恒等式得证。

我们可以用集合构造器来更简洁地表达例10中的推理过程，如例11所示。

例11用集合构造器和逻辑等价式来证明第一德·摩根律 $\overline{A\cap B} = \overline{A}\cup \overline{B}$

解 通过下列步骤证明这一恒等式。

$$
\overline {{A \cap B}} = \{x \mid x \notin A \cap B \}
$$

$$
\mathrm {补 集 的 定 义}
$$

$$
= \{x \mid \neg (x \in (A \cap B)) \}
$$

$$
\mathrm {不 属 于 符 号 的 含 义}
$$

$$
= \{x \mid \neg (x \in A \land x \in B) \}
$$

$$
\mathrm {交 集 的 定 义}
$$

$$
= \{x \mid \neg (x \in A) \vee \neg (x \in B) \}
$$

$$
\mathrm {逻 辑 等 价 式 的 第 一 德} \cdot \mathrm {摩 根 律}
$$

$$
= \{x \mid x \notin A \vee x \notin B \}
$$

$$
\mathrm {不 属 于 符 号 的 含 义}
$$

$$
= \{x \mid x \in \bar {A} \vee x \in \bar {B} \}
$$

$$
\mathrm {补 集 的 定 义}
$$

$$
= \{x \mid x \in \bar {A} \cup \bar {B} \}
$$

$$
\mathrm {并 集 的 定 义}
$$

$$
= \bar {A} \cup \bar {B}
$$

$$
\mathrm {集 合 构 造 器 记 号 的 含 义}
$$

注意除了用到补集、并集、集合成员、集合构造器记号的定义外，这个证明还用到了逻辑等价式的第二德·摩根律。

当通过证明恒等式的一边是另一边的子集的方式来证明涉及两个以上集合的恒等式时，需要跟踪一些不同的情形，如证明集合分配律的例12所示。

例12 证明表1中的第二分配律：对任意集合 $A$ 、 $B$ 和 $C$ ，证明 $A \cap (B \cup C) = (A \cap B) \cup (A \cap C)$ 。

解我们将通过说明等式的每一边是另一边的子集来证明这个恒等式。

假定 $x \in A \cap (B \cup C)$ 。那么 $x \in A$ 且 $x \in B \cup C$ 。由并集的定义可得， $x \in A$ ，且 $x \in B$ 或 $x \in C$ （或两者）。换句话，是我们知道复合命题 $(x \in A) \wedge ((x \in B) \vee (x \in C))$ 为真。再由合取对析取的分配律，有 $((x \in A) \wedge (x \in B)) \vee ((x \in A) \wedge (x \in C))$ 。因此可得，或者 $x \in A$ 且 $x \in B$ ，或者 $x \in A$ 且 $x \in C$ 。由交集的定义，可知 $x \in A \cap B$ 或 $x \in A \cap C$ 。使用并集的定义，可得出 $x \in (A \cap B) \cup (A \cap C)$ 。从而得出结论 $A \cap (B \cup C) \subseteq (A \cap B) \cup (A \cap C)$ 。

现在假定 $x \in (A \cap B) \cup (A \cap C)$ 。则由并集的定义， $x \in A \cap B$ 或 $x \in A \cap C$ 。由交集的定义可得， $x \in A$ 且 $x \in B$ ，或者 $x \in A$ 且 $x \in C$ 。由此可知， $x \in A$ ，并且 $x \in B$ 或 $x \in C$ 。因此，由并集的定义可知， $x \in A$ 且 $x \in B \cup C$ 。再由交集的定义，可得 $x \in A \cap (B \cup C)$ 。从而得出结论 $(A \cap B) \cup (A \cap C) \subseteq A \cap (B \cup C)$ 。这就完成了该恒等式的证明。

集合恒等式还可以通过成员表来证明。我们考虑一个元素可能属于的原子集合（即用来生成两边的集合的原始集合）的每一种组合，并验证在相同集合组合中的元素同属于恒等式两边的集合。用1表示元素属于一个集合，用0表示元素不属于一个集合（读者应注意到成员表和真值表的相似之处）。

例13 用成员表证明 $A \cap (B \cup C) = (A \cap B) \cup (A \cap C)$ 。

解表2给出了这些集合组合的成员表。这个表格有8行。由于对应于 $A\cap (B\bigcup C)$ 和 $(A\cap B)\bigcup (A\cap C)$ 的两列相同，所以恒等式有效。

已经证明过的集合恒等式可以用来证明其他的集合恒等式。考虑下面的例14。

表 2 分配律的成员表  

<table><tr><td>A</td><td>B</td><td>C</td><td>B∪C</td><td>A∩(B∪C)</td><td>A∩B</td><td>A∩C</td><td>(A∩B)∪(A∩C)</td></tr><tr><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td></tr><tr><td>1</td><td>1</td><td>0</td><td>1</td><td>1</td><td>1</td><td>0</td><td>1</td></tr><tr><td>1</td><td>0</td><td>1</td><td>1</td><td>1</td><td>0</td><td>1</td><td>1</td></tr><tr><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>0</td><td>1</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>0</td><td>1</td><td>0</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>0</td><td>0</td><td>1</td><td>1</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr></table>

一旦证明了集合的恒等式，我们就可以用它们来证明其他的集合恒等式。特别是，我们可以应用一连串的恒等式，每个步骤一个，从需要证明的恒等式的一边推导出另一边，如例14所示。

例14 令 $A$ 、 $B$ 、 $C$ 为集合。证明

$$
\overline {{A \cup (B \cap C)}} = (\bar {C} \cup \bar {B}) \cap \bar {A}
$$

解 我们有

<table><tr><td>A∪(B∩C)=A∩(B∩C)</td><td>由第一德·摩根律</td></tr><tr><td>=A∩(B∪C)</td><td>由第二德·摩根律</td></tr><tr><td>=(B∪C)∩A</td><td>由交集的交换律</td></tr><tr><td>=(C∪B)∩A</td><td>由并集的交换律</td></tr></table>

我们将证明集合恒等式的三种方法总结在表3中。

表 3 证明集合恒等式的方法  

<table><tr><td>描述</td><td>方法</td></tr><tr><td>子集方法</td><td>证明恒等式的每一边是另一边的子集</td></tr><tr><td>成员表</td><td>对于原子集合的每一种可能的组合，证明恰好在这些原子集合中的元素要么同时属于两边，要么都不属于两边</td></tr><tr><td>应用已知的恒等式</td><td>从一边开始，通过应用一系列已经建立了的恒等式将它转换成另一边的形式</td></tr></table>

# 2.2.3 扩展的并集和交集

由于集合的并集和交集满足结合律，所以只要 $A$ 、 $B$ 、 $C$ 为集合，则 $A \cup B \cup C$ 和 $A \cap B \cap C$ 均有定义，即这样的记号是无二义性的。也就是说，我们不需要用括号来指明哪个运算在前，因为 $A \cup (B \cup C) = (A \cup B) \cup C$ 及 $A \cap (B \cap C) = (A \cap B) \cap C$ 。注意 $A \cup B \cup C$ 包含那些至少属于 $A$ 、 $B$ 、 $C$ 中一个集合的元素，而 $A \cap B \cap C$ 包含那些属于 $A$ 、 $B$ 、 $C$ 全部 3 个集合的元素。3 个集合 $A$ 、 $B$ 、 $C$ 的这两种组合如图 5 所示。

![](3c7cf5224ec62fbe8e63d188239f0c5a62c6b428d278fbaade28a636ae29197c.jpg)  
a)阴影部分是 $A\cup B\cup C$

![](50ded4cef8f8cee0ff96dd6b2b36347014090d2da20fd9b212408185d35c2c06.jpg)  
b) 阴影部分是 $A \cap B \cap C$   
图5 集合 $A$ 、 $B$ 、 $C$ 的并集和交集

例15 令 $A = \{0,2,4,6,8\}$ ， $B = \{0,1,2,3,4\}$ ， $C = \{0,3,6,9\}$ 。 $A \cup B \cup C$ 和 $A \cap B \cap C$ 是什么？

解 $A \cup B \cup C$ 包括那些至少属于 $A, B, C$ 之一的元素。所以

$$
A \cup B \cup C = \{0, 1, 2, 3, 4, 6, 8, 9 \}
$$

集合 $A \cap B \cap C$ 包括那些属于全部3个集合的元素。因此

$$
A \cap B \cap C = \{0 \}
$$

我们还可以考虑任意多个集合的并集和交集。引入下面的定义。

定义6 一组集合的并集是包含那些至少是这组集合中一个集合成员的元素的集合。

我们用下列记号

$$
A _ {1} \cup A _ {2} \cup \dots \cup A _ {n} = \bigcup_ {i = 1} ^ {n} A _ {i}
$$

表示集合 $A_{1}$ ， $A_{2}$ ，…， $A_{n}$ 的并集。

定义7 一组集合的交集是包含那些属于这组集合中所有成员集合的元素的集合。

我们用下列记号

$$
A _ {1} \cap A _ {2} \cap \dots \cap A _ {n} = \bigcap_ {i = 1} ^ {n} A _ {i}
$$

表示集合 $A_{1}$ ， $A_{2}$ ，…， $A_{n}$ 的交集。我们用例16说明扩展的并集和交集。

例16 令 $A_{i} = \{i, i + 1, i + 2, \dots\}$ , $i = 1, 2, \dots$ 。那么，

$$
\bigcup_ {i = 1} ^ {n} A _ {i} = \bigcup_ {i = 1} ^ {n} \{i, i + 1, i + 2, \dots \} = \{1, 2, 3, \dots \}
$$

而

$$
\bigcap_ {i = 1} ^ {n} A _ {i} = \bigcap_ {i = 1} ^ {n} \{i, i + 1, i + 2, \dots \} = \{n, n + 1, n + 2, \dots \} = A _ {n}
$$

我们可以将并集和交集的记号扩展到其他系列的集合。尤其可以使用记号

$$
A _ {1} \cup A _ {2} \cup \dots \cup A _ {n} \cup \dots = \bigcup_ {i = 1} ^ {\infty} A _ {i}
$$

表示集合 $A_{1}$ ， $A_{2}$ ，…， $A_{n}$ …的并集。类似地，这些集合的交集可以表示为

$$
A _ {1} \cap A _ {2} \cap \dots \cap A _ {n} \cap \dots = \bigcap_ {i = 1} ^ {\infty} A _ {i}
$$

更一般地，当 $I$ 是一个集合时，可以用记号 $\bigcap_{i\in I}A_{i}$ 和 $\bigcup_{i\in I}A_{i}$ 分别用于表示对于 $i\in I$ 的集合 $A_{i}$ 的交集和并集。注意我们有 $\bigcap_{i\in I}A_{i} = \{x\mid \forall i\in I(x\in A_{i})\}$ 和 $\bigcup_{i\in I}A_{i} = \{x\mid \exists i\in I(x\in A_{i})\}$ 。

例17 假设对于 $i = 1,2,3,\dots$ ，集合 $A_{i} = \{1,2,3,\dots ,i\}$ 。那么，

$$
\bigcup_ {i = 1} ^ {\infty} A _ {i} = \bigcup_ {i = 1} ^ {\infty} \{1, 2, 3, \dots , i \} = \{1, 2, 3, \dots \} = \mathbf {Z} ^ {+}
$$

而

$$
\bigcap_ {i = 1} ^ {\infty} A _ {i} = \bigcap_ {i = 1} ^ {\infty} \{1, 2, 3, \dots , i \} = \{1 \}
$$

要想知道这些集合的并集是正整数集，注意每一个正整数至少属于一个集合，因为整数 $n$ 属于 $A_{n} = \{1, 2, \dots, n\}$ ，并且集合中的每一个元素都是正整数。要想知道这些集合的交集是 $\{1\}$ ，注意到属于所有集合 $A_{1}, A_{2}, \dots$ 的元素只有 1。也就是说， $A_{1} = \{1\}$ ，而且对于 $i = 1, 2, \dots$ 均有 $1 \in A_{i}$ 。

# 2.2.4 集合的计算机表示

计算机表示集合的方式有多种。一种办法是把集合的元素无序地存储起来。可是如果这样的话，在进行集合的并集、交集或差集等运算时会非常费时，因为这些运算将需要进行大量的元素搜索。我们将要介绍一种利用全集中元素的任何一种顺序来存放集合元素的方法。集合的这种表示法使我们很容易计算集合的各种组合。

假定全集 $U$ 是有限的（而且大小合适，使 $U$ 的元素个数不超过计算机能使用的内存量）。首先为 $U$ 的元素任意规定一个顺序，例如 $a_1, a_2, \dots, a_n$ 。于是可以用长度为 $n$ 的比特串来表

示 $U$ 的子集 $A$ ：其中比特串中第 $i$ 位是1，如果 $a_{i}$ 属于 $A$ ；是0，如果 $a_{i}$ 不属于 $A$ 。例18解释了这一技巧。

例18 令 $U = \{1,2,3,4,5,6,7,8,9,10\}$ ，而且 $U$ 的元素以升序排序，即 $a_{i} = i$ 。表示 $U$ 中所有奇数的子集、所有偶数的子集和不超过5的整数的子集的比特串是什么？

解 表示 $U$ 中所有奇数的子集 $\{1, 3, 5, 7, 9\}$ 的比特串，其第 1、3、5、7、9 比特为 1，其他比特为 0。即

10 1010 1010

（我们已把长度为10的比特串分成长度为4的片段组合以便阅读。）类似地， $U$ 中所有偶数的子集，即 $\{2, 4, 6, 8, 10\}$ ，可由比特串

01 0101 0101

表示。 $U$ 中不超过5的所有整数的集合 $\{1,2,3,4,5\}$ ，可由比特串

11 1110 0000

表示。

用比特串表示集合便于计算集合的补集、并集、交集和差集。要从表示集合的比特串计算它的补集的比特串，只需简单地把每个1改为0，每个0改为1，因为 $x \in A$ 当且仅当 $x \notin \overline{A}$ 。注意当把每比特看成真值时（用1表示真，0表示假），上述运算对应于取每比特的否定。

例19 我们已经知道集合 $\{1, 3, 5, 7, 9\}$ 的比特串（全集为 $\{1, 2, 3, 4, 5, 6, 7, 8, 9, 10\}$ ）是

10 1010 1010

它的补集的比特串是什么？

解用0取代1，用1取代0，即可得到此集合的补集的比特串

01 0101 0101

这对应于集合 $\{2, 4, 6, 8, 10\}$ 。

要想得到两个集合的并集和交集的比特串，我们可以对表示这两个集合的比特串按位做布尔运算。只要两个比特串的第 $i$ 位有一个是1，则并集的比特串的第 $i$ 位是1，而当两位都是0时为0。因此，并集的比特串是两个集合比特串的按位或(bitwise OR)。当两个比特串的第 $i$ 位均为1时，交集比特串的第 $i$ 位为1，否则为0。因此交集的比特串是两个集合比特串的按位与(bitwise AND)。

例20 集合 $\{1, 2, 3, 4, 5\}$ 和 $\{1, 3, 5, 7, 9\}$ 的比特串分别是11110000和10101010。用比特串找出它们的并集和交集。

解 这两个集合的并集的比特串是

11 1110 0000 V 10 1010 1010=11 1110 1010

它对应集合 $\{1,2,3,4,5,7,9\}$ 。这两个集合的交集的比特串是

11 1110 0000 ∧ 10 1010 1010 = 10 1010 0000

它对应集合 $\{1,3,5\}$

# 2.2.5 多重集

有时候元素在无序集合中出现的次数是有意义的。多重集（multiset，多重成员集的简称）就是一个元素的无序集，其中元素作为成员可以出现多于一次。我们用与集合相同的记号来表示多重集，但是每个元素在列表中的个数即作为成员出现的次数。（回想一下，在集合中，一个元素或属于集合或不属于集合。在列表中列出多次并不影响这个元素在集合中的成员关系。）因此，由 $\{a, a, a, b, b\}$ 表示的多重集是一个包含三次 $a$ 和两次 $b$ 的多重集。使用这种记号时，必须清楚认识到我们在处理多重集而非普通集合。我们也可以用另一种记号来避免二义性。记号 $\{m_1 \cdot a_1, m_2 \cdot a_2, \dots, m_r \cdot a_r\}$ 表示多重集，其中元素 $a_1$ 出现了 $m_1$ 次，元素 $a_2$ 出现

了 $m_{2}$ 次，以此类推。这里， $m_{i}$ ， $i = 1, 2, \dots, r$ 称为元素 $a_{i}$ ， $i = 1, 2, \dots, r$ 的重复数 (multiplicity)。（对于不在多重集中的元素，其在该集合中的重复数被置为0。）多重集的基数是其元素的重复数的总和。多重集一词由 Nicolaas Govert de Bruijn 在20世纪70年代引入，但此概念可以追溯到12世纪印度数学家 Bhaskaracharya 的著作。

设 $P$ 和 $Q$ 是多重集。多重集 $P$ 和 $Q$ 的并是多重集，其中元素的重复数是它在 $P$ 和 $Q$ 中重复数的最大值。 $P$ 和 $Q$ 的交是多重集，其中元素的重复数是它在 $P$ 和 $Q$ 中重复数的最小值。 $P$ 和 $Q$ 的差是多重集，其中元素的重复数是它在 $P$ 中的重复数减去在 $Q$ 中的重复数，如果差为负数，重复数就为 0。 $P$ 和 $Q$ 的和是多重集，其中元素的重复数是它在 $P$ 和 $Q$ 中的重复数之和。 $P$ 和 $Q$ 的并、交、差分别记作 $P \cup Q$ 、 $P \cap Q$ 和 $P - Q$ （不要将这些运算与集合中类似的运算相混淆）。 $P$ 和 $Q$ 的和记作 $P + Q$ 。

例21 假设 $P$ 和 $Q$ 分别是多重集 $\{4 \cdot a, 1 \cdot b, 3 \cdot c\}$ 和 $\{3 \cdot a, 4 \cdot b, 2 \cdot d\}$ 。试求 $P \cup Q$ 、 $P \cap Q$ 、 $P - Q$ 和 $P + Q$ 。

解 我们有

$$
\begin{array}{l} P \bigcup Q = \left\{\max  (4, 3) \cdot a, \max  (1, 4) \cdot b, \max  (3, 0) \cdot c, \max  (0, 2) \cdot d \right\} \\ = \{4 \cdot a, 4 \cdot b, 3 \cdot c, 2 \cdot d \} \\ \end{array}
$$

$$
\begin{array}{l} P \cap Q = \{\min  (4, 3) \cdot a, \min  (1, 4) \cdot b, \min  (3, 0) \cdot c, \min  (0, 2) \cdot d \} \\ = \{3 \cdot a, 1 \cdot b, 0 \cdot c, 0 \cdot d \} = \{3 \cdot a, 1 \cdot b \} \\ \end{array}
$$

# 练习

1. 令 $A$ 为住在离学校一英里以内的所有学生的集合， $B$ 是走路上学的所有学生的集合。描述下列各集合中的学生：

a) $A\cap B$

b) $A\bigcup B$

c) $A - B$

d) $B - A$

2. 假定 $A$ 是学校二年级学生的集合， $B$ 是学校选修离散数学课的学生集合。用 $A$ 和 $B$ 来表示下列各个集合。

a)学校选修离散数学课的二年级学生集合。  
b)学校不选修上离散数学课的二年级学生集合。  
c)学校二年级学生或选修离散数学课的学生的集合。  
d)学校里既不在二年级学生也不选修离散数学课的学生的集合。

3. 令 $A = \{1,2,3,4,5\}$ , $B = \{0,3,6\}$ 。求

a) $A\bigcup B$

b) $A\cap B$

c) $A - B$

d) $B - A$

4. 令 $A = \{a, b, c, d, e\}$ , $B = \{a, b, c, d, e, f, g, h\}$ 。求

a) $A\bigcup B$

b) $A\cap B$

c) $A - B$

d) $B - A$

# Links

![](d67143a24b2037668a6779f1945f1492da50d799332ec83d18720c5bd1559d8c.jpg)  
©Dinodia Photos/Alamy Stock Photo

婆什迦罗导师(Bhaskaracharya，1114—1185）婆什迦罗出生于印度卡纳塔克邦的比贾布尔区（他的名字实际上是婆什迦罗，Acharya是其头衔，意思是导师，加在名字后表示敬意）。他的父亲是一位著名的学者和占星师。婆什迦罗是邬阁衍那（当时印度的数学中心)的天文台台长。他被认为是中世纪印度最伟大的数学家。婆什迦罗在数学的许多领域都有重要发现，包括几何学、平面和球面三角学、代数学、数论和组合学。婆什迦罗描述了微积分的原理，并将其应用于天文学问题，这比牛顿和莱布尼兹所做的工作要早500多年。在数论方面，他在丢番图方程上有许多发现，他还研究了方程整数解，这在600多年后又被重新发现。他最重要的著作是《The

Crown of Treatises》(Siddhanta Shiromani)，共包含四个主要部分，涵盖算术、代数、行星和球体的数学。

在练习 $5\sim 10$ 中，假定 $A$ 是某个全集 $U$ 的子集。

5. 证明表1中的补集律： $\overline{A} = A$

6. 证明表1中的恒等律：

a) $A\bigcup \varnothing = A$

b) $A\cap U = A$

7. 证明表1中的支配律：

a) $A\bigcup U = U$

b) $A\cap \varnothing = \varnothing$

8. 证明表1中的幂等律：

a) $A\bigcup A = A$

b) $A\cap A = A$

9. 证明表1中的交换律：

a) $A\bigcup \overline{A} = U$

b) $A\cap \overline{A} = \varnothing$

10. 证明：

a) $A - \varnothing = A$

b) $\varnothing - A = \varnothing$

11. 令 $A$ 和 $B$ 为两个集合。试证明表1中的交换律：

a) $A\bigcup B = B\bigcup A$

b) $A \cap B = B \cap A$

12. 证明表1中的第一个吸收律：如果 $A$ 和 $B$ 为两个集合，那么 $A \cup (A \cap B) = A$ 。

13. 证明表1中的第二个吸收律：如果 $A$ 和 $B$ 为两个集合，那么 $A \cap (A \cup B) = A$ 。

14.如果 $A - B = \{1,5,7,8\}$ ， $B - A = \{2,10\}$ ，且 $A\cap B = \{3,6,9\}$ ，试找出集合 $A$ 和 $B$

15. 通过以下两种方式证明表1中的第一个德·摩根律：如果 $A$ 和 $B$ 为两个集合，那么 $\overline{A \cup B} = \overline{A} \cap \overline{B}$ ；a) 通过证明两边互为子集。 b) 使用成员表。

16. 令 $A$ 和 $B$ 为集合。证明：

a) $(A\cap B)\subseteq A$

b) $A\subseteq (A\bigcup B)$

c) $A - B\subseteq A$

d) $A\cap (B - A) = \emptyset$

e) $A\bigcup (B - A) = A\bigcup B$

17. 证明如果 $A$ 和 $B$ 是全集 $U$ 中的集合，则 $A \subseteq B$ 当且仅当 $\overline{A} \cup B = U$ 。

18. 给定全集 $U$ 中的集合 $A$ 和 $B$ ，试画出下面每个集合的文氏图。

a) $A\to B = \{x\in U\mid x\in A\to x\in B\}$

b) $A\leftrightarrow B = \{x\in U\mid x\in A\leftrightarrow x\in B\}$

19. 如果 $A$ 、 $B$ 、 $C$ 为集合，试用下面的方法证明 $\overline{A\cap B\cap C} = \overline{A}\cup \overline{B}\cup \overline{C}$

a)通过证明两边互为子集

b)使用成员表

20. 令 $A, B, C$ 为集合。证明：

a) $(A\bigcup B)\subseteq (A\bigcup B\bigcup C)$

b) $(A\bigcap B\bigcap C)\subseteq (A\bigcap B)$

c) $(A - B) - C\subseteq A - C$

d) $(A - C)\cap (C - B) = \emptyset$

e) $(B - A)\bigcup (C - A) = (B\bigcup C) - A$

21. 证明如果 $A$ 和 $B$ 为集合，则

a) $A - B = A\cap \overline{B}$

b) $(A\bigcap B)\bigcup (A\bigcap \overline{B}) = A$

22. 证明如果 $A$ 和 $B$ 为集合且 $A \subseteq B$ ，则

a) $A\bigcup B = B$

b) $A\cap B = A$

23. 证明表1中的第一结合律：如果 $A, B, C$ 为集合，那么 $A \cup (B \cup C) = (A \cup B) \cup C$ 。

24. 证明表1中的第二结合律：如果 $A, B, C$ 为集合，那么 $A \cap (B \cap C) = (A \cap B) \cap C$ 。

25. 证明表1中的第一分配律：如果 $A, B, C$ 为集合，那么 $A \cup (B \cap C) = (A \cup B) \cap (A \cup C)$ 。

26. 令 $A$ 、 $B$ 、 $C$ 为集合。证明 $(A - B) - C = (A - C) - (B - C)$ 。

27. 令 $A = \{0, 2, 4, 6, 8, 10\}$ , $B = \{0, 1, 2, 3, 4, 5, 6\}$ , $C = \{4, 5, 6, 7, 8, 9, 10\}$ 。求

a) $A\cap B\cap C$

b) $A \cup B \cup C$

c) $(A\bigcup B)\cap C$

d) $(A\bigcap B)\bigcup C$

28. 画出集合 $A, B, C$ 的下列每个组合的文氏图：

a) $A\cap (B\cup C)$

b) $\overline{A} \cap \overline{B} \cap \overline{C}$

c) $(A - B)\cup (A - C)\cup (B - C)$

29. 画出以下集合 $A, B, C, D$ 的每个组合的文氏图：

a) $A\cap (B - C)$

b) $(A\cap B)\cup (A\cap C)$

c) $(A\cap \overline{B})\cup (A\cap \overline{C})$

30. 画出以下集合 $A$ 、 $B$ 、 $C$ 、 $D$ 的每个组合的文氏图：

a) $(A\cap B)\cup (C\cap D)$

b) $\overline{A}\cup \overline{B}\cup \overline{C}\cup \overline{D}$

c) $A - (B\cap C\cap D)$

31. 如果集合 $A$ 与 $B$ 具有下列性质，你能就 $A$ 和 $B$ 说些什么？

a) $A\bigcup B = A$

b) $A\cap B = A$

c) $A - B = A$

d) $A \cap B = B \cap A$

e) $A - B = B - A$

32. 如果集合 $A$ 、 $B$ 、 $C$ 满足下述条件，你能断定 $A \doteq B$ 吗？

a) $A\bigcup C = B\bigcup C$

b) $A\cap C = B\cap C$

c) $A \cup C = B \cup C$ 并且 $A \cap C = B \cap C$ .

33. 令 $A$ 和 $B$ 为全集 $U$ 的子集。证明 $A \subseteq B$ 当且仅当 $\overline{B} \subseteq \overline{A}$ 。

34. 设 $A$ 、 $B$ 和 $C$ 是集合。利用表1中的对任意集合 $A$ 和 $B$ 都成立的恒等式 $A - B = A \cap \overline{B}$ 证明 $(A - B) \cap (B - C) \cap (A - C) = \emptyset$ 。

35. 设 $A$ 、 $B$ 和 $C$ 是集合。利用表1中的恒等式证明 $\overline{A \cup B} \cap \overline{B \cup C} \cap \overline{A \cup C} = \overline{A} \cap \overline{B} \cap \overline{C}$ 。

36. 证明或反驳：对任意集合 $A$ 、 $B$ 和 $C$ ，有

a) $A\times (B\bigcup C) = (A\times B)\bigcup (A\times C)$

b) $A \times (B \cap C) = (A \times B) \cap (A \times C)$

37. 证明或反驳：对任意集合 $A$ 、 $B$ 和 $C$ ，有

a) $A \times (B - C) = (A \times B) - (A \times C)$

b) $\overline{A} \times (\overline{B \cup C}) = \overline{A \times (B \cup C)}$

集合 $A$ 和 $B$ 的对称差，用 $A \oplus B$ 表示，是属于 $A$ 或属于 $B$ 但不同时属于 $A$ 与 $B$ 的元素组成的集合。

38. 求 $\{1, 3, 5\}$ 和 $\{1, 2, 3\}$ 的对称差。

39. 求某校主修计算机科学的学生集合与主修数学的学生集合的对称差。

40. 画出集合 $A$ 与 $B$ 的对称差的文氏图。

41. 证明 $A \oplus B = (A \cup B) - (A \cap B)$ 。

42. 证明 $A \oplus B = (A - B) \cup (B - A)$ 。

43. 证明如果 $A$ 是全集 $U$ 的子集，则

a) $A\oplus A = \emptyset$

b) $A\oplus \varnothing = A$

c) $A\oplus U = \overline{A}$

d) $A\oplus \overline{A} = U$

44. 证明如果 $A$ 和 $B$ 为集合，则：

a) $A\oplus B = B\oplus A$

b) $(A\oplus B)\oplus B = A$

45. 如果 $A \oplus B = A$ ，你能就集合 $A$ 和 $B$ 说些什么？

* 46. 判断对称差是否满足结合律，即如果 $A$ 、 $B$ 、 $C$ 为集合，是否有 $A \oplus (B \oplus C) = (A \oplus B) \oplus C$ 成立？

* 47. 假定 $A$ 、 $B$ 、 $C$ 为集合，使得 $A \oplus C = B \oplus C$ 。是否必定有 $A = B$ ?

48. 如果 $A, B, C, D$ 为集合， $(A \oplus B) \oplus (C \oplus D) = (A \oplus C) \oplus (B \oplus D)$ 是否成立？

49. 如果 $A, B, C, D$ 为集合， $(A \oplus B) \oplus (C \oplus D) = (A \oplus D) \oplus (B \oplus C)$ 是否成立？

50. 证明如果 $A$ 和 $B$ 是有限集，则 $A \cup B$ 是有限集。

51. 证明如果 $A$ 是无限集，则只要 $B$ 是一个集合， $A \cup B$ 也是一个无限集。

* 52. 证明：如果 $A$ 、 $B$ 、 $C$ 为集合，则

$$
| A \bigcup B \bigcup C | = | A | + | B | + | C | - | A \cap B | - | A \cap C | - | B \cap C | + | A \cap B \cap C |
$$

（这是第8章将要学习的包含排斥原理的一个特例。）

53. 令 $A_{i} = \{1,2,3,\dots ,i\}$ ， $i = 1$ ，2，3，…。求

a) $\bigcup_{i = 1}^{n}A_{i}$

b) $\bigcap_{i = 1}^{n}A_{i}$

54. 令 $A_{i} = \{\dots, -2, -1, 0, 1, \dots, i\}$ 。求

a) $\bigcup_{i = 1}^{n}A_{i}$

b) $\bigcap_{i = 1}^{n}A_{i}$

55. 令 $A_{i}$ 为所有长度不超过 $i$ 的非空比特串（即长度至少为1）的集合。求

a) $\bigcup_{i = 1}^{n}A_{i}$

b) $\bigcap_{i = 1}^{n}A_{i}$

56. 试求 $\bigcup_{i=1}^{\infty} A_{i}$ 和 $\bigcap_{i=1}^{\infty} A_{i}$ ，如果对于任意正整数 $i$ ，

a) $A_{i} = \{i,i + 1,i + 2,\dots \}$   
b) $A_{i} = \{0,i\}$   
c) $A_{i} = (0,i)$ ，即满足 $0 <   x <   i$ 的实数 $\mathcal{X}$ 的集合  
d) $A_{i} = (i,\infty)$ ，即满足 $x > i$ 的实数 $x$ 的集合

57. 试求 $\bigcup_{i=1}^{\infty} A_{i}$ 和 $\bigcap_{i=1}^{\infty} A_{i}$ ，如果对于任意正整数 $i$ ，

a) $A_{i} = \{-i, -i + 1, \dots, -1, 0, 1, \dots, i - 1, i\}$   
b) $A_{i} = \{-i,i\}$   
c) $A_{i} = [-i, i]$ ，即满足 $-i \leqslant x \leqslant i$ 的实数 $x$ 的集合  
d) $A_{i} = [i,\infty)$ ，即满足 $x\geqslant i$ 的实数 $x$ 的集合

58. 假定全集 $U = \{1, 2, 3, 4, 5, 6, 7, 8, 9, 10\}$ 。用比特串表示下列各集合，假定如果 $i$ 属于该集合，则其比特串的第 $i$ 位为1，否则第 $i$ 位为0。

a）{3，4，5}

b) $\{1,3,6,10\}$

c）{2，3，4，7，8，9}

59. 使用上题中的同一个全集，求下列比特串各自代表的集合。

a)11 1100 1111

b)01 0111 1000

c)10 0000 0001

60. 下列比特串各代表有限全集的什么子集？

a)所有位全为0的串

b)所有位全为1的串

61. 对应于两个集合之差的比特串是什么？

62. 对应于两个集合的对称差的比特串是什么？

63. 令 $A = \{a, b, c, d, e\}$ , $B = \{b, c, d, g, p, t, v\}$ , $C = \{c, e, i, o, u, x, y, z\}$ , $D = \{d, e, h, i, n, o, t, u, x, y\}$ 。试阐述怎样用比特串的按位运算求下列集合的组合：

a) $A\bigcup B$

b) $A\cap B$

c) $(A\bigcup D)\cap (B\bigcup C)$

d) $A \cup B \cup C \cup D$

64. 怎样用比特串求出同一全集 $U$ 的 $n$ 个子集的并集和交集？

集合 $A$ 的后继是集合 $A \cup \{A\}$ 。

65. 求下列集合的后继。

a）{1，2，3}

b)0

c）{0}

d) $\{\varnothing ,\{\varnothing \} \}$

66. 一个含 $n$ 个元素的集合的后继有几个元素？

67. 令 $A$ 和 $B$ 分别为多重集 $\{3 \cdot a, 2 \cdot b, 1 \cdot c\}$ 和 $\{2 \cdot a, 3 \cdot b, 4 \cdot d\}$ 。求

a) $A\bigcup B$

b) $A\cap B$

c) $A - B$

d) $B - A$

e) $A + B$

68. 假设 $A$ 是一个集合， $a \in A$ 。试问下列哪些语句是真的，哪些是假的？这里所有集合都是普通集合而非多重集。对所给答案进行解释。

a） $\{a,a\} \cup \{a,a,a\} = \{a,a,a,a,a\}$

b） $\{a,a\} \cup \{a,a,a\} = \{a\}$

c） $\{a,a\} \cap \{a,a,a\} = \{a,a\}$

d） $\{a,a\} \cap \{a,a,a\} = \{a\}$

e） $\{a,a,a\} -\{a,a\} = \{a\}$

69. 假定所有集合是多重集而非普通集合，试重新回答练习 68。

70. 假定 $A$ 是多重集，其元素是某大学一个系需要的计算机设备的类型，而元素的重数则是每一类所需设备的件数； $B$ 是同一所大学另一个系类似的多重集。例如 $A$ 可以是多重集 $\{107 \cdot PC, 44 \cdot$ 路由器，6·服务器\}，而 $B$ 可以是 $\{14 \cdot PC, 6 \cdot$ 路由器，2·大型计算机\}。

a)假定两个系使用同样的设备， $A$ 和 $B$ 的什么组合代表该大学应该买的设备？

b)假定两个系使用同样的设备， $A$ 和 $B$ 的什么组合代表两个系都使用的设备？  
c)假定两个系使用同样的设备， $A$ 和 $B$ 的什么组合代表第二个系使用，但第一个系不使用的设备？  
d)假定两个系不共享设备， $A$ 和 $B$ 的什么组合代表该大学应该购买的设备？

有限集 $A$ 和 $B$ 的雅卡尔相似度(Jaccard similarity) $J(A, B) = |A \cap B| / |A \cup B|$ ，初始值为 $J(\varnothing, \varnothing) = 1$ 。 $A$ 和 $B$ 之间的雅卡尔距离(Jaccard distance) $d_{J}(A, B) = 1 - J(A, B)$ 。

71.针对下列集合对，试求 $J(A,B)$ 和 $d_J(A,B)$

a) $A = \{1,3,5\}$ ， $B = \{2,4,6\}$   
b) $A = \{1, 2, 3, 4\}$ , $B = \{3, 4, 5, 6\}$   
c) $A = \{1,2,3,4,5,6\}$ , $B = \{1,2,3,4,5,6\}$ .   
d) $A = \{1\}$ , $B = \{1, 2, 3, 4, 5, 6\}$

72. 当 $A$ 和 $B$ 为有限集时，证明 $\mathrm{a} \sim \mathrm{d}$ 中的每个命题均成立。

a) $J(A, A) = 1$ 和 $d_{I}(A, A) = 0$   
b) $J(A,B) = J(B,A)$ 和 $d_{I}(A,B) = d_{I}(B,A)$   
c) $J(A,B) = 1$ 和 $d_{I}(A,B) = 0$ 当且仅当 $A = B$   
d) $0 \leqslant J(A, B) \leqslant 1$ 和 $0 \leqslant d_{J}(A, B) \leqslant 1$

$\star \star \mathbf{e}$ 试证明如果 $A$ 、 $B$ 和 $C$ 是集合，则 $d_{J}(A,C)\leqslant d_{J}(A,B) + d_{J}(B,C)$ （这个不等式就是著名的三角形不等式，连同上述的a、b、c，蕴含着 $d_{J}$ 是一个度量值）。

人工智能中使用模糊集合。全集 $U$ 中每个元素在模糊集合 $S$ 中都有个隶属度，即0和1之间（包括0和1）的实数。模糊集合 $S$ 的表示法是列出元素及其隶属度(隶属度为0的元素不列)。例如，用{0.6Alice，0.9Brian，0.4Fred，0.1Oscar，0.5Rita}表示名人集合 $F$ ，说明Alice在 $F$ 中的隶属度为0.6，Brian在 $F$ 中的隶属度为0.9，Fred在 $F$ 中的隶属度为0.4，Oscar在 $F$ 中的隶属度为0.1，而Rita在 $F$ 中的隶属度为0.5(因此这些人里Brian最出名而Oscar最不出名)。再假定 $R$ 是富人集合， $R = \{0.4Alice,0.8Brian,0.2Fred,0.9Oscar,0.7Rita\}$ 。

73. 模糊集合 $S$ 的补集是集合 $\overline{S}$ ，元素在 $\overline{S}$ 中的隶属度等于1减去该元素在 $S$ 中的隶属度。求 $\overline{F}$ （不出名者的模糊集合）和 $\overline{R}$ （不富裕者的模糊集合）。  
74. 模糊集合 $S$ 和 $T$ 的并集是模糊集合 $S \cup T$ ，其中每个元素的隶属度是该元素在 $S$ 和 $T$ 中成员度的最大值。求名人或富人的模糊集合 $F \cup R$ 。  
75. 模糊集合 $S$ 和 $T$ 的交集是模糊集合 $S \cap T$ ，其中每个元素的隶属度是该元素在 $S$ 和 $T$ 中的成员度的最小值。求既出名又富裕者的模糊集合 $F \cap R$ 。

# 2.3 函数

# 2.3.1 引言

在许多情况下我们都会为一个集合的每个元素指派另一个集合（可以就是第一个集合）中的一个特定元素。例如，假定对离散数学课的每个学生指派一个从 $\{A, B, C, D, F\}$ 中字母作为他的得分。再假定 Adams 的得分是 $A$ ，Chou 的得分是 $C$ ，Goodfriend 的得分是 $B$ ，Rodriguez 的得分是 $A$ ，而 Stevens 的得分是 $F$ 。这一得分指派如图 1 所示。

这种指派就是函数的一个例子。在数学和计算机科学中函数的概念特别重要。例如在离散数学中函数用于定义像序列和字符串这样的离散结构。函数还可用于表示计算机需要多少时间来求解给定规模的问题。许多计算机程序和子程序被设计用来计算函数值。递归函数是基于自身来定义的函数，在计算机科学中应用广泛，我们会在第5章讨论。这一节只是回顾一下离散数学中会用到的有关函数的基本概念。

定义1 令 $A$ 和 $B$ 为非空集合。从 $A$ 到 $B$ 的函数 $f$ 是对元素的一种指派，对 $A$ 的每个元素恰好指派 $B$ 的一个元素。如果 $B$ 中元素 $b$ 是唯一由函数 $f$ 指派给 $A$ 中元素 $a$ 的，则我们就写成 $f(a) = b$ 。如果 $f$ 是从 $A$ 到 $B$ 的函数，就写成 $f: A \to B$ 。

评注 函数有时也称为映射（mapping）或者变换（transformation）。

Assessment

有许多描述函数的方式。有时候明确说明指派关系（如图1所示）。通常我们会给出一个公式来定义函数，如 $f(x) = x + 1$ 。有时候也用计算机程序来描述函数。

函数 $f: A \to B$ 也能由从 $A$ 到 $B$ 的关系来定义。回顾2.1节 $A$ 到 $B$ 的关系就是集合 $A \times B$ 的子集。对于 $A$ 到 $B$ 的关系，如果对每一个元素 $a \in A$ 都有且仅有一个序偶 $(a, b)$ ，则它就定义了 $A$ 到 $B$ 的一个函数 $f$ 。这个函数通过指派 $f(a) = b$ 来定义，其中 $(a, b)$ 是关系中唯一以 $a$ 为第一个元素的序偶。

定义2 如果 $f$ 是从 $A$ 到 $B$ 的函数，我们说 $A$ 是 $f$ 的定义域（domain），而 $B$ 是 $f$ 的陪域（codomain）。如果 $f(a) = b$ ，我们说 $b$ 是 $a$ 的像(image)，而 $a$ 是 $b$ 的原像(preimage)。 $f$ 的值域(range)或像是 $A$ 中元素的所有像的集合。如果 $f$ 是从 $A$ 到 $B$ 的函数，我们说 $f$ 把 $A$ 映射(map)到 $B$ 。

![](7eb91019b92eadb32eaee97feb50625ce5bf6d693c218ad9dcf59678ea7e2892.jpg)  
图2表示 $A$ 到 $B$ 的函数。  
图1 离散数学课程成绩的指派

![](ffbbb370697b27c7bea99e7a7a30848611aec0f4c33ea33d89b2f22204aae543.jpg)  
图2 函数 $f$ 把 $A$ 映射到 $B$

评注 注意从 $A$ 到 $B$ 的函数的陪域是这类函数所有可能的值的集合（即 $B$ 的所有元素），而值域则是对所有 $a \in A$ 的 $f(a)$ 值的集合，并且总是陪域的子集。亦即，陪域是函数的可能值的集合，而值域是所有那些能作为定义域中至少一个元素的 $f$ 函数值的陪域中元素的集合。

定义函数的时候，我们需要指定它的定义域、陪域、定义域中元素到陪域的映射。当两个函数有相同的定义域、陪域，定义域中的每个元素映射到陪域中相同的元素时，这两个函数是相等的。注意，如果改变函数的定义域或陪域，那么将得到一个不同的函数。如果改变元素的映射关系，也会得到一个不同的函数。

例 $1\sim 5$ 提供了函数的例子。在每个例子中，我们都描述了定义域、陪域、值域和定义域中元素的赋值。

例1引用本节开头的例子中给学生打分的函数，描述其定义域、陪域、值域。

解 令 $G$ 为函数，表示在离散数学课上一个学生的得分。例如 $G(\mathrm{Adams}) = A$ 。则 $G$ 的定义域是集合 $\{\mathrm{Adams}, \mathrm{Chou}, \mathrm{Goodfriend}, \mathrm{Rodriguez}, \mathrm{Stevens}\}$ ，陪域是集合 $\{A, B, C, D, F\}$ 。 $G$ 的值域是 $\{A, B, C, F\}$ ，因为除了 $D$ 以外每个分数值被指派给某个学生。

例2 令 $R$ 为包含序偶（Abdul，22），（Brenda，24），（Carla，21），（Desire，22），（Eddie，24）和(Felicia，22)的一个关系。这里每一对包括学生及其年龄。那么，该关系 $R$ 确定的函数是什么？

解 如果 $f$ 是由这个关系定义的函数，则 $f(\text{Abdul}) = 22$ ， $f(\text{Brenda}) = 24$ ， $f(\text{Carla}) = 21$ ， $f(\text{Desire}) = 22$ ， $f(\text{Eddie}) = 24$ ， $f(\text{Felicia}) = 22$ 。（这里 $f(x)$ 是 $x$ 的年龄，其中 $x$ 是学生。）定义域为集合 $\{\text{Abdul}, \text{Brenda}, \text{Carla}, \text{Desire}, \text{Eddie}, \text{Felicia}\}$ 。还需要指定一个陪域，包含学生所有可能的年龄。因为所有学生的年龄很可能小于100岁，我们可以取小于100的正整数作为陪域。（注意，我们也可以选择不同的陪域，如所有正整数的集合或者 $10\sim 90$ 的正整数的集合，但是这会改变函数。采用这个陪域使得我们以后可以通过增加更多学生的名字和年龄来扩展函数。）这里定义的函数的值域是这些学生的不同年龄的集合，即集合 $\{21, 22, 24\}$ 。

例3 令 $f$ 为函数，给长度大于或等于2的比特串指派其最后两位。例如， $f(11010) = 10$

那么， $f$ 的定义域就是所有长度大于或等于2的比特串的集合，而陪域和值域都是集合{00，01，10，11}

例4 令函数 $f: \mathbf{Z} \rightarrow \mathbf{Z}$ 给每个整数指派其平方。于是 $f(x) = x^2$ ，这里 $f$ 的定义域是所有整数的集合， $f$ 的陪域是所有整数的集合， $f$ 的值域是所有那些完全平方数的整数集合，即 $\{0, 1, 4, 9, \dots\}$ 。

例5 函数的定义域和陪域往往用程序语言描述的。例如Java语句

$$
\operatorname {i n t} \text {f l o o r (f l o a t r e a l)} \{\dots \}
$$

和 $\mathrm{C} + +$ 函数语句

$$
\operatorname {i n t} \text {f l o o r (f l o a t x)} \{\dots \}
$$

说的都是floor函数的定义域是(由浮点数表示的)实数集合，而它的陪域是整数集合。

一个函数称为是实值函数如果其陪域是实数集合，称为整数值函数如果其陪域是整数集合。具有相同定义域的两个实值函数或两个整数值函数可以相加和相乘。

定义3 令 $f_{1}$ 和 $f_{2}$ 是从 $A$ 到 $\mathbf{R}$ 的函数，那么 $f_{1} + f_{2}$ 和 $f_{1}f_{2}$ 也是从 $A$ 到 $\mathbf{R}$ 的函数，其定义为对于任意 $x \in A$

$$
\begin{array}{l} \left(f _ {1} + f _ {2}\right) (x) = f _ {1} (x) + f _ {2} (x) \\ \left(f _ {1} f _ {2}\right) (x) = f _ {1} (x) f _ {2} (x) \\ \end{array}
$$

注意， $f_{1} + f_{2}$ 和 $f_{1}f_{2}$ 的定义是利用 $f_{1}$ 和 $f_{2}$ 在 $x$ 的值来计算它们在 $x$ 的值。

例6 令 $f_{1}$ 和 $f_{2}$ 是从 $\mathbf{R}$ 到 $\mathbf{R}$ 的函数，使得 $f_{1}(x) = x^{2}$ 且 $f_{2}(x) = x - x^{2}$ 。函数 $f_{1} + f_{2}$ 和 $f_{1}f_{2}$ 是什么？

解 从函数的和与积的定义可知

$$
\left(f _ {1} + f _ {2}\right) (x) = f _ {1} (x) + f _ {2} (x) = x ^ {2} + \left(x - x ^ {2}\right) = x
$$

且

$$
\left(f _ {1} f _ {2}\right) (x) = x ^ {2} \left(x - x ^ {2}\right) = x ^ {3} - x ^ {4}
$$

当 $f$ 是一个从 $A$ 到 $B$ 的函数时，可以定义 $A$ 的子集的像。

定义4 令 $f$ 为从 $A$ 到 $B$ 的函数， $S$ 为 $A$ 的一个子集。 $S$ 在函数 $f$ 下的像是由 $S$ 中元素的像组成的 $B$ 的子集。我们用 $f(S)$ 表示 $S$ 的像，于是

$$
f (S) = \{t \mid \exists s \in S (t = f (s)) \}
$$

我们也用简写 $\{f(s) \mid s \in S\}$ 来表示这个集合。

评注 用 $f(S)$ 表示集合 $S$ 在函数 $f$ 下的像可能会有潜在的二义性。这里， $f(S)$ 表示一个集合，而不是函数 $f$ 在集合 $S$ 处的值。

例7 令 $A = \{a, b, c, d, e\}$ 而 $B = \{1, 2, 3, 4\}$ ，且 $f(a) = 2$ ， $f(b) = 1$ ， $f(c) = 4$ ， $f(d) = 1$ 及 $f(e) = 1$ 。子集 $S = \{b, c, d\}$ 的像是集合 $f(S) = \{1, 4\}$ 。

# 2.3.2 一对一函数和映上函数

有些函数不会把同样的值赋给定义域中两个不同元素。这种函数称为一对一的。

定义5 函数 $f$ 称为是一对一(one-to-one)或单射(injection)函数，当且仅当对于 $f$ 的定义域中的所有 $a$ 和 $b$ 有 $f(a) = f(b)$ 蕴含 $a = b$ 。一个函数如果是一对一的，就称为是单射的(injective)。

注意，函数 $f$ 是一对一的当且仅当只要 $a \neq b$ 就有 $f(a) \neq f(b)$ 。这种表达 $f$ 为一对一函数的方式是通过对定义中的蕴含式取逆否命题而来的。

评注 我们可以用量词来表达 $f$ 是一对一的，如 $\forall a \forall b (f(a) = f(b) \rightarrow a = b)$ 或等价地 $\forall a$

![](d5d5b72fd49bd66d53f11ad05fad16914cf53aea087b2511d685669c83ff59d1.jpg)

$\forall b(a \neq b \rightarrow f(a) \neq f(b))$ ，其中论域是函数的定义域。

我们通过一对一的函数和不是一对一的函数示例来说明这个概念。

例8 判断从 $\{a, b, c, d\}$ 到 $\{1, 2, 3, 4, 5\}$ 的函数 $f$ 是否为一对一的，这里 $f(a) = 4$ ， $f(b) = 5$ ， $f(c) = 1$ 而 $f(d) = 3$ 。

解 $f$ 是一对一的，因为 $f$ 在它定义域的四个元素上取不同的值。如图3所示。

例9 判断从整数集合到整数集合的函数 $f(x) = x^2$ 是否为一对一的。

![](ecad092f5440c92f03fdda52f3a18b2885377d95abc19828317ab1cc296fa8a7.jpg)  
图3 一个一对一函数

解 函数 $f(x) = x^{2}$ 不是一对一的，因为 $f(1) = f(-1) = 1$ ，但 $1 \neq -1$ 。

评注 函数 $f(x) = x^{2}$ 在定义域 $\mathbf{Z}^{+}$ 上是一对一的（参见例12的解释）。这个函数和例9的函数不同，因为其定义域不同。

例10 判断实数集合到它自身的函数 $f(x) = x + 1$ 是否为一对一函数。

解 假设实数 $x$ 和 $y$ 使得 $f(x) = f(y)$ ，于是有 $x + 1 = y + 1$ 。这意味着 $x = y$ 。故， $f(x) = x + 1$ 是 $\mathbf{R}$ 到 $\mathbf{R}$ 的一对一函数。

例11 假设从一组只能有单个工人完成的工作集合中为一组雇员中的每个工人指派一项工作。这种情况下，为每个工人指派一项工作的函数就是一对一的。要了解这一点，注意如果 $x$ 和 $y$ 是两个不同的工人，则 $f(x) \neq f(y)$ ，因为两个工人 $x$ 和 $y$ 必须被指派不同的工作。

现在我们来给出一些条件保证函数为一对一的。

定义6 定义域和陪域都是实数集子集的函数 $f$ 称为是递增的，如果对 $f$ 的定义域中的 $x$ 和 $y$ ，当 $x < y$ 时有 $f(x) \leqslant f(y)$ ；称为是严格递增的，如果当 $x < y$ 时有 $f(x) < f(y)$ 。类似地， $f$ 称为是递减的，如果对 $f$ 的定义域中的 $x$ 和 $y$ ，当 $x < y$ 时有 $f(x) \geqslant f(y)$ ；称为是严格递减的，如果当 $x < y$ 时有 $f(x) > f(y)$ （定义中严格一词意味着严格不等式）。

评注 一个函数 $f$ 是递增的，如果 $\forall x \forall y (x < y \rightarrow f(x) \leqslant f(y))$ ；是严格递增的，如果 $\forall x \forall y (x < y \rightarrow f(x) < f(y))$ ；是递减的，如果 $\forall x \forall y (x < y \rightarrow f(x) \geqslant f(y))$ ；是严格递减的如果 $\forall x \forall y (x < y \rightarrow f(x) > f(y))$ 。这里论域均为函数 $f$ 的定义域。

例12 从 $\mathbf{R}^{+}$ 到 $\mathbf{R}^{+}$ 的函数 $f(x) = x^{2}$ 是严格递增的。要了解这点，假设 $x$ 和 $y$ 是正实数且 $x < y$ 。不等式两边乘上 $x$ ，得 $x^{2} < xy$ 。同样，两边乘上 $y$ ，得 $xy < y^{2}$ 。于是， $f(x) = x^{2} < xy < y^{2} = f(y)$ 。可是，从 $\mathbf{R}$ 到非负实数集的函数 $f(x) = x^{2}$ 不是严格递增的，因为 $-1 < 0$ ，但是 $f(-1) = (-1)^{2} = 1$ 不小于 $f(0) = 0^{2} = 0$ 。

从上述定义可知（参见练习26和27）严格递增的或者严格递减的函数必定是一对一的。但是，一个函数如果不是严格意义上的递增或递减，就不是一对一的了。

有些函数的值域和陪域相等。即陪域中的每个成员都是定义域中某个元素的像。具有这一性质的函数称为映上函数。

定义7 一个从 $A$ 到 $B$ 的函数 $f$ 称为映上(onto)或满射(surjection)函数，当且仅当对每个 $b \in B$ 有元素 $a \in A$ 使得 $f(a) = b$ 。一个函数 $f$ 如果是映上的就称为是满射的（surjective）。

评注 函数 $f$ 是映上的如果 $\forall y \exists x (f(x) = y)$ ，其中 $x$ 的论域是函数的定义域， $y$ 的论域是函数的陪域。

我们现在举几个映上函数和非映上函数的例子。

例13 令 $f$ 为从 $\{a, b, c, d\}$ 到 $\{1, 2, 3\}$ 的函数，其定义为 $f(a) = 3$ ， $f(b) = 2$ ， $f(c) = 1$ 及 $f(d) = 3$ 。 $f$ 是映上函数吗？

![](40de8010017e99be285a8691a7cf95dea11eb8a32b71996b74e7cdb2137e620f.jpg)

解由于陪域中所有3个元素均为定义域中元素的像，所以 $f$ 是映上的。如图4所示。

注意，如果陪域是 $\{1,2,3,4\}$ 的话， $f$ 就不是映上的了。

例14 从整数集到整数集的函数 $f(x) = x^2$ 是映上的吗？

解 函数 $f$ 不是映上的，因为没有整数 $x$ 使 $x^{2} = -1$ 。

例15 从整数集到整数集的函数 $f(x) = x + 1$ 是映上的吗？

解 这个函数是映上的，因为对每个整数 $y$ 都有一个整数 $x$ 使得 $f(x) = y$ 。要了解这一点，只要注意 $f(x) = y$ 当且仅当 $x + 1 = y$ ，而这又当且仅当 $x = y - 1$ 。（注意 $y - 1$ 也是一个整数，因而也在 $f$ 的定义域中。）

![](6ab2bb7746e6382896e7362ff2d96ae67df42cb67fda449311d93df5c7c2079e.jpg)  
图4 一个映上函数

例16 考虑例11中将工作指派给工人的函数。函数 $f$ 是映上的，如果对于每项工作都有一名工人被指派这项工作。函数 $f$ 不是映上的，当至少有一项工作没有被指派给工人时。

定义8 函数 $f$ 是一一对应(one-to-one correspondence)或双射(bijection)函数，如果它既是一对一的又是映上的。这样的函数称为是双射的（bijective）。

例17和例18阐述双射函数的概念。

例17 令 $f$ 为从 $\{a, b, c, d\}$ 到 $\{1, 2, 3, 4\}$ 的函数，其定义为 $f(a) = 4$ ， $f(b) = 2$ ， $f(c) = 1$ 及 $f(d) = 3$ 。 $f$ 是双射函数吗？

解 函数 $f$ 是一对一的和映上的。它是一对一的，因为定义域中没有两个值被指派相同的函数值；它是映上的，因为陪域中所有4个元素均为定义域中元素的像。于是， $f$ 是双射函数。

图5给出了4个函数，其中第一个是一对一的，但不是映上的；第二个是映上的，但不是一对一的；第三个既是一对一的，也是映上的；第四个既不是一对一的，也不是映上的。图5中的第五个对应关系不是函数，因为它给一个元素指派了两个不同的元素。

![](6955a13171cd20f6361d367b3f4b0e3596fa102e837d99fcc7ab5ba47c97358c.jpg)  
a)一对一，非映上  
b)映上，非一对一

![](905d85aecbc1408d384f4eb27dd085c11a376ad8f7e91cbc550945cf05b7a4e3.jpg)  
c)一对一，映上

![](b95cfcd7ac3a8079cff2fd92a3c7b3e316185140ddd1c09a774e29f07280b65c.jpg)  
d)既非一对一，也非映上

图5 不同类型的对应关系的例子  
![](8838897e94287243c6937dc23ae938497cc9f05fd7e5b63e41c304cb7daa3db6.jpg)  
e)不是函数

假定 $f$ 是从集合 $A$ 到自身的函数。如果 $A$ 是有限的，那么 $f$ 是一对一的当且仅当它是映上的。（可由练习74的结论推出。）当 $A$ 为无限的时，这一结论不一定成立（将在2.5节中予以证明）。

例18 令 $A$ 为集合。 $A$ 上的恒等函数是函数 $\iota_A: A \to A$ ，其中对所有的 $x \in A$

$$
\iota_ {A} (x) = x
$$

换言之，恒等函数 $\iota_{A}$ 是这样的函数，它给每个元素指派到自身。函数 $\iota_{A}$ 是一对一的和映上的，所以它是双射函数。（注意 $\iota$ 是一个希腊字母，读作 iota。）

为方便今后的引用，我们这里总结一下为了建立一个函数是否为一对一的和映上的需要证明些什么。参照这个总结回顾例 $8\sim 18$ 是很有启发的。

假设 $f: A \to B$ 。

要证明 $f$ 是单射的：证明对于任意 $x, y \in A$ ，如果 $f(x) = f(y)$ ，则 $x = y$ 。

要证明 $f$ 不是单射的：找到特定的 $x$ ， $y\in A$ ，使得 $x\neq y$ 且 $f(x) = f(y)$ 。

要证明 $f$ 是满射的：考虑任意元素 $y \in B$ ，并找到一个元素 $x \in A$ 使得 $f(x) = y$ 。

要证明 $f$ 不是满射的：找到一个特定的 $y \in B$ ，使得对于任意 $x \in A$ 有 $f(x) \neq y$ 。

# 2.3.3 反函数和函数合成

现在考虑从集合 $A$ 到集合 $B$ 的一一对应 $f$ 。由于 $f$ 是映上函数，所以 $B$ 的每个元素都是 $A$ 中某元素的像。又由于 $f$ 还是一对一的函数，所以 $B$ 的每个元素都是 $A$ 中唯一一个元素的像。于是，我们可以定义一个从 $B$ 到 $A$ 的新函数，把 $f$ 给出的对应关系颠倒过来。这就导致了定义9。

定义9 令 $f$ 为从集合 $A$ 到集合 $B$ 的一一对应。 $f$ 的反函数（或逆函数）是这样的函数，它指派给 $B$ 中元素 $b$ 的是 $A$ 中使得 $f(a) = b$ 唯一元素 $a$ 。 $f$ 的反函数用 $f^{-1}$ 表示。于是，当 $f(a) = b$ 时 $f^{-1}(b) = a$ 。

评注 切勿将函数 $f^{-1}$ 与 $1 / f$ 混淆，后者表示定义域中每个元素 $x$ 对应函数值为 $1 / f(x)$ 的一个函数。注意仅当 $f(x)$ 为非0实数时后者才有意义。

图6解释了反函数的概念。

如果函数 $f$ 不是一一对应的，就无法定义反函数。如果 $f$ 不是一一对应的，那么它或者不是一对一的，或者不是映上的。如果 $f$ 不是一对一的，则陪域中的某元素 $b$ 是定义域中多个元素的像。如果 $f$ 不是映上的，那么对于陪域中某个元素 $b$ ，定义域中不存在元素 $a$ 使 $f(a) = b$ 。因此，如果 $f$ 不是一一对应的，就不能为陪域中每个元素 $b$ 都指派定义域中唯一的

![](44c57366f09621cfd78ef19d029baee9161c9992c6827de665c2f5af06e1d131.jpg)  
图6 函数 $f^{-1}$ 是函数 $f$ 的反函数

元素 $a$ 使 $f(a) = b$ （因为对某个 $b$ 或者有多个这样的 $a$ ，或者没有这样的 $a$ ）。

一一对应关系被称为可逆的(invertible)，因为可以定义这个函数的反函数。如果函数不是一一对应关系，就说它是不可逆的(not invertible)，因为这样的函数不存在反函数。

例19 令 $f$ 为从 $\{a, b, c\}$ 到 $\{1, 2, 3\}$ 的函数， $f(a) = 2$ ， $f(b) = 3$ 及 $f(c) = 1$ 。 $f$ 可逆吗？如果可逆，其反函数是什么？

解 $f$ 是可逆的，因为它是一个一一对应关系。反函数 $f^{-1}$ 颠倒 $f$ 给出的对应关系，所以 $f^{-1}(1) = c$ ， $f^{-1}(2) = a$ 而 $f^{-1}(3) = b$ 。

例20 令 $f: \mathbf{Z} \to \mathbf{Z}$ ，使得 $f(x) = x + 1$ 。 $f$ 可逆吗？如果可逆，其反函数是什么？

解 $f$ 可逆，因为由例10和例15已证明它是一一对应关系。要颠倒对应关系，设 $y$ 是 $x$ 的像，则 $y = x + 1$ 。从而 $x = y - 1$ 。这意味着 $y - 1$ 是在 $f^{-1}$ 之下赋予 $y$ 的 $\mathbf{Z}$ 的唯一元素。因此， $f^{-1}(y) = y - 1$ 。

例21 令 $f$ 是从 $\mathbf{R}$ 到 $\mathbf{R}$ 的函数， $f(x) = x^2$ 。 $f$ 可逆吗？

解 由于 $f(-2) = f(2) = 4$ ，所以 $f$ 不是一对一的。要想定义反函数，就得为4指派两个元素。因此 $f$ 是不可逆的。（注意我们也可以证明因为它不是映上的，所以 $f$ 不是可逆的。）

有时候，可以通过限制函数的定义域或者陪域或者两者，来获得一个可逆的函数，如例22所示。

例22 证明如果我们将例21中的函数 $f(x) = x^2$ 限定为从所有非负实数集合到所有非负实数集合的函数，那么 $f$ 就是可逆的。

解 从非负实数集合到非负实数集合的函数 $f(x) = x_{-}^{2}$ 是一对一的。要想了解这点，注意

如果 $f(x) = f(y)$ ，那么 $x^{2} = y^{2}$ 。所以 $x^{2} - y^{2} = (x + y)(x - y) = 0$ 。这意味着 $x + y = 0$ 或者 $x - y = 0$ ，故 $x = y$ 或者 $x = -y$ 。因为 $x$ 和 $y$ 都是非负的，那必然有 $x = y$ 。因此，这个函数是一对一的。再者，当陪域是所有非负实数集合时， $f(x) = x^{2}$ 是映上的，因为每一个非负实数有一个平方根。即如果 $y$ 是非负实数，则存在一个非负实数 $x$ 使得 $x = \sqrt{y}$ ，也就是 $x^{2} = y$ 。因为从非负实数集合到非负实数集合的函数 $f(x) = x^{2}$ 是一对一的和映上的，所以它是可逆的。它的反函数由规则 $f^{-1}(y) = \sqrt{y}$ 给出。

定义10 令 $g$ 为从集合 $A$ 到集合 $B$ 的函数， $f$ 是从集合 $B$ 到集合 $C$ 的函数，函数 $f$ 和 $g$ 的合成（composition）记作 $f \circ g$ ，定义为对任意 $a \in A$ ，有

$$
(f \circ g) (a) = f (g (a))
$$

换句话说，函数 $f \circ g$ 指派给 $A$ 的元素 $a$ 的就是 $f$ 指派给 $g(a)$ 的元素。 $f \circ g$ 的定义域是 $g$ 的定义域。 $f \circ g$ 的值域是 $g$ 的值域在 $f$ 下的像。即为了找到 $(f \circ g)(a)$ ，我们首先对 $a$ 应用函数 $g$ 得到 $g(a)$ ，然后再对结果 $g(a)$ 应用函数 $f$ 得到 $(f \circ g)(a) = f(g(a))$ 。注意， $f \circ g$ 没有定义除非 $g$ 的值域是 $f$ 的定义域的子集。图7阐述了函数的合成。

![](fbc87d78e75dc678aa5589a38945c5d115a495077973f5ddf16b8e3577e3b6e0.jpg)  
图7 函数 $f$ 和 $g$ 的合成

例23 令 $g$ 为从集合 $\{a, b, c\}$ 到它自身的函数， $g(a) = b$ ， $g(b) = c$ ，且 $g(c) = a$ 。令 $f$ 为从集合 $\{a, b, c\}$ 到 $\{1, 2, 3\}$ 的函数， $f(a) = 3$ ， $f(b) = 2$ ，且 $f(c) = 1$ 。 $f$ 和 $g$ 的合成是什么？ $g$ 和 $f$ 的合成是什么？

解合成函数 $f\circ g$ 的定义是 $(f\circ g)(a) = f(g(a)) = f(b) = 2,(f\circ g)(b) = f(g(b)) =$ $f(c) = 1$ ，且 $(f\circ g)(c) = f(g(c)) = f(a) = 3$ 。

注意， $g\circ f$ 是没有定义的，因为 $f$ 的值域不是 $g$ 的定义域的子集。

例24 令 $f$ 和 $g$ 为从整数集到整数集的函数，其定义为 $f(x) = 2x + 3$ 和 $g(x) = 3x + 2$ 。 $f$ 和 $g$ 的合成是什么？ $g$ 和 $f$ 的合成是什么？

解 合成函数 $f \circ g$ 和 $g \circ f$ 均有定义。即

$$
(f \circ g) (x) = f (g (x)) = f (3 x + 2) = 2 (3 x + 2) + 3 = 6 x + 7
$$

及

$$
(g \circ f) (x) = g (f (x)) = g (2 x + 3) = 3 (2 x + 3) + 2 = 6 x + 1 1
$$

评注 尽管例24中对函数 $f$ 和 $g$ 而言 $f \circ g$ 和 $g \circ f$ 均有定义， $f \circ g$ 和 $g \circ f$ 并不相等。换言之，对函数的合成而言交换律不成立。

例25 设函数 $f$ 和 $g$ 定义如下 $f: \mathbf{R} \to \mathbf{R}^{+} \cup \{0\}$ , $f(x) = x^{2}$ ; $g: \mathbf{R}^{+} \cup \{0\} \to \mathbf{R}$ , $g(x) = \sqrt{x}$ (这里 $\sqrt{x}$ 是 $x$ 的非负平方根)。( $f \circ g$ )(x) 是什么函数?

解 $(f\circ g)(x) = f(g(x))$ 的定义域是 $g$ 的定义域，即 $\mathbf{R}^{+}\bigcup \{0\}$ ，非负实数集。如果 $x$ 是非负实数，则 $(f\circ g)(x) = f(g(x)) = f(\sqrt{x}) = (\sqrt{x})^2 = x$ 。 $f\circ g$ 的值域是 $g$ 的值域在 $f$ 下的像，即集合 $R^{+}\bigcup \{0\}$ ，非负实数集。总之， $f\circ g$ ： $\mathbf{R}^{+}\bigcup \{0\} \to \mathbf{R}^{+}\bigcup \{0\}$ ，且对所有 $x$ 有 $f(g(x)) = x$

在构造函数和它的反函数的合成时，不论以什么次序合成，得到的都是恒等函数。要看清这一点，假定 $f$ 是从集合 $A$ 到集合 $B$ 的一一对应关系。那么存在反函数 $f^{-1}$ 且是从 $B$ 到 $A$ 的一一对应关系。反函数把原函数的对应关系颠倒过来，所以当 $f(a) = b$ 时 $f^{-1}(b) = a$ ，当 $f^{-1}(b) = a$ 时， $f(a) = b$ 。因此，

$$
(f ^ {- 1} \circ f) (a) = f ^ {- 1} (f (a)) = f ^ {- 1} (b) = a
$$

及

$$
(f \circ f ^ {- 1}) (b) = f (f ^ {- 1} (b)) = f (a) = b
$$

因此 $f^{-1} \circ f = \iota_A$ 和 $f \circ f^{-1} = \iota_B$ ，其中 $\iota_A$ 和 $\iota_B$ 分别是集合 $A$ 和 $B$ 上的恒等函数。这就是说， $(f^{-1})^{-1} = f$ 。

# 2.3.4 函数的图

可以将一个 $A \times B$ 中的序偶集合和每个从 $A$ 到 $B$ 的函数关联起来。这个序偶集合称为该函数的图（graph），并且经常用图来表示以帮助理解函数的行为。

定义11 令 $f$ 为从集合 $A$ 到集合 $B$ 的函数，函数 $f$ 的图是序偶集合 $\{(a, b) \mid a \in A$ 且 $f(a) = b\}$ 。

根据定义，从 $A$ 到 $B$ 的函数 $f$ 的图是 $A \times B$ 中包含下面序偶的子集，其中序偶中第二项等于由 $f$ 指派给第一项的 $B$ 中的元素。还有，注意一个从 $A$ 到 $B$ 的函数的图和由函数 $f$ 确定的从 $A$ 到 $B$ 的关系是一样的，如2.3.1节所描述的。

例26 展示从整数集到整数集的函数 $f(n) = 2n + 1$ 的图。

解 $f$ 的图是形为 $(n, 2n + 1)$ 的序偶的集合，其中 $n$ 为整数。该图如图8所示。

例27 展示整数集到整数集的函数 $f(x) = x^2$ 的图。

解 $f$ 的图是形为 $(x, f(x)) = (x, x^2)$ 的序偶的集合，其中 $x$ 为整数。该图如图9所示。

![](3fddb0881399da4a6845b66c36a5abd88c51faf7923dca39e68948048a1532df.jpg)  
图8 从 $\mathbf{Z}$ 到 $\mathbf{Z}$ 的函数 $f(n) = 2n + 1$ 的图

![](84f5cea11f9f658da95f99b8df6e6e24cd1c7eb68c8ebdc0a1e1f8f174808acd.jpg)  
图9 从 $\mathbf{Z}$ 到 $\mathbf{Z}$ 的 $f(x) = x^{2}$ 的图

# 2.3.5 一些重要的函数

下面介绍离散数学中两个重要的函数，即下取整函数和上取整函数。令 $x$ 为实数。下取整函数把 $x$ 向下取到小于或等于 $x$ 又最接近 $x$ 的整数，而上取整函数则把 $x$ 向上取到大于或等于 $x$ 又最接近 $x$ 的整数。在对象计数时常会用到这两个函数。在分析求解一定规模的问题的计算

机过程所需步骤数时，这两个函数起着重要的作用。

定义12 下取整函数（floor）指派给实数 $x$ 的是小于或等于 $x$ 的最大整数。下取整函数在 $x$ 的值用 $\lfloor x\rfloor$ 表示。上取整函数（ceiling）指派给实数 $x$ 的是大于或等于 $x$ 的最小整数。上取整函数在 $x$ 的值用 $\lceil x\rceil$ 表示。

评注 下取整函数也常称为最大整数函数，这时经常用 $[x]$ 表示。

例28 下面是下取整函数和上取整函数的一些值：

$$
\left\lfloor \frac {1}{2} \right\rfloor = 0, \left\lceil \frac {1}{2} \right\rceil = 1, \left\lfloor - \frac {1}{2} \right\rfloor = - 1, \left\lceil - \frac {1}{2} \right\rceil = 0, \left\lfloor 3. 1 \right\rfloor = 3, \left\lceil 3. 1 \right\rceil = 4, \left\lfloor 7 \right\rfloor = 7, \left\lceil 7 \right\rceil = 7
$$

图10显示的是下取整函数和上取整函数的图。图10a显示下取整函数 $[x]$ 的图。注意这个函数在整个 $[n, n + 1)$ 区间内取同样的值 $n$ ，然后当 $x = n + 1$ 时，取值跳到 $n + 1$ 。图10b显示上取整函数 $[x]$ 的图像。这个函数在整个 $(n, n + 1]$ 区间内取同样的值 $n + 1$ ，然后当 $x$ 略大于 $n + 1$ 时，取值跳到 $n + 2$ 。

![](cd3c8775929b09cf988c90de44fcf2bb00c01febd37b3ca78f66a4c441e82284.jpg)  
a) $y = [x]$

![](f1c52202301f3a058dd651e542dcff4a25075a623480c19e6daeb919c43393cc.jpg)  
b) $y = [x]$   
图10 a)下取整函数图像；b)上取整函数图像

下取整函数和上取整函数有广泛的应用，包括涉及数据存储和数据传输的应用。考虑例29和例30，这是研究数据库和数据通信问题时要完成的典型的基本计算。

例27 存储计算机磁盘上的或通过数据网络上传输的数据通常表示为字节串。每个字节由8比特组成。要表示100比特的数据需要多少字节？

解 要决定需要的字节数，就要找出最小的整数，它至少要与100除以8的商一样大，8是每个字节的比特数。于是，需要的字节数是 $\lceil 100 / 8\rceil = \lceil 12.5\rceil = 13$

例30 在异步传输模式（ATM）（用于骨干网络上的通信协议）下，数据按长度为53个字节

的信元进行组织。在网络连接上以 $500\mathrm{kbit / s}$ 的速率传输数据时1分钟能传输多少个ATM信元？

解1分钟内这个网络连接能传输 $500000\times 60 =$ 30000000比特。每个ATM信元的长度是53字节，也就是 $53\times 8 = 424$ 比特。要计算1分钟能传输多少个信元，需计算不超过3000000除以424的商的最大整数。因此，在 $500\mathrm{kbit / s}$ 的网络连接上1分钟能传输的ATM信元数是 $\lfloor 3000000 / 424\rfloor = 70754$ □

表1给出了下取整函数和上取整函数的一些简单而又重要的性质，这里 $x$ 代表一个实数。由于这两个函数在离散数学中出现得十分频繁，所以看一看表中

表1上取整函数和下取整函数的有用性质（n为整数，x为实数）  

<table><tr><td>(1a) [x] = n 当且仅当 n ≤ x &lt; n + 1</td></tr><tr><td>(1b) [x] = n 当且仅当 n - 1 &lt; x ≤ n</td></tr><tr><td>(1c) [x] = n 当且仅当 x - 1 &lt; n ≤ x</td></tr><tr><td>(1d) [x] = n 当且仅当 x ≤ n &lt; x + 1</td></tr><tr><td>(2) x - 1 &lt; [x] ≤ x ≤ [x] &lt; x + 1</td></tr><tr><td>(3a) [−x] = - [x]</td></tr><tr><td>(3b) [−x] = - [x]</td></tr><tr><td>(4a) [x + n] = [x] + n</td></tr><tr><td>(4b) [x + n] = [x] + n</td></tr></table>

的恒等式是有益的。表中的每条性质都可以用下取整函数和上取整函数的定义来建立。性质(1a)、(1b)、(1c)和(1d)可以直接由定义得出。例如，(1a)说的是 $\lfloor x\rfloor = n$ 当且仅当整数 $n$ 小于等于 $x$ 而 $n + 1$ 大于 $x$ 。这恰恰就是 $n$ 为不超过 $x$ 的最大整数的含义，也就是 $\lfloor x\rfloor = n$ 的定义。类似地，可以建立性质(1b)、(1c)和(1d)。我们使用直接证明法来证明性质(4a)。

证明 假定 $\lfloor x\rfloor = m$ ，其中 $m$ 为整数。由性质(1a)知， $m\leqslant x <   m + 1$ 。在这两个不等式的三项数值上加上 $n$ ，可得 $m + n\leqslant x + n <   m + n + 1$ 。再次利用性质(1a)，可知 $\lfloor x + n\rfloor = m + n =$ $\lfloor x\rfloor +n$ 。从而完成证明。其他性质的证明留作练习。

除了表1列出的性质外，上取整函数和下取整函数还有许多其他有用的性质。也有许多关于这些函数的语句看似正确而实则不然。我们将在例29和例30中考虑与上取整函数和下取整函数有关的语句。

在考虑下取整函数相关的语句时，一个有用的方法是令 $x = n + \varepsilon$ ，其中 $n = \lfloor x\rfloor$ 是一个整数，而 $\varepsilon$ 是 $x$ 的分数部分，满足不等式 $0\leqslant \varepsilon < 1$ 。类似地，考虑上取整函数相关的语句时，通常写 $x = n - \varepsilon$ ，其中 $n = \lceil x\rceil$ 且 $0\leqslant \varepsilon < 1$ 。

例31 证明如果 $x$ 是一个实数，则 $\lfloor 2x\rfloor = \lfloor x\rfloor +\lfloor x + \frac{1}{2}\rfloor .$

解 要证明这个语句，令 $x = n + \varepsilon$ ，其中 $n$ 是正整数且 $0 \leqslant \varepsilon < 1$ 。依据 $\varepsilon$ 是小于或者大于等于 $\frac{1}{2}$ ，分别考虑两种情况。（选择这两种情况的原因看证明就明白了。）

首先，考虑 $0 \leqslant \varepsilon < \frac{1}{2}$ 的情况。此时， $2x = 2n + 2\varepsilon$ 且 $\lfloor 2x \rfloor = 2n$ ，因为 $0 \leqslant 2\varepsilon < 1$ 。类似地， $x + \frac{1}{2} = n + \left(\frac{1}{2} + \varepsilon\right)$ ，故 $\lfloor x + \frac{1}{2} \rfloor = n$ ，因为 $0 < \frac{1}{2} + \varepsilon < 1$ 。因此， $\lfloor 2x \rfloor = 2n$ 且 $\lfloor x \rfloor + \lfloor x + \frac{1}{2} \rfloor = n + n = 2n$ 。

接下来，考虑 $\frac{1}{2} \leqslant \varepsilon < 1$ 的情况。此时， $2x = 2n + 2\varepsilon = (2n + 1) + (2\varepsilon - 1)$ 。由于 $0 \leqslant 2\varepsilon - 1 < 1$ ，可得 $\lfloor 2x \rfloor = 2n + 1$ 。因为 $\lfloor x + \frac{1}{2} \rfloor = \lfloor n + \left(\frac{1}{2} + \varepsilon\right) \rfloor = \lfloor n + 1 + \left(\varepsilon - \frac{1}{2}\right) \rfloor$ 且 $0 \leqslant \varepsilon - \frac{1}{2} < 1$ ，所以可得 $\lfloor x + \frac{1}{2} \rfloor = n + 1$ 。因此， $\lfloor 2x \rfloor = 2n + 1$ 且 $\lfloor x \rfloor + \lfloor x + \frac{1}{2} \rfloor = n + (n + 1) = 2n + 1$ 。证毕。

# Links

詹姆斯·斯特林（James Stirling，1692—1770）詹姆斯·斯特林出生于苏格兰斯特林小镇。他的家人是斯图亚特王室继承不列颠王权思想的坚定支持者。关于斯特林最早的信息是：他于1771年进入牛津大学贝列尔学院并取得了奖学金。然而，后来由于他不愿宣誓效忠不列颠王室而失去了奖学金。1715年，詹姆斯一世发动叛乱，斯特林被控与反叛者通信，而且诋毁英王乔治，但最终他被宣判无罪。尽管由于政治因素使得斯特林无法从牛津大学顺利毕业，但他仍待在那里数年之久。1717年，斯特林发表其处女作，将牛顿对于平面曲线的研究进行了扩展和延伸。后来，斯特林到了威尼斯，因为他被承诺任命为那里的数学研究会主席，不幸的是，那次任命最终成了泡影。虽然如此，斯特林仍然留在了威尼斯并继续他的数学研究。1721年，他进入帕多瓦大学，次年返回格拉斯哥。由于得知意大利玻璃制造业的诸多机密，所以斯特林遭到了玻璃生产商千方百计的暗杀，为避免横祸，他只得飞离意大利。

1724年后期，斯特林移居伦敦十年，教授数学同时积极从事研究。1730年，他发表了他最重要的作品《算法差异论》（MethodusDifferentialis），其中给出了关于无穷级数、求和、插入、求面积等运算的诸多结果。对于 $n!$ 的渐近公式也蕴含其中。除此之外，斯特林也从事万有引力和地球形态的研究，它曾宣称地球是扁圆的但并未证明。1735年，斯特林回到苏格兰并被任命为苏格兰矿务公司的经理，他在该职务上的工作相当出色，甚至发表过有关矿井通风问题的专业论文。与此同时，他继续其数学研究不过放慢了步调。斯特林试图通过建造一系列船闸使得克莱德河能够通航而进行的调查同样引人注目。为感谢他为此所做的工作，格拉斯哥人民赠给他一个银质水壶作为奖励。

Extra Examples

例32 证明或反驳对于所有实数 $x$ 和 $y$ ，有 $\lceil x + y \rceil = \lceil x \rceil + \lceil y \rceil$ 。

解 尽管这个语句看似合理，但它其实是假的。一个反例就是，令 $x = \frac{1}{2}$ 且 $y = \frac{1}{2}$ 。此时 $\lceil x + y\rceil = \left\lceil \frac{1}{2} +\frac{1}{2}\right\rceil = \left\lceil 1\right\rceil = 1$ ，但 $\lceil x\rceil +\lceil y\rceil = \left\lceil \frac{1}{2}\right\rceil +\left\lceil \frac{1}{2}\right\rceil = 1 + 1 = 2.$

本书中还会用到几类函数。其中包括多项式、对数和指数函数。附录2给出了本书中需要用到的这些函数性质的简要回顾。本书中用记号 $\log x$ 表示 $x$ 以2为底的对数，因为2是我们将经常使用的对数的底数。我们用 $\log_b x$ 表示以 $b$ 为底的对数，其中 $b$ 是大于1的任意实数，用 $\ln x$ 表示自然对数。

我们将在本书中常用的另一个函数是阶乘函数 $f:\mathbf{N}\rightarrow \mathbf{Z}^{+}$ ，记为 $f(n) = n!$ 。 $f(n) = n!$ 的值是前 $n$ 个正整数的乘积，因此 $f(n) = 1\cdot 2\dots (n - 1)\cdot n[$ 并且 $f(0) = 0! = 1]$

例33 我们有 $f(1) = 1! = 1$ ， $f(2) = 2! = 1 \cdot 2 = 2$ ， $f(6) = 6! = 1 \cdot 2 \cdot 3 \cdot 4 \cdot 5 \cdot 6 = 720$ ， $f(20) = 1 \cdot 2 \cdot 3 \cdot 4 \cdot 5 \cdot 6 \cdot 7 \cdot 8 \cdot 9 \cdot 10 \cdot 11 \cdot 12 \cdot 13 \cdot 14 \cdot 15 \cdot 16 \cdot 17 \cdot 18 \cdot 19 \cdot 20 = 2432902008176640000$ 。

例33表明阶乘函数随着 $n$ 的增加而迅速递增。阶乘函数的快速递增通过斯特林公式可以看得更加清楚，这是一个由高等数学得出的结果， $n! \sim \sqrt{2\pi n} (n / \mathrm{e})^n$ 。这里，我们用 $f(n) \sim g(n)$ 这样的表示法，意思是随着 $n$ 的无限递增比值 $f(n) / g(n)$ 趋近于1（即 $\lim_{n\to \infty}f(n) / g(n) = 1$ ）。符号～读作“渐近于”。斯特林公式是以18世纪的苏格兰数学家詹姆斯·斯特林的名字命名的。

# 2.3.6 部分函数

用于计算一个函数的程序可能不会对这个函数定义域中所有的元素产生正确的函数值。例如，由于在计算函数时可能导致无限循环或溢出，所以一个程序可能不会产生一个正确的值。类似地，在抽象的数学里，我们也常讨论那些只在实数的一个子集上有定义的函数，如 $1 / x$ 、 $\sqrt{x}$ 和 $\arcsin(x)$ 。还有，我们也可以用到这样的概念，如“幼子”函数，这对于没有孩子的夫妇是无定义的；或者“日出时间”，这对于位于北极圈的地方在某些日期是无定义的。要研究这种情形，我们需要用到部分函数的概念。

定义13 一个从集合 $A$ 到集合 $B$ 的部分函数(partial function) $f$ 是给 $A$ 的一个子集（成为 $f$ 的定义域(domain of definition))中的每个元素 $a$ 指派 $B$ 中唯一的元素 $b$ 。集合 $A$ 和 $B$ 分别称为 $f$ 的域和陪域。我们说 $f$ 对于 $A$ 中但不在 $f$ 的定义域中的元素无定义(undefined)。当 $f$ 的定义域等于 $A$ 时，就说 $f$ 是全函数(total function)。

评注 我们沿用 $f: A \to B$ 来表示 $f$ 是一个从 $A$ 到 $B$ 的部分函数。注意这个和函数的记号是一致的。该记号的上下文可以用来判断 $f$ 是部分函数还是全函数。

例34 函数 $f: \mathbf{Z} \to \mathbf{R}$ ，其中 $f(n) = \sqrt{n}$ 是一个从 $\mathbf{Z}$ 到 $\mathbf{R}$ 的部分函数，这里定义域是非负整数的集合。注意 $f$ 对于负整数无定义。

# 练习

1. 为什么下列问题中的 $f$ 不是从 $\mathbf{R}$ 到 $\mathbf{R}$ 的函数？

a) $f(x) = 1 / x$

b) $f(x) = \sqrt{x}$

c) $f(x) = \pm \sqrt{(2x + 1)}$

2. 判断下面定义的几个 $f$ 是不是从 $\mathbf{Z}$ 到 $\mathbf{R}$ 的函数。

a) $f(n) = \pm n$

b) $f(n) = \sqrt{n^2 + 1}$

c) $f(n) = 1 / (n^2 - 4)$

3. 判断 $f$ 是否为从所有比特串的集合到整数集合的函数：

a) $f(S)$ 是 $S$ 中某个比特0的位置。  
b) $f(S)$ 是 $S$ 中比特1的个数。

c) $f(S)$ 是最小整数 $i$ 使 $S$ 中的第 $i$ 位为1，当 $S$ 是不含比特的空串时 $f(S) = 0$ 。

4. 求下列函数的定义域和值域。（注意在每种情况下，为了求函数定义域，只需确定被该函数指派了值的元素集合。）

a)函数为每个非负整数指派该整数的最后一位数字。  
b)函数为每个正整数指派比它小的最大整数。  
c)函数为每个比特串指派串中比特1的个数。  
d)函数为每个比特串指派串中的比特数。

5. 求下列函数的定义域和值域。（注意在每种情况下，为了求函数定义域，只需确定被该函数指派了值的元素集合。）

a)函数为每个比特串指派串中1的个数与0的个数之差。  
b)函数为每个比特串指派串中0的个数的2倍。  
c)函数为每个比特串指派当把串分成字节(8比特为1个字节)时不够一个字节的比特数。  
d)函数为每个正整数指派不超过该整数的最大完全平方数。

6. 求下列函数的定义域和值域。

a)函数为每正整数序偶指派序偶中的第一个整数。  
b)函数为每个正整数指派该整数中最大的十进数字。  
c)函数为比特串指派串中1的个数与0的个数之差。  
d)函数为每个正整数指派不超过该整数的平方根的最大整数。  
e)函数为比特串指派串中最长的1的子串。

7. 求下列函数的定义域和值域。

a)函数为每对正整数序偶指派这两个整数中的最大数。  
b)函数为每个正整数指派在该整数中未出现的0，1，2，3，4，5，6，7，8，9数字的个数。  
c)函数为比特串指派串中块11出现的次数。  
d)函数为比特串指派串中第一个1的位置值，如果比特串为全0就指派0。

8. 求下列各值：

a)1.1

b) [1.1]

c)[-0.1]

d)[-0.1]

e) [2.99]

f)[-2.99]

g）[1+1]

h）[1+]+

9. 求下列各值：

a)3/4

b) $\lfloor 7 / 8\rfloor$

c)[-3/4]

d)[-7/8]

e)「3」

f) $\lfloor -1\rfloor$

g）[1+3/2]」

h) $\left\lfloor \frac{1}{2} \cdot \left\lfloor 5 / 2 \right\rfloor \right\rfloor$

10. 判断下列从 $\{a, b, c, d\}$ 到它自身的函数是否是一对一的。

$$
\mathrm {a}) f (a) = b, f (b) = a, f (c) = c, f (d) = d
$$

$$
\mathrm {b)} f (a) = b, f (b) = b, f (c) = d, f (d) = c
$$

$$
\mathrm {c}) f (a) = d, f (b) = b, f (c) = c, f (d) = d
$$

11. 练习 10 中哪些函数是映上的？

12. 判断下列 $\mathbf{Z}$ 到 $\mathbf{Z}$ 的函数是否是一对一的。

a) $f(n) = n - 1$

b) $f(n) = n^{2} + 1$

c) $f(n) = n^{3}$

d) $f(n) = \lceil n / 2\rceil$

13. 练习 10 中哪些函数是映上的？

14. 判断在下列情况下 $f: \mathbf{Z} \times \mathbf{Z} \rightarrow \mathbf{Z}$ 是否是映上的？

a) $f(m,n) = 2m - n$

b) $f(m,n) = m^{2} - n^{2}$

c) $f(m,n) = m + n + 1$

d) $f(m,n) = |m| - |n|$

e) $f(m,n) = m^2 -4$

15. 判断在下列情况下函数 $f: \mathbf{Z} \times \mathbf{Z} \rightarrow \mathbf{Z}$ 是否是映上的？

a) $f(m,n) = m + n$

b) $f(m,n) = m^{2} + n^{2}$

c) $f(m,n) = m$

d) $f(m,n) = |n|$

e) $f(m,n) = m - n$

16. 考虑离散数学班上学生集合上的函数。在什么条件下函数是一对一的，如果给学生指派他的

a)移动电话号码

b)学生学号

c)在班上的最后得分

d)家乡

17. 考虑一所学校中老师集合上的函数。在什么条件下函数是一对一的，如果给老师指派他的

a)办公室  
b)陪伴学生进行野外实习时一组巴士中制定的巴士  
c)薪水  
d)社会安全号

18. 为练习16的每个函数指定陪域。在什么情况下这些你指定了陪域的函数是映上的？  
19. 为练习17的每个函数指定陪域。在什么情况下这些你指定了陪域的函数是映上的？

20. 给出从 $\mathbf{N}$ 到 $\mathbf{N}$ 的函数的例子，满足：

a) 一对一但非映上

b) 映上但不一对一

c)既映上又一对一（但不同于恒等函数）

d)既非映上又非一对一

21. 给出从整数集合到正整数集合的函数的显式公式，满足：

a)一对一但非映上

b) 映上但非一对一

c)既映上又一对一

d)既不映上又不一对一

22. 判断下列各函数是否是从 $\mathbf{R}$ 到 $\mathbf{R}$ 的双射函数。

a) $f(x) = -3x + 4$

b) $f(x) = -3x^{2} + 7$

c) $f(x) = (x + 1) / (x + 2)$

d) $f(x) = x^{5} + 1$

23. 判断下列各函数是否是从 $\mathbf{R}$ 到 $\mathbf{R}$ 的双射函数。

a) $f(x) = 2x + 1$

b) $f(x) = x^{2} + 1$

c) $f(x) = x^{3}$

d) $f(x) = (x^{2} + 1) / (x^{2} + 2)$

24. 令 $f: \mathbb{R} \to \mathbb{R}$ 且对所有 $x \in \mathbb{R}$ 有 $f(x) > 0$ 。证明 $f(x)$ 是严格递增的当且仅当函数 $g(x) = 1 / f(x)$ 是严格递减的。

25. 令 $f: \mathbf{R} \to \mathbf{R}$ 且对所有 $x \in \mathbf{R}$ 有 $f(x) > 0$ 。证明 $f(x)$ 是严格递减的当且仅当函数 $g(x) = 1 / f(x)$ 是严格递增的。

26. a) 证明从 $\mathbf{R}$ 到自身的严格递增函数是一对一的。

b) 试给出一个从 $\mathbf{R}$ 到自身的不是一对一递增函数的实例。

27. a) 证明从 $\mathbf{R}$ 到自身的严格递减函数是一对一的。

b) 试给出一个从 $\mathbf{R}$ 到自身的不是一对一的递减函数实例。

28. 证明从实数集到实数集的函数 $f(x) = \mathrm{e}^{x}$ 不是可逆的，但如果将其陪域限制在正实数集，则所得函数是可逆的。

29. 证明从实数集到非负实数集的函数 $f(x) = |x|$ 不是可逆的，但如果将其定义域限制到非负实数集，则函数是可逆的。

30. 令 $S = \{-1, 0, 2, 4, 7\}$ 。求 $f(S)$ ，如果

a) $f(x) = 1$

b) $f(x) = 2x + 1$

c) $f(x) = \lceil x / 5\rceil$

d) $f(x) = \left\lfloor (x^2 + 1) / 3 \right\rfloor$

31. 令 $f(x) = \left\lfloor x^{2} / 3 \right\rfloor$ 。求 $f(S)$ ，如果

a) $S = \{-2, -1, 0, 1, 2, 3\}$

b) $S = \{0,1,2,3,4,5\}$

c) $S = \{1,5,7,11\}$

d) $S = \{2,6,10,14\}$

32. 令 $f(x) = 2x$ ，其中定义域是实数集。求

a) $f(\mathbf{Z})$

b) $f(\mathbf{N})$

c) $f(\mathbf{R})$

33. 假定 $g$ 是从 $A$ 到 $B$ 的函数， $f$ 是从 $B$ 到 $C$ 的函数。

a) 证明如果 $f$ 和 $g$ 均为一对一函数，那么 $f \circ g$ 也是一对一函数。  
b) 证明如果 $f$ 和 $g$ 均为到映上函数，那么 $f \circ g$ 也是映上函数。

34. 假定 $g$ 是从 $A$ 到 $B$ 的函数， $f$ 是从 $B$ 到 $C$ 的函数。证明下面的命题。

a)如果 $f\circ g$ 是映上的，则 $f$ 必然也是映上的。

b)如果 $f\circ g$ 是一对一的，则 $g$ 必然也是一对一的。  
c)如果 $f\circ g$ 是双射，则 $g$ 是映上的当且仅当 $f$ 是一对一的。

35. 试找出一个例子，使得 $f$ 和 $g$ 满足 $f \circ g$ 是双射，但是 $g$ 不是映上的且 $f$ 不是一对一的。

* 36. 如果 $f$ 和 $f \circ g$ 都是一对一的，能否得出结论 $g$ 也是一对一的？说明理由。  
* 37. 如果 $f$ 和 $f \circ g$ 都是映上的，能否得出结论 $g$ 也是映上的？说明理由。

38. 试求 $f \circ g$ 和 $g \circ f$ ，其中 $f(x) = x^2 + 1$ 和 $g(x) = x + 2$ 都是从 R 到 R 的函数。

39. 试求 $f + g$ 和 $fg$ ，其中函数 $f$ 和 $g$ 同练习38一样。  
40. 令 $f(x) = ax + b$ ， $g(x) = cx + d$ ，其中 $a, b, c$ 和 $d$ 为常数。试确定有关 $a, b, c$ 和 $d$ 应满足的充分必要条件使得 $f \circ g = g \circ f$ 。

41. 证明从 $\mathbf{R}$ 到 $\mathbf{R}$ 的函数 $f(x) = ax + b$ 是可逆的，其中 $a$ 和 $b$ 为常数且 $a \neq 0$ ，并找出 $f$ 的反函数。

42. 令 $f$ 是一个从集合 $A$ 到集合 $B$ 的函数。令 $S$ 和 $T$ 为 $A$ 的子集。证明

a) $f(S\bigcup T) = f(S)\bigcup f(T)$   
b) $f(S\cap T)\subseteq f(S)\cap f(T)$

43. a) 给出一个例子说明练习 42b 中的包含可能是真包含。  
b) 证明如果 $f$ 是一对一的，则练习42b中的包含就是相等。

令 $f$ 是一个从集合 $A$ 到集合 $B$ 的函数。 $S$ 是 $B$ 的一个子集。定义 $S$ 的逆像 (inverse image) 为 $A$ 的子集，其元素恰好是 $S$ 所有元素的原像。 $S$ 的逆像记作 $f^{-1}(S)$ ，于是 $f^{-1}(S) = \{a \in A \mid f(a) \in S\}$ 。（小心：记号 $f^{-1}$ 有两种不同的使用方式。不要将这里引入的符号与可逆函数 $f$ 的逆函数在 $y$ 处的值的记号 $f^{-1}(y)$ 混淆。还要注意集合 $S$ 的逆像 $f^{-1}(S)$ 对所有函数 $f$ 都有意义，而不仅仅是可逆函数。）

44. 令 $f$ 为从 $\mathbf{R}$ 到 $\mathbf{R}$ 的函数 $f(x) = x^2$ 。求

a) $f^{-1}(\{1\})$   
b) $f^{-1}(\{x\mid 0 <   x <   1\})$   
c) $f^{-1}(\{x\mid x > 4\})$

45. 令 $g(x) = \lfloor x \rfloor$ 。求

a) $g^{-1}(\{0\})$   
b) $g^{-1}(\{-1,0,1\})$   
c) $g^{-1}(\{x\mid 0 <   x <   1\})$

46. 令 $f$ 为从 $A$ 到 $B$ 的函数。令 $S$ 和 $T$ 为 $B$ 的子集。证明

a) $f^{-1}(S \cup T) = f^{-1}(S) \cup f^{-1}(T)$   
b) $f^{-1}(S \cap T) = f^{-1}(S) \cap f^{-1}(T)$

47. 令 $f$ 为从 $A$ 到 $B$ 的函数。 $S$ 为 $B$ 的子集。证明 $f^{-1}(\overline{S}) = \overline{f^{-1}(S)}$   
48. 证明 $\lfloor x + 1 / 2\rfloor$ 是最接近 $x$ 的整数，除非 $x$ 恰为两个（相邻）整数的中间数，此时它为这两个整数中较大的一个。  
49. 证明 $\lfloor x - 1 / 2\rfloor$ 是最接近 $x$ 的整数，除非 $x$ 恰为两个（相邻）整数的中间数，此时它为这两个整数中较小的一个。  
50. 证明如果 $x$ 是一个实数，则当 $x$ 不是整数时有 $\lceil x\rceil -\lfloor x\rfloor = 1$ ；当 $x$ 为整数时有 $\lceil x\rceil -\lfloor x\rfloor = 0$ 。  
51. 证明如果 $x$ 是一个实数，则有 $x - 1 < \lfloor x \rfloor \leqslant x \leqslant \lceil x \rceil < x + 1$ 。  
52. 证明如果 $x$ 为实数，而 $m$ 为整数，则 $[x + m] = [x] + m$ 。  
53. 证明如果 $x$ 为实数， $n$ 为整数，则

a) $x <   n$ 当且仅当 $\lfloor x\rfloor <  n$   
b) $n <   x$ 当且仅当 $\lceil x\rceil$

54. 证明如果 $x$ 为实数， $n$ 为整数，则  
a) $x \leqslant n$ 当且仅当 $\lceil x \rceil \leqslant n$ 。  
b) $n \leqslant x$ 当且仅当 $n \leqslant \lfloor x \rfloor$ 。  
55. 证明如果 $n$ 为整数，则当 $n$ 为偶数时 $\lfloor n / 2 \rfloor = n / 2$ ；当 $n$ 为奇数时 $\lfloor n / 2 \rfloor = (n - 1) / 2$ 。  
56. 证明如果 $x$ 为实数，则 $\lfloor -x\rfloor = -\lceil x\rceil ,\lceil -x\rceil = -\lfloor x\rfloor_{\circ}$   
57. 有些计算器上有个 INT 函数，当 $x$ 为非负实数时 $\mathrm{INT}(x) = \lfloor x \rfloor$ ；当 $x$ 为负实数时 $\mathrm{INT}(x) = \lceil x \rceil$ 。证明这一函数 INT 满足等式 $\mathrm{INT}(-x) = -\mathrm{INT}(x)$ 。  
58. 令 $a$ 和 $b$ 为实数，且 $a < b$ 。用下取整函数和上取整函数表示满足 $a \leqslant n \leqslant b$ 的整数 $n$ 的数目。  
59. 令 $a$ 和 $b$ 的实数，且 $a < b$ ，用下取整函数和上取整函数表示满足 $a < n < b$ 的整数 $n$ 的数目。  
60. 需要用多少字节来编码 $n$ 比特的数据，其中 $n$ 等于

a)4

b)10

c)500

d)3000

61. 需要用多少字节来编码 $n$ 比特的数据，其中 $n$ 等于

a)7

b)17

c)1001

d)28800

62. 在下列传输率的连接上 10 秒内能传输多少个 ATM 信元 (参看例 30)?

a)每秒128千比特（1千比特 $= 1000$ 比特）  
b)每秒300千比特  
c)每秒1兆比特（1兆比特 $= 1000000$ 比特）

63. 数据在某以太网上以 1500 个 8 比特 (octet) 为信息块传输。下面的数据量在这个以太网上传输时需要多少个信息块？（注意一字节就是 8 比特的同义词，1 千字节就是 1000 字节，1 兆字节就是 1000000 字节。）

a)150千字节的数据。

b)384千字节的数据。

c)1.544兆字节的数据。

d)45.3兆字节的数据。

64. 画出从 $\mathbf{Z}$ 到 $\mathbf{Z}$ 的函数 $f(n) = 1 - n^{2}$ 的图。  
65. 画出从 $\mathbf{R}$ 到 $\mathbf{R}$ 的函数 $f(x) = |2x|$ 的图。  
66. 画出从 $\mathbf{R}$ 到 $\mathbf{R}$ 的函数 $f(x) = \lfloor x / 2\rfloor$ 的图。  
67. 画出从 $\mathbf{R}$ 到 $\mathbf{R}$ 的函数 $f(x) = \lfloor x\rfloor +\lfloor x / 2\rfloor$ 的图。  
68. 画出从 $\mathbf{R}$ 到 $\mathbf{R}$ 的函数 $f(x) = \left\lceil x\right\rceil +\left\lceil x / 2\right\rceil$ 的图。  
69. 画出下列各函数的图。

a) $f(x) = \lfloor x + 1 / 2\rfloor$   
b) $f(x) = \lfloor 2x + 1\rfloor$   
c) $f(x) = \lceil x / 3\rceil$   
d) $f(x) = \lceil 1 / x\rceil$   
e) $f(x) = \lceil x - 2\rceil +\lfloor x + 2\rfloor$   
f) $f(x) = \lfloor 2x\rfloor \left\lceil x / 2\right\rceil$   
g) $f(x) = \left\lceil \lfloor x - 1 / 2\rfloor +1 / 2\right\rceil$

70. 画出下列各函数的图。

a) $f(x) = \sqrt{3x - 2}$

b) $f(x) = \left\lceil 0.2x\right\rceil$

c) $f(x) = \lfloor -1 / x\rfloor$

d) $f(x) = \lfloor x^2\rfloor$

e) $f(x) = \lceil x / 2\rceil \lfloor x / 2\rfloor$

f) $f(x) = \lfloor x / 2 \rfloor + \lceil x / 2 \rceil$

g) $f(x) = \lfloor 2\lceil x / 2\rceil +1 / 2\rfloor$

71. 求 $f(x) = x^{3} + 1$ 的反函数。

72. 假定 $f$ 是从 $Y$ 到 $Z$ 的可逆函数， $g$ 是从 $X$ 到 $Y$ 的可逆函数。证明合成函数 $f \circ g$ 的反函数可由下式给出 $(f \circ g)^{-1} = g^{-1} \circ f^{-1}$   
73. 令 $S$ 为全集 $U$ 的子集。 $S$ 的特征函数 $f_S$ 是从 $U$ 到集合 $\{0,1\}$ 的函数，使得如果 $x$ 属于 $S$ 则 $f_S(x) = 1$ ，如果 $x$ 不属于 $S$ 则 $f_S(x) = 0$ 。令 $A$ 、 $B$ 为集合。证明对于所有 $x \in U$ 有

a) $f_{A\cap B}(x) = f_A(x)\cdot f_B(x)$   
b) $f_{A\cup B}(x) = f_A(x) + f_B(x) - f_A(x)\cdot f_B(x)$   
c) $f_{\overline{A}}(x) = 1 - f_{A}(x)$   
d) $f_{A\oplus B}(x) = f_A(x) + f_B(x) - 2f_A(x)f_B(x)$

74. 假定 $f$ 是一个从 $A$ 到 $B$ 的函数，这里 $A$ 和 $B$ 为有限集且 $|A| = |B|$ 。证明 $f$ 是一对一的当且仅当它是映上的。

75. 证明或反驳下列关于上取整函数和下取整函数的语句。

a)对任意实数 $x$ ，有 $\left[\lfloor x\rfloor = \lfloor x\rfloor_{\circ}\right.$   
b)当 $x$ 是实数时，有 $\lfloor 2x\rfloor = 2\lfloor x\rfloor$   
c)当 $x$ 和 $y$ 是实数时，有 $\lceil x\rceil +\lceil y\rceil -\lceil x + y\rceil = 0$ 或1。  
d)对任意实数 $x$ 和 $y$ ，有 $\lceil xy\rceil = \lceil x\rceil \lceil y\rceil$   
e)对任意实数 $x$ ，有 $\left\{\frac{x}{2}\right\} = \left\{\frac{x + 1}{2}\right\}$

76. 证明或反驳下列关于下取整函数和上取整函数的语句。

a)对任意实数 $x$ ，有 $\left\lfloor \left\lceil x\right\rceil \right\rfloor = \left\lceil x\right\rceil_{\circ}$

b)对任意实数 $x$ 和 $y$ ，有 $\lfloor x + y\rfloor = \lfloor x\rfloor +\lfloor y\rfloor$   
c)对任意实数 $x$ ，有 $\left\lceil \left\lceil x / 2\right\rceil /2\right\rceil = \left\lceil x / 4\right\rceil_{\circ}$   
d)对任意实数 $x$ ，有 $\left\lfloor \sqrt{\lceil x\rceil}\right\rfloor = \left\lfloor \sqrt{x}\right\rfloor_{\circ}$   
e)对任意实数 $x$ 和 $y$ ，有 $\lfloor x\rfloor +\lfloor y\rfloor +\lfloor x + y\rfloor \leqslant \lfloor 2x\rfloor +\lfloor 2y\rfloor .$

77. 证明如果 $x$ 是一个正实数，则

$$
\mathrm {a}) \lfloor \sqrt {\lfloor x \rfloor} \rfloor = \lfloor \sqrt {x} \rfloor
$$

$$
\mathrm {b}) \left| \sqrt {\lceil x \rceil} \right| = \left| \sqrt {x} \right|
$$

76. 令 $x$ 为实数。证明 $\lfloor 3x\rfloor = \lfloor x\rfloor +\left\lfloor x + \frac{1}{3}\right\rfloor +\left\lfloor x + \frac{2}{3}\right\rfloor .$

79. 对下列各个部分函数求它的域、陪域、定义域及其无定义的值的集合。另外判断它是否为全函数。

$$
\begin{array}{l} \mathrm {a}) f: \mathbf {Z} \rightarrow \mathbf {R}, f (n) = 1 / n _ {\circ} \\ \mathrm {b}) f: \mathbf {Z} \rightarrow \mathbf {Z}, f (n) = \lceil n / 2 \rceil_ {\circ} \\ \mathrm {c}) f: \mathbf {Z} \times \mathbf {Z} \rightarrow \mathbf {Q}, f (m, n) = m / n 。 \\ \mathrm {d}) f: \mathbf {Z} \times \mathbf {Z} \rightarrow \mathbf {Z}, f (m, n) = m n 。 \\ \mathrm {e}) f: \mathbf {Z} \times \mathbf {Z} \rightarrow \mathbf {Z}, f (m, n) = m - n, \text {如 果} m > n 。 \\ \end{array}
$$

80. a) 证明从 $A$ 到 $B$ 的一个部分函数 $f$ 可以看成从 $A$ 到 $B \cup \{u\}$ 的函数 $f^{*}$ ，其中 $u$ 不是 $B$ 的元素，且

$$
f ^ {*} (a) = \left\{ \begin{array}{l l} f (a) & \text {如 果} a \text {属 于} f \text {的 定 义 域} \\ u & \text {如 果} f \text {在} a \text {点 无 定 义} \end{array} \right.
$$

b)使用 $a$ )中的构造法，找出练习79中各部分函数对应的 $f^{*}$ 。

81. a) 证明如果 $S$ 是基数为 $m$ 的集合， $m$ 为正整数，则在集合 $S$ 与集合 $\{1, 2, \dots, m\}$ 之间存在一个一一对应函数。

b) 证明如果 $S$ 、 $T$ 均为基数为 $m$ 的集合， $m$ 为正整数，则在集合 $S$ 与集合 $T$ 之间存在一个一一对应函数。

* 82. 证明 $S$ 为无穷集合当且仅当存在 $S$ 的一个真子集 $A$ 使得 $A$ 到 $S$ 有一个一一对应函数。

# 2.4 序列与求和

# 2.4.1 引言

序列是元素的有序列表，在离散数学中有许多应用。例如在第8章中将会看到的用来表示某些计数问题的解。序列也是计算机科学中一种重要的数据结构。我们在离散数学的学习中经常要处理序列项的求和问题。本节回顾求和记号的使用、求和的基本性质以及某些特定序列的求和公式。

一个序列中的项可以通过一个适用于序列中每一项的公式来描述。本节还将描述用递推关系来指定一个序列的项的另一种方法，即将每一项表示为前续项的一种组合。我们将介绍一种迭代方法，用于寻找通过递推关系定义的序列的项的闭公式。给定前面若干项来确定一个序列也是离散数学中问题求解的一种有用技能。为此我们会给出一些技巧，以及Web上的一些有用工具。

# 2.4.2 序列

序列是一种用来表示有序列表的离散结构。例如1，2，3，5，8是一个含有五项的序列，而1，3，9，27，81，…， $3^n$ ，…是一个无穷序列。

定义1 序列（sequence）是一个从整数集的一个子集（通常是集合 $\{0, 1, 2, \dots\}$ 或集合 $\{1, 2, 3, \dots\}$ ）到一个集合 $S$ 的函数。用记号 $a_{n}$ 表示整数 $n$ 的像。称 $a_{n}$ 为序列的一个项(term)。

我们用记号 $\{a_{n}\}$ 来描述序列。（注意 $a_{n}$ 表示序列 $\{a_{n}\}$ 的单项。还要注意一个序列记号 $\{a_{n}\}$ 与集合的记号有冲突。但使用这个记号的上下文总能分清什么时候在讨论集合而什么时候在讨论序列。还要注意尽管一个序列的记号中用了字母 $a$ ，也可以用其他字母或表达式，这取决于

所考虑的序列，即字母 $a$ 的选择是任意的。）

我们通过按照下标升序来列举序列项来描述序列。

例1 考虑序列 $\{a_{n}\}$ ，其中

$$
a _ {n} = \frac {1}{n}
$$

这个序列的项的列表从 $a_1$ 开始，即

$$
a _ {1}, a _ {2}, a _ {3}, a _ {4}, \dots
$$

开头是：

$$
1, 1 / 2, 1 / 3, 1 / 4, \dots
$$

定义2 几何级数是如下形式的序列

$$
a, a r, a r ^ {2}, \dots , a r ^ {n}, \dots
$$

其中初始项 $a$ 和公比 $r$ 都是实数。

评注 几何级数是指数函数 $f(x) = ar^x$ 的离散的对应体。

例2 序列 $\{b_n\}$ 、 $\{c_n\}$ 和 $\{d_n\}$ 都是几何级数，其中 $b_{n} = (-1)^{n}$ ， $c_{n} = 2\cdot 5^{n}$ ， $d_{n} = 6\cdot (1 / 3)^{n}$ 。如果我们以 $n = 0$ 开始，则其初始项和公比分别等于1和一1，2和5以及6和1/3。项的列表 $b_{0},b_{1},b_{2},b_{3},b_{4},\dots$ 的开头是：

$$
1, - 1, 1, - 1, 1, \dots
$$

项的列表 $c_{0}$ ， $c_{1}$ ， $c_{2}$ ， $c_{3}$ ， $c_{4}$ ，…的开头是：

$$
2, 1 0, 5 0, 2 5 0, 1 2 5 0, \dots
$$

项的列表 $d_0$ ， $d_{1}$ ， $d_{2}$ ， $d_{3}$ ， $d_{4}$ ，…的开头是：

$$
6, 2, 2 / 3, 2 / 9, 2 / 2 7, \dots
$$

定义3 算术级数是如下形式的序列：

$$
a, a + d, a + 2 d, \dots , a + n d, \dots
$$

其中初始项 $a$ 和公差 $d$ 都是实数。

评注 算术级数是线性函数 $f(x) = dx + a$ 的离散的对应体。

例3 序列 $\{s_n\} (s_n = -1 + 4n)$ 和 $\{t_n\} (t_n = 7 - 3n)$ 都是算术级数，如果我们以 $n = 0$ 开始，则其初始项和公差分别等于-1和4以及7和-3。项的列表 $s_0, s_1, s_2, s_3, \cdots$ 的开头是：

$$
- 1, 3, 7, 1 1, \dots
$$

项的列表 $t_0$ ， $t_1$ ， $t_2$ ， $t_3$ ，…的开头是：

$$
7, 4, 1, - 2, \dots
$$

在计算机科学中经常使用形如 $a_1, a_2, \dots, a_n$ 的序列。这些有穷序列也称为串（string）。这个串也可以记作 $a_1a_2 \dots a_n$ 。（回忆一下在 1.1 节介绍的比特串，它就是比特的有限序列。）串的长度是这个串的项数。空串是没有任何项的串，记作 $\lambda$ 。空串的长度为 0。

例4 串abcd是长度为4的串。

# 2.4.3 递推关系

在例 $1\sim 3$ 中，我们通过为项提供显式公式来指定序列。还有许多其他方法可以用来指定一个序列。例如，另外一种指定序列的方法是提供一个或多个初始项以及一种从前面的项确定后续项的规则。

定义4关于序列 $\{a_{n}\}$ 的递推关系(recurrence relation)是一个等式，对所有满足 $n\geqslant n_0$ 的 $n$ ，它把 $a_{n}$ 用序列中前面项即 $a_0,a_1,\dots ,a_{n - 1}$ 中的一项或多项来表示，这里 $n_0$ 是一个非负整数。如果一个序列的项满足递推关系，则该序列就称为是递推关系的一个解。（递推关系递归地定义了一个序列。我们将在第5章解释这个不同的术语。）

例5 令 $\{a_{n}\}$ 是一个序列，它满足递推关系 $a_{n} = a_{n - 1} + 3$ ， $n = 1$ ，2，3，…，并假定 $a_0 = 2$ 。 $a_{1}, a_{2}$ 和 $a_{3}$ 是多少？

解从递推关系可以看出 $a_1 = a_0 + 3 = 2 + 3 = 5$ 。接着有 $a_2 = 5 + 3 = 8$ 和 $a_3 = 8 + 3 = 11$ 。

例6 令 $\{a_{n}\}$ 是一个序列，它满足递推关系 $a_{n} = a_{n - 1} - a_{n - 2}$ ， $n = 2, 3, 4, \dots$ ，并假定 $a_{0} = 3$ ， $a_{1} = 5$ 。 $a_{2}$ 和 $a_{3}$ 是多少？

解 从递推关系可以看出， $a_2 = a_1 - a_0 = 5 - 3 = 2$ 且 $a_3 = a_2 - a_1 = 2 - 5 = -3$ 。我们可以用类似方法找到 $a_4, a_5$ ，以及后续各项。

递归定义的序列的初始条件指定了在递推关系定义的首项前的那些项。例如，例5中的 $a_0 = 2$ 以及例6中的 $a_0 = 3$ 和 $a_1 = 5$ 是初始条件。采用第5章介绍的一种证明技术——数学归纳法，可以证明一个递推关系及其初始条件唯一地确定了一个序列。

接下来我们用递推关系来定义一个非常有用的序列，这就是以出生于12世纪的意大利数学家斐波那契(参见第5章关于他的传记)的名字命名的斐波那契数列(Fibonacci sequence)。我们会在第5章和第8章深入研究这个序列，那里我们会看到它对许多应用非常重要，包括兔子繁殖的增长模型。斐波那契数自然地出现在植物和动物的结构中，例如向日葵上的种子排列和鹦鹉螺壳上的纹理排列。

定义5斐波那契数列 $f_{0}$ ， $f_{1}$ ， $f_{2}$ ，…由初始条件 $f_{0} = 0$ 、 $f_{1} = 1$ 和下列递推关系所定义：

$$
f _ {n} = f _ {n - 1} + f _ {n - 2} \quad n = 2, 3, 4, \dots
$$

例7 求斐波那契数 $f_{2}$ 、 $f_{3}$ 、 $f_{4}$ 、 $f_{5}$ 和 $f_{6}$ 。

解斐波那契数列的递推关系告诉我们，可通过把前面两项相加来得出后续的项。因为初始条件是 $f_{0} = 0$ 和 $f_{1} = 1$ ，用定义中的递推关系可得

$$
\begin{array}{l} f _ {2} = f _ {1} + f _ {0} = 1 + 0 = 1 \\ f _ {3} = f _ {2} + f _ {1} = 1 + 1 = 2 \\ f _ {4} = f _ {3} + f _ {2} = 2 + 1 = 3 \\ f _ {5} = f _ {4} + f _ {3} = 3 + 2 = 5 \\ f _ {6} = f _ {5} + f _ {4} = 5 + 3 = 8 \\ \end{array}
$$

例8 假设 $\{a_{n}\}$ 是整数序列，定义 $a_{n} = n!$ 为整数 $n$ 的阶乘函数的值， $n = 1, 2, 3, \dots$ 。因为 $n! = n((n - 1)(n - 2)\dots 2 \cdot 1) = na_{n - 1}$ ，所以可以看出阶乘的序列满足递推关系 $a_{n} = na_{n - 1}$ ，初始条件为 $a_{1} = 1$ 。

当我们为序列的项找到一个显式公式——闭公式(closed formula)时，我们就说求解了带有初始条件的递推关系。

例9 试判定序列 $\{a_{n}\}$ （其中对每个非负整数 $n$ 有 $a_{n} = 3n$ ）是否是递推关系 $a_{n} = 2a_{n - 1} - a_{n - 2}$ （ $n = 2, 3, 4, \cdots$ ）的解。当 $a_{n} = 2^{n}$ 和 $a_{n} = 5$ 时回答同样的问题。

解 假设对每个非负整数 $n$ 有 $a_{n} = 3n$ 。则对 $n \geqslant 2$ ，可以看出 $2a_{n-1} - a_{n-2} = 2(3(n-1)) - 3(n-2) = 3n = a_{n}$ 。所以， $\{a_{n}\}$ （其中 $a_{n} = 3n$ ）是递推关系的一个解。

假设对每个非负整数 $n$ 有 $a_{n} = 2^{n}$ 。注意 $a_0 = 1$ ， $a_1 = 2$ ，而 $a_2 = 4$ 。因为 $2a_{1} - a_{0} = 2\cdot 2 - 1 = 3\neq a_{2}$ ，可知 $\{a_n\}$ （其中 $a_{n} = 2^{n}$ )不是递推关系的解。

假设对每个非负整数 $n$ 有 $a_{n} = 5$ 。则对 $n \geqslant 2$ ，可以看出 $2a_{n-1} - a_{n-2} = 2 \cdot 5 - 5 = 5 = a_{n}$ 。所以， $\{a_{n}\}$ （其中 $a_{n} = 5$ ）是递推关系的一个解。

已有很多方法可以求解递推关系。这里我们用几个例子介绍一种直观的迭代法。在第8章我们会深入研究递推关系。那里我们将证明递推关系如何用于求解计数问题，并且将介绍几种功能强大的方法用于求解许多不同的递推关系。

例10 求解例5中带有初始条件的递推关系。

解 连续应用例5中的递推关系，从初始条件 $a_1 = 2$ 出发向上一直到 $a_n$ 能够推断出序列的闭公式。可以看到

$$
a _ {2} = 2 + 3
$$

$$
a _ {3} = (2 + 3) + 3 = 2 + 3 \cdot 2
$$

$$
a _ {4} = (2 + 2 \cdot 3) + 3 = 2 + 3 \cdot 3
$$

中

$$
a _ {n} = a _ {n - 1} + 3 = (2 + 3 \cdot (n - 2)) + 3 = 2 + 3 (n - 1)
$$

我们也可以通过连续应用例5中的递推关系，从项 $a_{n}$ 出发向下一直到初始条件 $a_{1} = 2$ 得到同样的公式。步骤如下：

$$
a _ {n} = a _ {n - 1} + 3
$$

$$
= (a _ {n - 2} + 3) + 3 = a _ {n - 2} + 3 \cdot 2
$$

$$
= \left(a _ {n - 3} + 3\right) + 3 \cdot 2 = a _ {n - 3} + 3 \cdot 3
$$

：

$$
= a _ {2} + 3 (n - 2) = \left(a _ {1} + 3\right) + 3 (n - 2) = 2 + 3 (n - 1)
$$

在递推关系的每一步迭代中，我们通过在前项上加上3而得到序列的下一项。经过递推关系的 $n - 1$ 次迭代后就可得到第 $n$ 项。故我们在初始项 $a_1 = 2$ 上加了 $3(n - 1)$ 而得到 $a_{n}$ 。这就是闭公式 $a_{n} = 2 + 3(n - 1)$ 。注意到这个序列是一个算术级数。

例10中使用的技术叫作迭代（iteration）。我们迭代或重复利用了递推关系。第一种方法称为正向替换——我们从初始条件出发找到连续的项直到 $a_{n}$ 为止。第二种方法称为反向替换，因为我们从 $a_{n}$ 开始迭代时将其表示为序列中前面的项直到可以用 $a_{1}$ 来表示。注意当我们使用迭代时，需要先猜测序列项的一个公式。要证明我们的猜测是正确的，需要使用数学归纳法——将在第5章中讨论的一项技术。

第8章我们将证明递推关系可用于为各种问题建模。这里我们仅提供这样的一个例子，说明如何用递推关系来计算复合利率。

例11 复合利率(compound interest)。假设一个人在银行的储蓄账户上存了10000美元，年利率是 $11\%$ ，按年计复利。那么在30年后该账户上将有多少钱？

解为求解这个问题，令 $P_{n}$ 表示 $n$ 年后账户上的金额。因为 $n$ 年后账户上的金额等于 $n - 1$ 年后账户上的金额加上第 $n$ 年的利息，易得序列 $\{P_n\}$ 满足递推关系

$$
P _ {n} = P _ {n - 1} + 0. 1 1 P _ {n - 1} = (1. 1 1) P _ {n - 1}
$$

初始条件是 $P_{0} = 10000$

我们可以使用迭代法找到 $P_{n}$ 的公式。注意

$$
P _ {1} = (1. 1 1) P _ {0}
$$

$$
P _ {2} = (1. 1 1) P _ {1} = (1. 1 1) ^ {2} P _ {0}
$$

$$
P _ {3} = (1. 1 1) P _ {2} = (1. 1 1) ^ {3} P _ {0}
$$

中

$$
P _ {n} = (1. 1 1) P _ {n - 1} = (1. 1 1) ^ {n} P _ {0}
$$

当代入初始条件 $P_0 = 10000$ 时，得到公式 $P_{n} = (1.11)^{n}10000$

将 $n = 30$ 代入公式 $P_{n} = (1.11)^{n}10000$ ，即可得30年后账户上有

$$
P _ {3 0} = (1. 1 1) ^ {3 0} 1 0 0 0 0 = 2 2 8 9 2 2. 9 7 \text {美 元}
$$

# 2.4.4 特殊的整数序列

离散数学中的一类共性问题是为了构造序列的项而寻找闭公式、递推关系或者某种一般

规则。有时候仅知道用于求解问题的序列中的一部分项，目标则是要确定序列。尽管序列的初始项不能确定整个序列（毕竟从任何初始项的有限集合开始的序列有无限多个），但了解前几项仍有助于做出关于序列本身的合理猜想。一旦形成猜想，就可以尝试验证你找到了正确序列。

当给定初始项并试图推导出一个可能的公式、递推关系或序列项的某种一般规则时，尝试寻找这些项的一种模式。再观察能否确定一项如何从它前面的项产生。有许多问题可以问，但比较有用的问题是：

是否有相同值连续出现，即相同的值在一行中出现多次？  
- 是否给前项加上某个常量或与序列中项的位置有关的量后就得出后项？  
- 是否给前项乘以特定量就得出后项？  
- 是否按照某种方式组合前面若干项就可以得出后项？  
- 是否在各项之间存在循环？

例12 求具有下列前5项的序列公式：(a)1，1/2，1/4，1/8，1/16；(b)1，3，5，7，9；(c)1，-1，1，-1，1。

解 (a) 可以看出分母都是 2 的幂次。对 $n = 0, 1, 2, \dots$ ，满足 $a_{n} = 1 / 2^{n}$ 的序列是一个可能的解。这个候选序列是一个几何级数，满足 $a = 1$ 和 $r = 1 / 2$ 。

(b) 注意每一项可通过对前一项加上 2 而得到。对 $n = 0, 1, 2, \dots$ ，满足 $a + n = 2n + 1$ 的序列是一个可能的解。这个候选序列是算术级数，满足 $a = 1$ 和 $d = 2$ 。  
(c)各项轮流取值1和-1。对 $n = 0, 1, 2, \dots$ ，满足 $a_{n} = (-1)^{n}$ 的序列是一个可能的解。这个候选序列是几何级数，满足 $a = 1$ 和 $r = -1$ 。

例 $13\sim 15$ 解释如何通过分析序列来发现项是如何构造的。

例13 如果一个序列的前10项是1，2，2，3，3，3，4，4，4，4，则如何来产生序列的项？

解在这个序列中，注意整数1出现1次，整数2出现2次，整数3出现3次，整数4出现4次。一个合理的序列生成规则是整数 $n$ 恰好出现 $n$ 次，所以序列的下5项可能都是5，随后6项可能都是6，等等。这种方式产生的序列是一个可能的解。

例14 如果一个序列的前10项是5，11，17，23，29，35，41，47，53，59，则如何来产生序列的项？

解注意这个序列的前10项中第一项之后每项都是通过对前项加上6而得到的（从相邻项之差为6看出这一点）。因此从5开始总共加 $(n - 1)$ 次6就产生第 $n$ 项，即一个合理的猜测是第 $n$ 项为 $5 + 6(n - 1) = 6n - 1$ 。（这是一个算术级数，满足 $a = 5$ 和 $d = 6$ 。）

例15 如果一个序列的前10项是1，3，4，7，11，18，29，47，76，123，则如何来产生序列的项？

解 观察序列从第三项起每项都是前两项之和，即 $4 = 3 + 1$ ， $7 = 4 + 3$ ， $11 = 7 + 4$ ，等等。因此，如果 $L_{n}$ 是这个序列的第 $n$ 项，我们猜测序列可由递推关系 $L_{n} = L_{n - 1} + L_{n - 2}$ 确定，其初始条件为 $L_{1} = 1$ 和 $L_{2} = 3$ （与斐波那契数列具有相同的递推关系，但是初始条件不同）。这个序列被称为Lucas序列，以法国数学家François Edouard Lucas的名字命名。Lucas在19世纪研究了这个序列和斐波那契数列。

另一种求序列项生成规则的有用技术是对比所求的序列项与熟知的整数序列项，比如算术级数的项、几何级数的项、完全平方数、完全立方数等。表1给出了一些应当记住的序列的前10项。注意，对于这里列出的序列，每个序列中项的增长要比列表中前面序列项的增长快。3.2节将研究这些项的增长速率。

表 1 一些有用的序列  

<table><tr><td>第n项</td><td>前10项</td></tr><tr><td>n2</td><td>1,4,9,16,25,36,49,64,81,100,...</td></tr><tr><td>n3</td><td>1,8,27,64,125,216,343,512,729,1000,...</td></tr><tr><td>n4</td><td>1,16,81,256,625,1296,2401,4096,6561,10000,...</td></tr><tr><td>2n</td><td>2,4,8,16,32,64,128,256,512,1024,...</td></tr><tr><td>3n</td><td>3,9,27,81,243,729,2187,6561,19683,59049,...</td></tr><tr><td>n!</td><td>1,2,6,24,120,720,5040,40320,362880,3628800,...</td></tr><tr><td>fn</td><td>1,1,2,3,5,8,13,21,34,55,89,...</td></tr></table>

例16 如果序列 $\{a_{n}\}$ 的前10项为1，7，25，79，241，727，2185，6559，19681，59047，试猜想 $a_{n}$ 的简单公式。

解 要解决这个问题，先查看相邻项的差，但没有看出模式。当计算相邻项的比来查看每项是否为前项的倍数时，发现这个比虽然不是常数却接近于3。所以有理由怀疑这个序列的各项是由一个与 $3^n$ 有关的公式产生的。比较这些项与序列 $\{3^n\}$ 的对应项，注意到第 $n$ 项要比对应的3的幂次小2。我们看到对于 $1 \leqslant n \leqslant 10$ 来说 $a_n = 3^n - 2$ 成立，因而猜想对所有 $n$ 来说，这个公式成立。

贯穿本书可以看到整数序列在离散数学的各类应用中广泛出现。我们已经看到或将会看到的序列包括：素数序列(第4章)、将 $n$ 个离散对象进行排序的方法数（第6章）、解决著名的 $n$ 碟汉诺塔谜题所需要的步数(第8章)以及在一个岛上 $n$ 个月后的兔子数(第8章)。

整数序列还出现在离散数学以外的相当广泛的领域，包括生物学、工程、化学、物理学，以及谜题中。在“在线整数序列百科”(Online Encyclopedia of Integer Sequences，OEIS)维护的一个有趣的数据库中可以找到超过250000个不同的整数序列（截至2017年）。这个数据库起初是由内尔·斯朗在1964年创建的，现在由OEIS基金会维护。该数据库最新的印刷版是1995年出版的([SIPI95])，当前大百科中的序列比1995年版书中的900卷还多，且每年会提交超过10000个新的序列。你可以利用OEIS网站上的程序来寻找可能与你提供的初始项匹配的序列。比如，你输入1，1，2，3，5，8，OEIS就会展示一个页面，确认这是斐波那契数列中连续的项，给出产生这个序列的递推关系，列出广泛的注解(含参考文献)来论述斐波那契数列的多种产生方式，并显示以这些项开始的其他一些序列的信息。

# Links

![](d4c215b6fb0fb56b2b92768b0b059a0d00a4c21942d55cbe2b24dd28acb39fe9.jpg)  
Courtesy of Neil Sloane

内尔·斯朗(Neil Sloane，生于1939年）依靠澳大利亚国家电话公司的助学金在墨尔本大学学习数学和电气工程。他在暑期工作中掌握了许多与电话有关的工作，比如架设电线杆。毕业后，他设计了澳大利亚最便宜的电话网。1962年他到美国康奈尔大学学习电气工程。他的博士论文是关于现在所谓的神经网络的。1969年开始他在贝尔实验室任职，从事过许多领域的工作，包括网络设计、编码理论以及球体填充等。自1996年AT&T实验室从贝尔实验室分离出来，他就去了AT&T实验室工作，直到2012年退休。他最喜欢的一个问题是相切问题(kissing problem，他创造的名字)，即在 $n$ 维空间可以排列多少个球，使之都与同样大小的中央球相切。（在2维空间答案是6，

因为可放置6个便士使之与中央便士相切。在3维空间，可放置12个台球使之与中央台球相切。两个恰好在一点接触的台球称为“相切”，这引出了术语“相切问题”和“相切数”。斯朗与Andrew Odlyzko证明了在8维和24维空间中最优相切数分别为240和196560。在1、2、3、4、8和24维空间中的相切数是已知的，而在任何其他维空间中都还是未知的。斯朗的著作包括：与John Conway合写的《球体填充、格与群》(Sphere Packing，Lattices and Groups)第3版，与Jessie Mac Williams合写的《纠错码的理论》（The Theory of Error-Correcting Codes），与Simon Plouffe合写的《整数序列百科》（The Encyclopedia of Integer Sequences）以及与Paul Nick合写的《新泽西峭壁攀岩指南》（The Rock-Climbing Guide to New Jersey Crags）。最后这本书体现了他对攀岩的兴趣，其中介绍了新泽西州的50多个攀岩场地。

# 2.4.5 求和

接下来我们考虑序列项的累加问题。为此先引入求和记号（summation natation）。首先描述用来表达序列 $\{a_{n}\}$ 中项

$$
a _ {m}, a _ {m + 1}, \dots , a _ {n}
$$

之和的记号。我们用记号

$$
\sum_ {j = m} ^ {n} a _ {j} \quad {\text {或}} \quad \sum_ {m \leqslant j \leqslant n} a _ {j}
$$

（读作 $a_{j}$ 从 $j = m$ 到 $j = n$ 的和)来表示

$$
a _ {m} + a _ {m + 1} + \dots + a _ {n}
$$

此处变量 $j$ 称为求和下标，而字母 $j$ 作为变量可以是任意的，即可以使用任何其他字母，比如 $i$ 或 $k$ 。或者，用记号表示就是

$$
\sum_ {j = m} ^ {n} a _ {j} = \sum_ {i = m} ^ {n} a _ {i} = \sum_ {k = m} ^ {n} a _ {k}
$$

此处求和下标依次遍历从下限 $m$ 开始到上限 $n$ 为止的所有整数。用 $\sum$ 表示求和。

通常的算术法则也适用于求和式。例如，当 $a$ 和 $b$ 均为实数时，有 $\sum_{j=1}^{n}(ax_j + by_j) = a\sum_{j=1}^{n}x_j + b\sum_{j=1}^{n}y_j$ ，这里 $x_1, x_2, \dots, x_n$ 及 $y_1, y_2, \dots, y_n$ 均为实数（此处我们没有给出该恒等式的正式证明。这样的证明可以用第5章介绍的数学归纳法来加以构建。证明同时会用到加法的交换律与结合律以及乘法对加法的分配律）。

下面给出求和记号的多个例子。

例17用求和记号表示序列 $\{a_j\}$ 前100项之和，这里 $a_{j} = 1 / j$ ， $j = 1$ ，2，3，…。

解 求和下标下限为1，上限为100。这个和可以写成

$$
\sum_ {j = 1} ^ {1 0 0} \frac {1}{j}
$$

例18 $\sum_{j = 1}^{5}j^{2}$ 的值是多少？

解 我们有

$$
\sum_ {j = 1} ^ {5} j ^ {2} = 1 ^ {2} + 2 ^ {2} + 3 ^ {2} + 4 ^ {2} + 5 ^ {2} = 1 + 4 + 9 + 1 6 + 2 5 = 5 5
$$

例19 $\sum_{k = 4}^{8}(-1)^{k}$ 的值是多少？

解 我们有

$$
\begin{array}{l} \sum_ {k = 4} ^ {8} (- 1) ^ {k} = (- 1) ^ {4} + (- 1) ^ {5} + (- 1) ^ {6} + (- 1) ^ {7} + (- 1) ^ {8} \\ = 1 + (- 1) + 1 + (- 1) + 1 \\ = 1 \\ \end{array}
$$

有时候对求和式中的求和下标做一下平移会很有好处。当两个求和式需要相加而求和下标却不一致时，通常可以这样做。当平移求和下标时，对应求和项做适当修改也是很重要的。如例20所解释。

Extra Examples

例20 假定有求和式

$$
\sum_ {j = 1} ^ {5} j ^ {2}
$$

但是希望求和下标的取值是在0和4之间而不是在-1和5之间。为此，令 $k = j - 1$ 。于是

新的求和下标就是从0（因为当 $j = 1$ 时 $k = 1 - 1 = 0$ ）到4（因为当 $j = 5$ 时 $k = 5 - 1 = 4$ ）了，而项 $j^2$ 变成了 $(k + 1)^2$ 。因此

$$
\sum_ {j = 1} ^ {5} j ^ {2} = \sum_ {j = 0} ^ {4} (k + 1) ^ {2}
$$

容易验证两个和都是 $1 + 4 + 9 + 16 + 25 = 55$

几何级数项的求和经常出现（这种求和也称为几何数列）。定理1给出几何级数的项求和公式。

定理1 如果 $a$ 和 $r$ 都是实数且 $r \neq 0$ ，则

$$
\sum_ {j = 0} ^ {n} a r ^ {j} = \left\{ \begin{array}{l l} \frac {a r ^ {n + 1} - a}{r - 1} & r \neq 1 \\ (n + 1) a & r = 1 \end{array} \right.
$$

证明 令

$$
S _ {n} = \sum_ {j = 0} ^ {n} a r ^ {j}
$$

要计算 $S$ ，先在等式两边同乘上 $r$ ，然后对得出的和式做如下变换：

$rS_{n} = r\sum_{j = 0}^{n}ar^{j}$ 用求和公式代替 $s$   
$= \sum_{j = 0}^{n}ar^{j + 1}$ 分配律  
$= \sum_{k = 1}^{n + 1}ar^k$ 平移求和下标，令 $k = j + 1$   
$= \left(\sum_{k = 0}^{n}ar^{k}\right) + (ar^{n + 1} - a)$ 去除 $k = n + 1$ 的项，添加 $k = 0$ 的项  
$= S_{n} + (ar^{n + 1} - a)$ 用 $S$ 代替求和公式

从这些等式可以看出

$$
r S _ {n} = S _ {n} + (a r ^ {n + 1} - a)
$$

从该等式解出 $S_{n}$ 可知，如果 $r\neq 1$ ，则

$$
S _ {n} = \frac {a r ^ {n + 1} - a}{r - 1}
$$

如果 $r = 1$ ，则 $S_{n} = \sum_{j = 0}^{n}ar^{j} = \sum_{j = 0}^{n}a = (n + 1)a$ 。

例21 很多情况下需要双重求和（比如在计算机程序嵌套循环的分析中）。一个双重求和的例子是

$$
\sum_ {i = 1} ^ {4} \sum_ {j = 1} ^ {3} i j
$$

要计算双重求和，先展开内层求和，再继续计算外层求和：

$$
\sum_ {i = 1} ^ {4} \sum_ {j = 1} ^ {3} i j = \sum_ {i = 1} ^ {4} (i + 2 i + 3 i) = \sum_ {i = 1} ^ {4} 6 i = 6 + 1 2 + 1 8 + 2 4 = 6 0
$$

我们还可以用求和记号将一个函数的所有值相加，或把针对一个下标集的项都加起来，其中求和下标遍历一个集合中的所有值，即可以写

$$
\sum_ {s \in S} f (s)
$$

来表示对 $S$ 中所有元素 $s$ 求值 $f(s)$ 的和。

例22 $\sum_{s\in (0,2,4)}s$ 的值是多少？

解 由于 $\sum_{s\in \{0,2,4\}}s$ 表示对集合 $\{0,2,4\}$ 中所有元素 $s$ 的值求和，因此有

$$
\sum_ {s \in \{0, 2, 4 \}} s = 0 + 2 + 4 = 6
$$

某些求和问题会在离散数学中反复出现。掌握一组这种求和公式会有好处，表2给出了一些常见求和公式。

表 2 多个有用的求和公式  

<table><tr><td>和</td><td>闭形式</td><td>和</td><td>闭形式</td></tr><tr><td>∑n=k0ar k(r≠0)</td><td>ar n+1 - a/r - 1, r≠1</td><td>∑n=k1k3</td><td>n2(n+1)2/4</td></tr><tr><td>∑n=k1k</td><td>n(n+1)/2</td><td>∑∞k=0x^k, |x|&lt;1</td><td>1/1-x</td></tr><tr><td>∑n=k1n^2k^2</td><td>n(n+1)(2n+1)/6</td><td>∑∞k=1kx^{k-1}, |x|&lt;1</td><td>1/(1-x)^2</td></tr></table>

我们在定理1中推导了表中的第一个公式。接下来的三个公式给出了前 $n$ 个正整数的求和、它们的平方和以及它们的立方和。可以用许多不同方式来推导这三个公式（例如，参见练习37和38）。还要注意这里每一个公式，一旦得到了，就可以轻而易举地用数学归纳法(5.1节的主题)加以证明。表中最后两个公式与无穷级数有关，接下来就会讨论。

例23解释了表2中的公式是如何使用的。

例23 求 $\sum_{k=50}^{100} k^2$ 。

解 首先注意由于 $\sum_{k=1}^{100} k^2 = \sum_{k=1}^{49} k^2 + \sum_{k=50}^{100} k^2$ ，所以有

$$
\sum_ {k = 5 0} ^ {1 0 0} k ^ {2} = \sum_ {k = 1} ^ {1 0 0} k ^ {2} - \sum_ {k = 1} ^ {4 9} k ^ {2}
$$

利用表2的公式 $\sum_{k = 1}^{n}k^{2} = n(n + 1)(2n + 1) / 6$ （证明见练习38），可以看出

$$
\sum_ {k = 5 0} ^ {1 0 0} k ^ {2} = \frac {1 0 0 \cdot 1 0 1 \cdot 2 0 1}{6} - \frac {4 9 \cdot 5 0 \cdot 9 9}{6} = 3 3 8 3 5 0 - 4 0 4 2 5 = 2 9 7 9 2 5
$$

一些无穷级数尽管本书中大多数求和都是有限求和，但在离散数学的某些部分中无穷级数也是很重要的。通常在微积分课程中研究无穷级数，甚至这些级数的定义也需要用到微积分，但有时它们也会出现在离散数学中，因为离散数学需要处理离散对象无穷集。尤其是将来在离散数学的研究中，我们将会发现例24和25中无穷级数的闭公式是非常有用的。

例24（需要微积分知识）令 $x$ 是满足 $|x| < 1$ 的实数。求 $\sum_{n=0}^{\infty} x^n$ 。

解 根据定理1，令 $a = 1$ 和 $r = x$ ，就可以看出 $\sum_{n=0}^{k}x^n = \frac{x^{k+1} - 1}{x - 1}$ 。由于 $|x| < 1$ ，所以当 $k$ 趋于无穷时， $x^{k+1}$ 趋于0。所以

$$
\sum_ {n = 0} ^ {\infty} x ^ {n} = \lim  _ {k \rightarrow \infty} \frac {x ^ {k + 1} - 1}{x - 1} = \frac {0 - 1}{x - 1} = \frac {1}{1 - x}
$$

通过对已有公式进行微分或积分就可以产生新的求和公式。

例25（需要微积分知识）对下列方程两边微分：

$$
\sum_ {k = 0} ^ {\infty} x ^ {k} = \frac {1}{1 - x}
$$

根据例24可得

$$
\sum_ {k = 1} ^ {\infty} k x ^ {k - 1} = \frac {1}{(1 - x) ^ {2}}
$$

（根据有关无穷级数的定理，当 $|x| < 1$ 时这个微分有效。）

# 练习

1. 求序列 $\{a_{n}\}$ 的下列各项，其中 $a_{n} = 2\cdot (-3)^{n} + 5^{n}$

a) $a_0$

b) $a_1$

c) $a_4$

d) $a_{5}$

2. 如果序列 $\{a_{n}\}$ 的 $a_{n}$ 等于下列各值，则 $a_{8}$ 项是多少？

a) $2^{n - 1}$

b)7

c)1+(-1)n

$\mathbf{d}) - (-2)^n$

3. 序列 $\{a_{n}\}$ 的项 $a_{0}, a_{1}, a_{2}$ 和 $a_{3}$ 是什么？其中 $a_{n}$ 等于

a) $2^{n} + 1$

b) $(n + 1)^{n + 1}$

c) $\lfloor n / 2\rfloor$

d) $\lfloor n / 2\rfloor +\lceil n / 2\rceil$

4. 序列 $\{a_{n}\}$ 的项 $a_{0}, a_{1}, a_{2}$ 和 $a_{3}$ 是什么？其中 $a_{n}$ 等于

a) $(-2)^{n}$

b)3

c)7+4n

d) $2^{n} + (-2)^{n}$

5. 列出下列各序列的前10项。

a)序列从2开始，后面每项都比前项多3。  
b)序列按升序把每个正整数列出3次。  
c)序列按升序把每个正奇数列出2次。  
d)序列的第 $n$ 项是 $n! - 2^n$   
e)序列从3开始，后面每项都是前项的2倍。  
f)序列的第一项是2，第二项是4，后面每项都是前两项之和。  
g)序列的第 $n$ 项是数 $n$ 的二进制展开式的比特数（在4.2节有定义）。  
h)序列的第 $n$ 项是下标 $n$ 的英文单词中包含的字母数。

6. 列出下列各序列的前10项。

a)序列从10开始，后面每项都是从前项减去3所得。  
b)序列的第 $n$ 项是前 $n$ 个正整数之和。  
c)序列的第 $n$ 项是 $3^n -2^n$   
d)序列的第 $n$ 项是 $\lfloor \sqrt{n}\rfloor$   
e)序列的前两项是1和5，后面每项都是前两项之和。

f)序列的第 $n$ 项是具有 $n$ 比特的二进制展开式（见4.2节的定义）的最大整数（用十进制数写出答案）。  
g)序列的各项以下列方式按序构造：从1开始，然后加1，然后乘1，然后加2，然后乘2，等等。  
h)序列的第 $n$ 项是满足 $k! \leqslant n$ 的最大整数 $k$ 。

7. 至少找出 3 个不同的序列, 其初始项都是 1、2、4, 并可用简单的公式或规则产生各项。  
8. 至少找出 3 个不同的序列, 其初始项都是 3、5、7, 并可用简单的公式或规则产生各项。

9. 找出有下列递推关系和初始条件所定义的序列的前五项。

a) $a_{n} = 6a_{n - 1}, a_{0} = 2$   
b) $a_{n} = a_{n - 1}^{2}$ ， $a_1 = 2$   
c) $a_{n} = a_{n - 1} + 3a_{n - 2}$ ， $a_0 = 1$ ， $a_1 = 2$   
d) $a_{n} = na_{n - 1} + n^{2}a_{n - 2}$ ， $a_0 = 1$ ， $a_1 = 1$   
e) $a_{n} = a_{n - 1} + a_{n - 3}$ ， $a_0 = 1$ ， $a_1 = 2$ ， $a_2 = 0$

10. 找出有下列递推关系和初始条件所定义的序列的前六项。

a) $a_{n} = -2a_{n-1}$ , $a_{0} = -1$

b) $a_{n} = a_{n - 1} - a_{n - 2}$ ， $a_0 = 2$ ， $a_1 = -1$

c) $a_{n} = 3a_{n - 1}^{2}$ ， $a_0 = 1$

d) $a_{n} = na_{n - 1} + a_{n - 2}^{2}$ ， $a_0 = -1$ ， $a_1 = 0$

e) $a_{n} = a_{n - 1} - a_{n - 2} + a_{n - 3}$ ， $a_0 = 1$ ， $a_1 = 1$ ， $a_2 = 2$

11. 令 $a_{n} = 2^{n} + 5 \cdot 3^{n}$ , $n = 0, 1, 2, \dots$ 。

a)找出 $a_0$ ， $a_1$ ， $a_2$ ， $a_3$ 和 $a_4$ 。  
b) 证明 $a_2 = 5a_1 - 6a_0$ ， $a_3 = 5a_2 - 6a_1$ 和 $a_4 = 5a_3 - 6a_2$ 。  
c) 证明对于所有整数 $n \geqslant 2$ ，有 $a_{n} = 5a_{n-1} - 6a_{n-2}$ 。

12. 证明序列 $\{a_{n}\}$ 是递推关系 $a_{n} = -3a_{n-1} + 4a_{n-2}$ 的解，如果

a) $a_{n} = 0$

b) $a_{n} = 1$

c) $a_{n} = (-4)^{n}$

d) $a_{n} = 2(-4)^{n} + 3$

13. 序列 $\{a_{n}\}$ 是递推关系 $a_{n} = 8a_{n - 1} - 16a_{n - 2}$ 的解吗？如果

a）an=0

b) $a_{n} = 1$

c) $a_{n} = 2^{n}$

d) $a_{n} = 4^{n}$

e) $a_{n} = n4^{n}$

f) $a_{n} = 2\cdot 4^{n} + 3n4^{n}$

g) $a_{n} = (-4)^{n}$

h) $a_{n} = n^{2}4^{n}$

14. 对于下列每个序列，寻找满足该序列的递推关系。（答案并不唯一，因为存在无穷多个满足任一序列的递推关系。）

a）an=3

b) $a_{n} = 2n$

c) $a_{n} = 2n + 3$

d) $a_{n} = 5^{n}$

e) $a_{n} = n^{2}$

f) $a_{n} = n^{2} + n$

g) $a_{n} = n + (-1)^{n}$

h) $a_{n} = n!$

15. 证明序列 $\{a_{n}\}$ 是递推关系 $a_{n} = a_{n - 1} + 2a_{n - 2} + 2n - 9$ 的解，如果

a）an=-n+2

b) $a_{n} = 5(-1)^{n} - n + 2$

c) $a_{n} = 3(-1)^{n} + 2^{n} - n + 2$

d) $a_{n} = 7\cdot 2^{n} - n + 2$

16. 找出下面每个带有初始条件的递推关系的解。采用例 10 中所用的迭代方法求解。

a) $a_{n} = -a_{n-1}$ ， $a_{0} = 5$

b) $a_{n} = a_{n - 1} + 3$ ， $a_0 = 1$

c) $a_{n} = a_{n - 1} - n$ ， $a_0 = 4$

d) $a_{n} = 2a_{n - 1} - 3$ ， $a_0 = -1$

e) $a_{n} = (n + 1)a_{n - 1}$ ， $a_0 = 2$

f) $a_{n} = 2na_{n - 1}$ ， $a_0 = 3$

g) $a_{n} = -a_{n - 1} + n - 1$ ， $a_0 = 7$

17. 找出下面每个带有初始条件的递推关系的解。采用例 10 中所用的迭代方法求解。

a) $a_{n} = 3a_{n - 1}$ , $a_{0} = 2$

b) $a_{n} = a_{n - 1} + 2$ ， $a_0 = 3$

c) $a_{n} = a_{n - 1} + n$ ， $a_0 = 1$

d) $a_{n} = a_{n - 1} + 2n + 3$ ， $a_0 = 4$

e) $a_{n} = 2a_{n - 1} - 1$ ， $a_0 = 1$

f) $a_{n} = 3a_{n - 1} + 1$ ， $a_0 = 1$

$\mathbf{g})a_{n} = na_{n - 1}$ ， $a_0 = 5$

h) $a_{n} = 2na_{n - 1}$ ， $a_0 = 1$

18. 一个人在一个账户中存入1000美元，年利率 $9\%$ ，按年计复利。

a)为该账户在 $n$ 年年底的金额建立一个递推关系。

b)为该账户在 $n$ 年年底的金额找出一个显式公式。

c)该账户在100年后会有多少钱？

19. 假设一个菌落中的细菌数量每小时按3倍增长。

a)为经过 $n$ 小时后的细菌数量建立一个递推关系。

b)如果开始时菌落中有100个细菌，那么10小时后菌落中有多少细菌？

20. 假设2017年世界人口是76亿，而年增长率为 $1.12\%$

a)为2017年之后 $n$ 年的世界人口建立一个递推关系。

b)为2017年之后 $n$ 年的世界人口找出一个显式公式。

c)2050年世界人口会是多少？

21. 一家工厂以一个递增速率为客户定制运动汽车。第一个月仅生产一辆车，第二个月生产两辆车，等等，第 $n$ 个月生产了 $n$ 辆车。

a)为该厂家前 $n$ 个月生产的汽车数量建立一个递推关系。

b)第一年生产了多少辆车？

c)为该厂家前 $n$ 个月生产的汽车数量找出一个显式公式。

22. 一个雇员在2017年加入一家公司，起薪为50000美元。每年该雇员薪水会提升1000美元外加上一年薪水的 $5\%$ 。

a)为2017年之后的 $n$ 年后该雇员的薪水建立一个递推关系。

b)该雇员在2025年的薪水是多少？

c)为2017年之后的 $n$ 年后该雇员的薪水找出一个显式公式。

23. 有一笔5000美元的贷款，年利率 $7\%$ ，按月计复利。如果每月还款100美元，请找出 $k$ 个月后欠款账户余额 $B(k)$ 的递推关系。[提示：用 $B(k - 1)$ 来表示 $B(k)$ ，月利率是 $(0.07 / 12)B(k - 1)$ 。]

![](0119875d54db7e601275c9bd85c103e285f7da4d9f25ec00ed17ed963904e139.jpg)

24. a) 如果每月还贷 $P$ ，贷款利率为 $r$ ，找出 $k$ 个月后欠款账户余额 $B(k)$ 的递推关系。[提示：用 $B(k - 1)$ 来表示 $B(k)$ ，并注意月利率是 $r / 12$ 。]

b)确定每月还款 $P$ 应该是多少才能使得贷款在 $T$ 个月后还清。

25. 对于下列每个整数列表，给出简单的公式或规则，以产生从给定列表开始的整数序列项。假定你给出的公式或规则是正确的，写出相应序列的后续三项。

a)1，0，1，1，0，0，1，1，1，0，0，0，1，…  
b)1，2，2，3，4，4，5，6，6，7，8，8，…  
c)1，0，2，0，4，0，8，0，16，0，…  
d)3，6，12，24，48，96，192，…  
e)15，8，1，-6，-13，-20，-27，…  
f)3，5，8，12，17，23，30，38，47，…  
g)2，16，54，128，250，432，686，…  
h)2，3，7，25，121，721，5041，40321，…

26. 对于下列每个整数列表，给出简单的公式或规则，以产生从给定列表开始的整数序列项。假定你给出的公式或规则是正确的，写出相应序列的后续三项。

a)3，6，11，18，27，38，51，66，83，102，…  
b)7，11，15，19，23，27，31，35，39，43，…  
c)1，10，11，100，101，110，111，1000，1001，1010，1011，…  
d)1，2，2，2，3，3，3，3，5，5，5，5，5，5，…  
e)0，2，8，26，80，242，728，2186，6560，19682，…  
f)1，3，15，105，945，10395，135135，2027025，34459425，…  
g)1，0，0，1，1，1，0，0，0，0，1，1，1，1，1，…  
h)2，4，16，256，65536，4294967296，…

** 27. 证明：如果 $a_n$ 表示不是完全平方数的第 $n$ 个正整数，则 $a_n = n + \{\sqrt{n}\}$ ，其中 $\{x\}$ 表示最接近于实数 $x$ 的整数。

* 28. 设 $a_{n}$ 表示序列1，2，2，3，3，3，4，4，4，5，5，5，5，6，6，6，6，6，…的第 $n$ 项，构造这个序列的方法是包含整数 $k$ 恰好 $k$ 次。证明： $a_{n} = \left\lfloor \sqrt{2n} + \frac{1}{2} \right\rfloor$ 。

29. 下列各求和式的值是多少？

a) $\sum_{k = 1}^{5}(k + 1)$

b) $\sum_{j = 1}^{4}(-2)^{j}$

c) $\sum_{i = 1}^{10}3$

d) $\sum_{j = 0}^{8}(2^{j + 1} - 2^{j})$

30. 下列各求和式的值是多少？其中 $S = \{1, 3, 5, 7\}$ 。

a) $\sum_{j\in S}j$

b) $\sum_{j\in S}j^2$

c) $\sum_{j\in S}(1 / j)$

d) $\sum_{j\in S}1$

31. 下列几何级数的项之和是多少？

a) $\sum_{j=0}^{8} 3 \cdot 2^{j}$

b) $\sum_{j = 1}^{8}2^{j}$

c) $\sum_{j = 2}^{8}(-3)^{j}$

d) $\sum_{i = 0}^{8}2\cdot (-3)^{i}$

32. 求下列各和式的值。

a) $\sum_{j = 0}^{8}(1 + (-1)^{j})$

b) $\sum_{j = 0}^{8}(3^{j} - 2^{j})$

c) $\sum_{j = 0}^{8}(2\cdot 3^{j} + 3\cdot 2^{j})$

d) $\sum_{j = 0}^{8}(2^{j + 1} - 2^{j})$

33. 计算下列各双重求和式。

a) $\sum_{i = 1}^{2}\sum_{j = 1}^{3}(i + j)$

b) $\sum_{i = 0}^{2}\sum_{j = 0}^{3}(2i + 3j)$

c) $\sum_{i = 1}^{3}\sum_{j = 0}^{2}i$

d) $\sum_{i = 0}^{2}\sum_{j = 1}^{3}ij$

34. 计算下列各双重求和式。

a) $\sum_{i = 1}^{3}\sum_{j = 1}^{2}(i - j)$

b) $\sum_{i = 0}^{3}\sum_{j = 0}^{2}(3i + 2j)$

c) $\sum_{i = 1}^{3}\sum_{j = 0}^{2}j$

d） $\sum_{i = 0}^{2}\sum_{j = 0}^{3}i^{2}j^{3}$

35. 证明 $\sum_{j=1}^{n}(a_{j}-a_{j-1})=a_{n}-a_{0}$ ，其中 $a_{0}, a_{1}, \cdots, a_{n}$ 是实数序列。这种类型的求和式称为选进（telescoping）。

36. 利用恒等式 $1 / (k(k + 1)) = 1 / k - 1 / (k + 1)$ 和练习35来计算 $\sum_{k = 1}^{n}1 / (k(k + 1))$ 。

37. 对恒等式 $k^2 - (k - 1)^2 = 2k - 1$ 两边从 $k = 1$ 到 $k = n$ 求和，并且利用练习35找出下列求和式的公式。

a) $\sum_{k = 1}^{n}(2k - 1)$ （前 $n$ 个奇自然数之和）

b) $\sum_{k = 1}^{n}k$

* 38. 利用练习35中的技巧以及练习37b的结果，推导表2中 $\sum_{k=1}^{n} k^2$ 的公式。[提示：在练习35的送进求和中取 $a_k = k^3$ 。]

39. 利用表2求 $\sum_{k = 100}^{200}k$   
40. 利用表2求 $\sum_{k = 99}^{200}k^3$   
41. 利用表2求 $\sum_{k = 10}^{20}k^2 (k - 3)$   
42. 利用表 2 求 $\sum_{k=10}^{20}(k-1)(2k^2+1)$ 。  
* 43. 当 $m$ 是正整数时，求 $\sum_{k=0}^{m} \left\lfloor \sqrt{k} \right\rfloor$ 的公式。  
* 44. 当 $m$ 是正整数时，求 $\sum_{k=0}^{m}\left\lfloor \sqrt[3]{k}\right\rfloor$ 的公式。

对于乘积也有一个特殊记号。 $a_{m}$ ， $a_{m + 1}$ ，…， $a_{n}$ 的乘积可表示为 $\prod_{j = m}^{n}a_{j}$ ，读作 $a_{j}$ 从 $j = m$ 到 $j = n$ 的乘积。

45. 下列乘积的值是多少？

a) $\prod_{i = 0}^{10}i$

b) $\prod_{i = 5}^{8}i$

c) $\prod_{i = 1}^{100}(-1)^{i}I$

d) $\prod_{i = 1}^{10}2$

回顾一下阶乘函数在正整数 $n$ 上的值（记作 $n!$ ）是从1到 $n$ 的正整数的乘积。另外规定 $0! = 1$ 。46. 用乘积记号来表示 $n!$ 。

47. 求 $\sum_{j=0}^{4} j!$ 。  
48. 求 $\prod_{j=0}^{4} j!$ 。

# 2.5 集合的基数

# 2.5.1 引言

2.1节的定义4把有一个有限集合的基数定义成该集合中的元素个数。有限集合的基数告诉我们什么时候两个有限集合大小相同，什么时候一个比另一个大。本节我们将这个概念扩展到无限集合，即如果能有一种方法来衡量无限集的相对大小，我们就能定义什么是两个无限集合有相同的基数了。

我们最有兴趣的是可数无限集，就是和正整数集合具有相同基数的集合。我们会证明一个令人惊奇的结论，即有理数集合是可数无限的。我们还会给出一个不可数集合的例子，并证明实数集是不可数的。

本节讨论的概念在计算机科学中有非常重要的应用。一个函数是不可计算的，如果没有计算机程序能够计算它的所有值，即使给它无限的时间和内存空间。我们将用本节的概念来解释为什么不可计算函数是存在的。

我们现在要定义什么是两个集合具有相同的大小或基数。2.1节讨论了有限集的基数，并定义了这样的集合的大小或基数。2.3节的练习81中我们证明了：任何两个元素个数相同的有限集之间存在一个一一对应。我们可用这一观察将基数的概念推广到所有集合，包括有限集和无限集。

定义1 集合 $A$ 和集合 $B$ 有相同的基数（cardinality），当且仅当存在从 $A$ 到 $B$ 的一个一一对应。当 $A$ 和 $B$ 有相同的基数时，就写成 $|A| = |B|$ 。

对于无限集，基数的定义提供了一个衡量两个集合相对大小的方法，而不是衡量一个集合大小的方法。我们还可以定义什么叫作一个集合的基数小于另一个集合的基数。

定义2 如果存在一个从 $A$ 到 $B$ 的一对一函数，则 $A$ 的基数小于或等于 $B$ 的基数，并写成 $|A| \leqslant |B|$ 。再者，当 $|A| \leqslant |B|$ 并且 $A$ 和 $B$ 有不同的基数时，我们说 $A$ 的基数小于 $B$ 的基数，并写成 $|A| < |B|$ 。

评注 在定义1和2中，我们引入记号 $|A| = |B|$ 和 $|A| < |B|$ 来表示 $A$ 和 $B$ 具有相同的基数和 $A$ 的基数小于 $B$ 的基数。可是，当 $A$ 和 $B$ 是任意的无限集时，这样的定义并没有赋予 $|A|$ 和 $|B|$ 不同的含义。

# 2.5.2 可数集合

现在把无限集分为两组，一组与自然数集合有相同的基数，另一组具有不同的基数。

定义3 一个集合或者是有限集或者与自然数集具有相同的基数，这个集合就称为可数的(countable)。一个集合不是可数的，就称为不可数的(uncountable)。如果一个无限集 $S$ 是可数的，我们用符号 $\aleph_0$ 来表示集合 $S$ 的基数（这里 $\aleph_0$ 是阿里夫，希伯来语字母表的第一个字母），写作 $|S| = \aleph_0$ ，并说 $S$ 有基数“阿里夫零”。

下一个例子解释了如何证明一个集合是可数的。

例1 证明正奇数集合是可数集。

解 要证明正奇数集合是可数的，就要给出这个集合与正整数集合之间的一个一一对应。考虑从 $\mathbf{Z}^{+}$ 到正奇数集合的函数

$$
f (n) = 2 n - 1
$$

通过证明 $f$ 既是一对一的又是映上的来证明 $f$ 是一一对应的。要想知道 $f$ 是一对一的，假定 $f(n) = f(m)$ 。于是 $2n - 1 = 2m - 1$ ，所以 $n = m$ 。要想知道 $f$ 是映上的，假定 $t$ 是正奇数。于是 $t$ 比一个偶数 $2k$ 少1，其中 $k$ 是自然数。因此 $t = 2k - 1 = f(k)$ 。图1显示了这个一一对应。

![](ef58f819c28af37653aea843c7e7dd293f93be53dd3cb90357b6b164b5e98001.jpg)  
图1在 $\mathbf{Z}^{+}$ 和正奇数集合之间的一一对应

一个无限集是可数的当且仅当可以把集合中的元素排列成序列（下标是正整数）。这是因为从正整数集合到集合 $S$ 的一一对应关系 $f$ 可以用序列 $a_1, a_2, \dots, a_n, \dots$ 表示，其中 $a_1 = f(1), a_2 = f(2), \dots, a_n = f(n), \dots$ 。

希尔伯特大饭店 我们现在来讲一个悖论，它证明了某些对有限集不可能的事情对无限集变得可能了。著名数学家大卫·希尔伯特发明了大饭店的概念，它有可数无限多个房间，每个房间都有客人。当一个客人来到一家只有有限个房间的饭店，而且房间已经都有客人时，不赶走一位客人是容纳不下新来的客人的。可是，在大饭店我们总是能够容纳一位新客人的，即使所有房间已都住了客人，证明如例2所示。练习5和8分别要求你证明在大饭店住满的情况下，依然能容纳下有限位新客人和可数位新客人。

例2 在大饭店客满且不允许赶走住客的情况下，我们如何能容纳一位新来的客人？

解因为大饭店的房间是可数的，我们可以把它们排列成1号房间、2号房间、3号房间等。当一位新客人到来时，我们把1号房间的客人安排到2号房间，把2号房间的客人安排到3号房间，更一般地，对于所有整数 $n$ ，把 $n$ 号房间的客人安排到 $n + 1$ 号房间。这样就把1号

房间腾出来了，把这个房间分配给新来的客人，并且所有原先的客人也都有房间。这种场景的解释如图2所示。

![](437f7670ce5470ee4f6c52f453aac54b493258466c0883d0552fd2b7e616dc14.jpg)  
图2一位新客人到达希尔伯特大饭店

当一家饭店只有有限多个房间时，所有房间客满的概念等价于不能再容纳新客人的概念。可是，注意当有无限多个房间时这种等价关系就不再成立了，这也可以用来解释希尔伯特大饭店的悖论了。

可数和不可数集合的例子 我们现在证明某些数的集合是可数的。以所有整数的集合开始。注意我们可以通过列举其元素来证明所有整数的集合是可数的。

例3 证明所有整数的集合是可数的。

解 我们可用序列来列出所有整数，从0开头，交替列举正、负整数：0，1，-1，2，-2，…。或者，我们也可以在正整数集与整数集之间找一个一一对应函数。函数 $f(n)$ 当 $n$ 为偶数时取值 $n / 2$ 而当 $n$ 为奇数时取值一 $(n - 1) / 2$ 就是这样的一个函数，证明留给读者完成。因此，所有整数的集合是可数的。

奇数集与整数集均为可数集合并不奇怪（如例1和例3所示）。但许多人对于有理数集也是可数集合的结果颇为惊讶，如例4所示。

例4 证明正有理数集合是可数的。

解 正有理数集合是可数的，这似乎令人惊讶，但下面将证明如何把正有理数排列成序列 $r_1, r_2, \dots, r_n, \dots$ 。首先，注意每个正有理数都是两个正整数之比 $p / q$ 。

我们可以这样来排列正有理数：在第1行列出分母 $q = 1$ 的有理数，在第2行列出分母

# Links

![](a44e231ce624c26a6931107cd77c151f7c3c46746ecf433d44d5502005ef48f2.jpg)  
EMILIO SEGRE VISUAL ARCHIVES/AMERICAN INSTITUTE OF PHYSICS/Science Source

大卫·希尔伯特（David Hilbert，1862—1943）希尔伯特出生于以七座桥享誉数学界的哥尼斯堡市，是一位法官的儿子。 $1892\sim 1930$ 年在哥廷根大学任职期间，他在广泛的数学领域做出了奠基性的贡献。他总是在数学的某个课题上工作，做出重要的贡献，然后换一个新的数学课题研究。希尔伯特研究过的领域包括变分法、几何、代数、数论、逻辑以及数理物理学。除了许多杰出的原创性贡献外，希尔伯特还以重要而具有影响力的23个未解之题而闻名。他在1900年国际数学家大会上提出了这些难题，作为20世纪诞生时给数学家的挑战。从那时起，这些问题推动了大量的研究活动。尽管其中许多问题已被解决，但有些问题依然悬而未决，其中包括黎曼假设，这是希尔伯特列表中第8个问题的一部分。希尔伯特也是数论和几何学几

本重要的教科书的作者。

$q = 2$ 的有理数，等等，如图3所示。

把有理数排列成序列的关键是：沿着图3所示的路线，先列出满足 $p + q = 2$ 的正有理数 $p / q$ ，再列出满足 $p + q = 3$ 的正有理数，然后列出满足 $p + q = 4$ 的正有理数，等等。每当遇到已经列出过的数 $p / q$ 时，就不再次列出了。例如，当遇到 $2 / 2 = 1$ 时就不列出了，因为已经列出过 $1 / 1 = 1$ 。这样构造的正有理数序列的初始项是1， $1 / 2$ ，2，3， $1 / 3$ ， $1 / 4$ ， $2 / 3$ ， $3 / 2$ 4，5，等等。这些数在图3中都加了圆圈，序列中没有圆圈的数是那些被剔除的，因为它们已经在序列中了。由于所有有理数都只列出一次，读者可以验证它，所以我们证明了正有理数集合是可数的。

![](168bb85674849d13c8ea0ca2b0697ee28531604f7b79d8a431521bb844dba130.jpg)  
图3 正有理数是可数的

# 2.5.3 不可数集合

我们已经看到有理数集也是可数集合。那么是否有可能的不可数集合呢？首先考虑的集合是实数集。在例5中我们使用一种很重要的由乔治·康托尔于1879年引入的证明方法，即所谓的康托尔对角线法，来证明实数集合是不可数的。在数理逻辑和计算理论中大量地使用这个证明方法。

例5 证明实数集合是不可数集合。

Links

Extra Examples

解 要证明实数集合是不可数的，我们假定实数集合是可数的，然后试图导出一个矛盾。于是，所有落在0和1之间的实数所构成的子集也是可数的（因为可数集合的任意子集合都是可数的，参见练习16）。在此假设下，在0和1之间的实数可以按照某种顺序列出，比如说 $r_1$ ， $r_2$ ， $r_3$ ，…。设这些实数的十进制表示为

$$
r _ {1} = 0. d _ {1 1} d _ {1 2} d _ {1 3} d _ {1 4} \dots
$$

$$
r _ {2} = 0. d _ {2 1} d _ {2 2} d _ {2 3} d _ {2 4} \dots
$$

$$
r _ {3} = 0. d _ {3 1} d _ {3 2} d _ {3 3} d _ {3 4} \dots
$$

$$
r _ {4} = 0. d _ {4 1} d _ {4 2} d _ {4 3} d _ {4 4} \dots
$$

：

其中 $d_{ij} \in \{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\}$ 。（例如，如果 $r_1 = 0.23794102\dots$ ，就有 $d_{11} = 2$ ， $d_{12} = 3$ ， $d_{13} = 7$ ，等等。）于是，构造新的实数具有十进制展开式 $r = 0.d_{1}d_{2}d_{3}d_{4}\dots$ ，其中十进制数字由下列规则确定：

$$
d _ {i} = \left\{ \begin{array}{l l} 4 & \text {如 果} d _ {i i} \neq 4 \\ 5 & \text {如 果} d _ {i i} = 4 \end{array} \right.
$$

（例如，假定 $r_1 = 0.23794102\dots$ ， $r_2 = 0.44590138\dots$ ， $r_3 = 0.09118764\dots$ ， $r_4 = 0.80553900\dots$ 等等。于是，就有 $r = 0.d_{1}d_{2}d_{3}d_{4}\dots = 0.4544\dots$ ，其中因为 $d_{11}\neq 4$ ，所以 $d_{1} = 4$ ；因为 $d_{22} = 4$ ，所以 $d_{2} = 5$ ；因为 $d_{33}\neq 4$ ，所以 $d_{3} = 4$ ；因为 $d_{44}\neq 4$ ，所以 $d_{4} = 4$ ；等等。）

每个实数都有唯一的十进制展开式（排除结尾全部由数字9组成的展开式的可能性）。所以，实数 $r$ 不等于 $r_1, r_2, \cdots$ 中的任何一个，因为对每个 $i$ 来说， $r$ 的十进制展开式与 $r_i$ 的十进制展开式在小数点右边第 $i$ 位是不同的。

由于存在不在列表中的0和1之间的实数 $r$ ，所以假设可以列出在0和1之间的所有实数就必定为假。所以，在0和1之间的所有实数不能一一列出，因此在0和1之间的实数集合是不可数的。任何含有不可数子集合的集合都是不可数的(参见练习15)。因此，实数集合是不

![](7d9c7677ee0b9d607584c1b0ef3e331f6d81a3a24bf00ec2a435fa8e32d1d1dc.jpg)

可数的。

有关基数的结果 我们现在讨论一些有关集合基数的结果。首先，证明两个可数集合的并依然是可数集合。

定理1 如果 $A$ 和 $B$ 是可数集合，则 $A \cup B$ 也是可数集合。

证明 假定 $A$ 和 $B$ 是可数集合。不失一般性，我们可以假设 $A$ 和 $B$ 是不相交的。（如果它们不是不相交的，就可以用 $B - A$ 来代替 $B$ ，因为 $A \cap (B - A) = \emptyset$ 并且 $A \cup (B - A) = A \cup B$ 。）再者，不失一般性，如果两个集合之一是可数无限的而另一个是有限的，则我们可以假设 $B$ 是那个有限集合。

有三种情形需要考虑：(i) $A$ 和 $B$ 均为有限的；(ii) $A$ 是无限的而 $B$ 是有限的；(iii) $A$ 和 $B$ 均为可数无限的。

情形(i)：注意当 $A$ 和 $B$ 均为有限的时， $A \cup B$ 也是有限的，因此是可数的。

情形(ii)：因为 $A$ 是可数无限的，所以它的元素就可以排列成一个无限序列 $a_1, a_2, a_3, \dots, a_n, \dots$ 同时因为 $B$ 是有限的，所以其元素可以排列成 $b_1, b_2, b_3, \dots, b_m, m$ 是某个正整数。我们可以把 $A \cup B$ 的元素排列成 $b_1, b_2, b_3, \dots, b_m, a_1, a_2, a_3, \dots, a_n, \dots$ 。这意味着 $A \cup B$ 是可数无限的。

情形(iii)：因为 $A$ 和 $B$ 均为可数无限的，可以分别把它们的元素排列成 $a_1, a_2, a_3, \dots, a_n, \dots$ 和 $b_1, b_2, b_3, \dots, b_n, \dots$ 。通过交替这两个序列的项，我们就可以把 $A \cup B$ 的元素排列成无限序列 $a_1, b_1, a_2, b_2, a_3, b_3, \dots, a_n, b_n, \dots$ 。这意味着 $A \cup B$ 是可数无限的。

至此完成了证明，因为已经证明在所有三种情形下 $A \cup B$ 都是可数的。

鉴于其重要性，我们现在给出基数研究中的一个关键定理。

定理2Schröder-Bernstein定理如果 $A$ 和 $B$ 是集合且 $\mid A\mid \leqslant \mid B\mid$ 和 $\mid B\mid \leqslant \mid A\mid$ ，则 $\mid A\mid = \mid B\mid$ 。换言之，如果存在一对一函数 $f$ 从 $A$ 到 $B$ 和 $g$ 从 $B$ 到 $A$ ，则存在 $A$ 和 $B$ 之间的一一对应函数。

因为定理2看起来相当地简单明了，所以我们可能会期望它有一个简单的证明。可是，事实并非如此。因为当你有一个从 $A$ 到 $B$ 的单射函数时，它不一定是映上的，而另一个从 $B$ 到 $A$ 的单射函数也不一定是映上的，没有显而易见的方法来构造一个从 $A$ 到 $B$ 的双射函数。再者，即使可以不用高等数学来证明它，但已知的证明都相当微妙而曲折，不容易解释清楚。其中一个证明的展开参见练习41，要求读者来完成细节部分。有兴趣的读者可以在[AiZiHo09]和[Ve06]中找到证明。这个结论称为Schröder-Bernstein定理，因为Ernst Schröder在1898年发表了一个有缺陷的证明，而康托尔的学生Felix Bernstein在1897年给出了一个证明。可是，在Richard Dedekind的1887年的笔记中也发现了该定理的一个证明。Dedekind是一位德国数学家，他在数学基础、抽象代数和数论方面做出了重要贡献。

下面用一个例子来解释定理2的应用。

例6 证明 $|(0,1)| = |(0,1]|$ 。

解 如何寻找一个(0，1)和(0，1]之间的一一对应来证明 $\mid (0,1)\mid = \mid (0,1]\mid$ 完全不是显而易见的事。幸运的是，可以采用Schröder-Bernstein定理。寻找一个(0，1)到(0，1]的一对一函数是很简单的。因为(0，1) $\subset (0,1]$ ，所以 $f(x) = x$ 就是一个(0，1)到(0，1]的一对一函数。录找一个(0，1]到(0，1)的一对一函数也不难。函数 $g(x) = x / 2$ 显然是一对一的且将 $(0,1]$ 映射到 $(0,1 / 2]\subset (0,1)$ 。由于找到了从(0，1)到(0，1]和从(0，1]到(0，1)的一对一函数，所以Schröder-Bernstein定理告诉我们 $\mid (0,1)\mid = \mid (0,1]\mid$ 。

不可计算函数 我们现在来描述本节中的概念在计算机科学中的一个重要应用。特别是，我们将证明存在这样的函数，其值不能由任何计算机程序计算出来。

定义4 一个函数称为是可计算的（computable），如果存在某种编程语言写的计算机程序能计算该函数的值。如果一个函数不是可计算的，就说是不可计算的（uncomputable）。

要证明存在不可计算函数，我们需要建立两个结果。首先要证明用任何编程语言写的计算机程序的集合是可数的。注意用一种特定语言编写的一个计算机程序可以看作由有限的字母表构造的字符串就可以证明该结论（参见练习37）。接下来，我们证明从一个特定的可数无限集到自身的函数有不可数无限多个。特别是，练习38证明了从正整数到自身的函数集合是不可数的。这是 $0 \sim 1$ 之间实数集的不可数性（参见例5）的一个推论。结合这两个结果（参见练习39）可以证明存在不可计算函数。

连续统假设 我们简单讨论一下有关基数的一个著名的开放问题以作为本节的结束。可以证明 $\mathbf{Z}^{+}$ 的幂集和实数集 $\mathbf{R}$ 具有相同的基数（参见练习38）。换言之，我们知道 $|\mathcal{P}(\mathbf{Z}^{+})| = |\mathbf{R}| = c$ ，这里 $c$ 表示实数集的基数。

康托尔的一个重要定理（参见练习40）表明一个集合的基数总是小于其幂集的基数。故有 $|\mathbf{Z}^{+}| < |\mathcal{P}(\mathbf{Z}^{+})|$ 。我们将这个结论重写为 $\aleph_0 < 2^{\aleph_0}$ ，这里用记号 $2^{|S|}$ 表示集合 $S$ 的幂集的基数。还有，注意关系 $|\mathcal{P}(\mathbf{Z}^{+})| = |\mathbf{R}|$ 可以表示为 $2^{\aleph_0} = c$ 。

这就导致了著名的连续统假设（continuum hypothesis），它阐述了不存在介于 $\aleph_0$ 和 $c$ 之间的基数 $X$ 。换言之，连续统假设说明了不存在集合 $A$ 使得正整数集合的基数 $\aleph_0$ 小于 $|A|$ ，而 $|A|$ 又小于实数集的基数 $c$ 。可以证明最小的无限基数形成一个无限序列 $\aleph_0 < \aleph_1 < \aleph_2 < \dots$ 。如果我们假定连续统假设为真，就可以得出结论 $c = \aleph_1$ ，故有 $2^{\aleph_0} = \aleph_1$ 。

连续统假设是由康托尔在1877年提出的。他努力尝试证明之而未果，因而变得非常沮丧。到了1900年，解决连续统假设被认为是数学中最重要的悬而未决的问题。这是被大卫·希尔伯特(David Hilbert)列入他著名的1900年数学开放问题的第一个问题。

连续统假设依然是一个开放问题，还是一个活跃的研究领域。可是，已经证明了在现代数学的标准集合论公理（即Zermelo-Fraenkel公理）下，该假设既不能被证明也不能被反驳。Zermelo-Fraenkel公理的制定是为了避免朴素集合论的悖论，如罗素悖论，但是是否应该用其他的一组集合论公理来替代还是有很大争议。

# 练习

1. 确定下列各集合是否是有限的、可数无限的或不可数的。对那些可数无限集合，给出在自然数集合和该集合之间的一一对应。

a)负整数

b)偶数

c)小于100的整数

d)0和 $1 / 2$ 之间的实数

e)小于1000000000的正整数

f)7的整倍数

2. 确定下列各集合是否是有限的、可数无限的或不可数的。对那些可数无限集合，给出在自然数集合和该集合之间的一一对应。

a)大于10的整数

b)奇负整数

c)绝对值小于1000000的整数

d)0和2之间的实数

e) 集合 $A \times \mathbf{Z}^{+}$ , 其中 $A = \{2, 3\}$ .

f)10的整倍数

3. 确定下列各集合是否是可数的或不可数的。对那些可数无限集合，给出在自然数集合和该集合之间的一一对应。

a)不包含比特0的全部比特串   
b)不能写成分母不小于4的全部正有理数  
c)十进制表示中不包含0的实数  
d)十进制表示中仅包含有限个1的实数

4. 确定下列各集合是否是可数的或不可数的。对那些可数无限集合，给出在自然数集合和该集合之间的一一对应。

a)不能被3整除的整数  
b) 能被 5 整除但不能被 7 整除的整数

c)十进制表示是全1的实数  
d)十进制表示是全1或全9的实数

5. 证明一群有限的客人到达客满的希尔伯特大饭店时依然可以在不赶走客人的情况下得到房间。  
6. 假设希尔伯特大饭店已客满，但是饭店要关闭所有偶数编号的房间进行维修。证明所有客人依然可以住在饭店里。  
7. 假设希伯尔特大饭店在某一天客满了，饭店准备扩展到同样具有可数无限个房间的第二幢楼。证明现有的客人可以散开填充满饭店两幢楼的每个房间。  
8. 证明可数无限个客人到达客满的希尔伯特大饭店时依然可以在不赶走客人的情况下得到房间。

*9. 假设有可数无限辆巴士，每辆载有可数无限多位客人到达客满的希尔伯特大饭店。证明在不赶走客人的情况下所有达到的客人都可以住进希尔伯特大饭店。

10. 给出两个不可数集合 $A$ 和 $B$ 的例子使得 $A - B$ 是

a) 有限的

b)可数无限的

c)不可数的

11. 给出两个不可数集合 $A$ 和 $B$ 的例子使得 $A \cap B$ 是

a) 有限的

b)可数无限的

c)不可数的

12. 证明如果 $A$ 和 $B$ 是集合且 $A \subset B$ ，则 $|A| \leqslant |B|$ 。

13. 试解释为什么集合 $A$ 是可数的当且仅当 $|A| \leqslant |\mathbf{Z}^{+}|$ 。  
14. 证明如果 $A$ 和 $B$ 是集合并具有相同的基数，则 $|A| \leqslant |B|$ 并且 $|B| \leqslant |A|$ 。

15. 证明如果 $A$ 和 $B$ 是集合， $A$ 是不可数的，并且 $A \subseteq B$ ，则 $B$ 是不可数的。  
16. 证明可数集的子集也是可数的。  
17. 如果 $A$ 是不可数集合而 $B$ 是可数集合，那么 $A - B$ 一定是不可数的吗？  
18. 证明如果 $A$ 和 $B$ 是集合且 $|A| = |B|$ ，则 $|\mathcal{P}(A)| = |\mathcal{P}(B)|$ 。  
19. 证明如果 $A, B, C$ 和 $D$ 是集合且 $|A| = |B|$ 和 $|C| = |D|$ ，则 $|A \times C| = |B \times D|$ 。  
20. 证明如果 $|A| = |B|$ 且 $|B| = |C|$ ，则 $|A| = |C|$ 。  
21. 证明如果 $A$ 、 $B$ 和 $C$ 是集合使得 $|A| \leqslant |B|$ 和 $|B| \leqslant |C|$ ，则 $|A| \leqslant |C|$ 。  
22. 假设 $A$ 是可数集合。证明如果存在一个从 $A$ 到 $B$ 的映上函数 $f$ ，则 $B$ 也是可数的。  
23. 证明如果 $A$ 是一个无限集合，则它包含可数无限子集。  
24. 证明不存在无限集合 $A$ 使得 $|A| < |Z^{+}| = \aleph_{0}$ 。  
25. 证明如果有可能用(具有有限个字符的)键盘字符的有限串来标记一个无限集 $S$ 的每个元素，且 $S$ 中没有两个元素具有相同的标记，则 $S$ 是可数无限集。  
26. 利用练习 25 给出一个不同于书上的方法来证明有理数集是可数的。[提示：证明你能将一个有理数表示为一串带有斜杠的数字外加可能的减号。]  
27. 证明可数多个可数集的并集是可数的。  
28. 证明集合 $\mathbf{Z}^{+} \times \mathbf{Z}^{+}$ 是可数的。  
* 29. 证明所有有限比特串的集合是可数的。  
* 30. 证明二次方程 $ax^2 + bx + c = 0$ 的实数解的集合是可数的，其中 $a, b$ 和 $c$ 都是整数。  
*31. 通过证明多项式函数 $f: \mathbf{Z}^{+} \times \mathbf{Z}^{+} \rightarrow \mathbf{Z}^{+}$ ， $f(m, n) = (m + n - 2)(m + n - 1) / 2 + m$ 是一对一和映上的来证明 $\mathbf{Z}^{+} \times \mathbf{Z}^{+}$ 是可数集。  
*32. 证明当用 $(3n + 1)^{2}$ 来替换练习31的函数 $f(m, n)$ 右边表达式的每个 $n$ 的出现时，用 $(3m + 1)^{2}$ 来替换每个 $m$ 的出现时，你会得到一个一对一的多项式函数 $\mathbf{Z} \times \mathbf{Z} \rightarrow \mathbf{Z}$ 。是否存在一个一对一的多项式函数 $\mathbf{Q} \times \mathbf{Q} \rightarrow \mathbf{Q}$ 是一个开放问题。  
33. 利用Schröder-Bernstein定理证明(0，1)和[0，1]具有相同的基数。  
34. 采用下列方法证明（0，1）和 $\mathbf{R}$ 具有相同的基数。

a) $f(x) = \frac{2x - 1}{2x(1 - x)}$ 是从（0，1）到R的双射函数。

b)利用Schröder-Bernstein定理。

35. 证明不存在从正整数集合到正整数集合的幂集的一一对应。[提示：假设存在这样的一一对应。将正整数集的一个子集表示为一个无限比特串，其中第 $i$ 位为1如果 $i$ 属于该子集，否则为0。假设你能将这些无限比特串排成正整数下标的序列。构造一个新的比特串，其第 $i$ 位等于序列中第 $i$ 个比特串

的第 $i$ 位的补。证明这个新比特串不可能出现在该序列中。]

* 36. 证明从正整数子集的集合到 0 和 1 之间实数的集合存在一个一一对应。利用这个结果以及练习 34 和 35 推出结论 $\aleph_0 < |\mathcal{P}(\mathbf{Z}^+)| = |\mathbf{R}|$ 。[提示：看看练习 35 提示的第一部分。]  
*37. 证明用特定编程语言编写的所有计算机程序的集合是可数的。[提示：可以认为用编程语言编写的一个计算机程序是有限字母表上的一个符号串。]  
* 38. 证明从正整数到集合 $\{0, 1, 2, 3, 4, 5, 6, 7, 8, 9\}$ 的函数集合是不可数的。[提示：首先在 0 到 1 之间实数集与这些函数的子集之间建立一一对应。为此，让实数 $0.d_{1}d_{2}\cdots d_{n}\cdots$ 对应到函数 $f$ 以使 $f(n) = d_{n}$ 。]  
* 39. 一个函数是可计算的 (computable) 如果存在一个计算机程序能够计算函数的值。用练习 27 和 38 证明存在不可计算的函数。  
* 40. 证明如果 $S$ 是一个集合, 则不存在从 $S$ 到 $\mathcal{P}(S)$ ( $S$ 的幂集)的映上函数 $f$ 。从而得出结论 $|S| < |\mathcal{P}(S)|$ 。这个结论称为康托尔定理。[提示: 假定这样的函数 $f$ 存在。令 $T = \{s \in S \mid s \notin f(s)\}$ , 然后证明不存在元素 $s$ 使得 $f(s) = T$ ]  
*41. 在这个练习中，我们将证明Schröder-Bernstein定理。假设 $A$ 和 $B$ 是集合，且满足 $\left|A\right|\leqslant \left|B\right|$ 和 $\left|B\right|\leqslant$ $\left|A\right|$ 。这意味着存在单射函数 $f$ ： $A\to B$ 和 $g$ ： $B\to A$ 。为了证明定理，我们必须证明存在双射函数 $h$ ： $A\to B$ ，这蕴含了 $\left|A\right| = \left|B\right|$ 。

为了构建 $h$ ，我们构造一个 $a\in A$ 的元素链。这个链包含元素 $a$ ， $f(a)$ ， $g(f(a))$ ， $f(g(f(a)))$ ， $g(f(g(f(a))))$ ，…。也可以包含更多 $a$ 之前的元素，从而反向扩展该链。因此，如果存在 $b\in B$ 使得 $g(b) = a$ ，则 $b$ 就是该链中紧挨着 $a$ 前面的项。因为 $g$ 可能不是满射，可能不存在这样的 $b$ ，所以 $a$ 就是该链的第一个元素。如果这样的 $b$ 存在，由于 $g$ 是单射，它就是 $B$ 中唯一的元素，能通过 $g$ 映射到 $a$ ；我们把它记作 $g^{-1}(a)$ （注意，这里定义 $g^{-1}$ 是 $B$ 到 $A$ 的部分函数）。我们可以以同样的方式尽可能反向扩展该链，即加上 $f^{-1}(g^{-1}(a))$ ， $g^{-1}(f^{-1}(g^{-1}(a)))$ ，…。为了构造证明，需要完成下列五个步骤。

a) 证明 $A$ 或 $B$ 的每个元素只属于一个链。  
b) 证明存在四类链：（第一类）构成循环的链，从每个元素出发沿着链往前，最终还会回到这个元素；（第二类）反向扩展时不会终止；（第三类）反向扩展时终止于集合 $A$ ；（第四类）反向扩展时终止于集合 $B$ 。  
c)现在定义函数 $h$ ： $A\to B$ 。当 $\alpha$ 属于第一、二、三类链时，设 $h(a) = f(a)$ 。当 $\alpha$ 属于第四类链时，证明我们能定义 $h(a)$ ，且 $h(a) = g^{-1}(a)$ 。在下面两个小题中，我们将证明这个函数是从 $A$ 到 $B$ 的双射函数，以此作为定理的证明。  
d) 证明 $h$ 是一对一的（可以与第一、二、三类链一起考虑，第四类链单独证明）。  
e)证明 $h$ 是映上的（可以与第一、二、三类链一起考虑，第四类链单独证明）。

# 2.6 矩阵

# 2.6.1 引言

离散数学中用矩阵表示集合中元素之间的关系。在随后的章节中，矩阵将用于各种不同的建模中。例如，矩阵可以用在通信网络和交通运输系统的模型中。许多算法都是用矩阵模型开发的。本节回顾这些算法中会用到的矩阵算术运算。

定义1 矩阵 (matrix) 是矩形状的数组。 $m$ 行 $n$ 列的矩阵称为 $m \times n$ 矩阵。行数和列数相同的矩阵称为方阵 (square)。如果两个矩阵有同样数量的行和列且每个位置上的对应项都相等，则这两个矩阵是相等的。

例1 矩阵 $\begin{bmatrix} 1 & 1 \\ 0 & 2 \\ 1 & 3 \end{bmatrix}$ 是一个 $3 \times 2$ 矩阵。

现在介绍一些矩阵术语。黑斜体大写字母用来表示矩阵。

定义2 令 $m$ 和 $n$ 是正整数，并令

$$
\mathbf {A} = \left[ \begin{array}{c c c c} a _ {1 1} & a _ {1 2} & \dots & a _ {1 n} \\ a _ {2 1} & a _ {2 2} & \dots & a _ {2 n} \\ \vdots & \vdots & & \vdots \\ a _ {m 1} & a _ {m 2} & \dots & a _ {m n} \end{array} \right]
$$

$\mathbf{A}$ 的第 $i$ 行是 $1\times n$ 矩阵 $[a_{i1},a_{i2},\dots ,a_{in}]$ 。 $\mathbf{A}$ 的第 $j$ 列是 $n\times 1$ 矩阵 $\begin{bmatrix} a_{1j}\\ a_{2j}\\ \vdots \\ a_{mj} \end{bmatrix} .$

$\mathbf{A}$ 的第 $(i,j)$ 元素（element）或项（entry）是元素 $a_{ij}$ ，即 $\mathbf{A}$ 的第 $i$ 行第 $j$ 列位置上的数。表示矩阵 $\mathbf{A}$ 的一个方便的简写符号是写成 $\mathbf{A} = [a_{ij}]$ ，表示 $\mathbf{A}$ 是其第 $(i,j)$ 元素为 $a_{ij}$ 的矩阵。

# 2.6.2 矩阵算术

现在介绍矩阵算术的基本运算，首先是矩阵加法的定义。

定义3 令 $A = [a_{ij}]$ 和 $\pmb{B} = [b_{ij}]$ 为 $m \times n$ 矩阵。 $\pmb{A}$ 和 $\pmb{B}$ 的和，记作 $\mathbf{A} + \mathbf{B}$ ，是其第 $(i,j)$ 元素为 $a_{ij} + b_{ij}$ 的矩阵。换言之， $\mathbf{A} + \mathbf{B} = [a_{ij} + b_{ij}]$ 。

相同大小的两个矩阵的和是将它们对应位置上的元素相加得到的。不同大小的矩阵不能相加，因为两个矩阵在某些位置上不一定都有值。

例2 我们有

$$
\left[ \begin{array}{l l l} 1 & 0 & - 1 \\ 2 & 2 & - 3 \\ 3 & 4 & 0 \end{array} \right] + \left[ \begin{array}{c c c} 3 & 4 & - 1 \\ 1 & - 3 & 0 \\ - 1 & 1 & 2 \end{array} \right] = \left[ \begin{array}{r r r} 4 & 4 & - 2 \\ 3 & - 1 & - 3 \\ 2 & 5 & 2 \end{array} \right]
$$

现在讨论矩阵乘积。两个矩阵的乘积只有在第一个矩阵的列数和第二个矩阵的行数相等时才有定义。

定义4 令 $\mathbf{A}$ 为 $m \times k$ 矩阵， $\mathbf{B}$ 为 $k \times n$ 矩阵。 $\mathbf{A}$ 和 $\mathbf{B}$ 的乘积，记作 $\mathbf{AB}$ ，是一个 $m \times n$ 矩阵，其第 $(i, j)$ 元素等于 $\mathbf{A}$ 的第 $i$ 行与 $\mathbf{B}$ 的第 $j$ 列对应元素的乘积之和。换言之，如果 $\mathbf{AB} = [c_{ij}]$ ，则

$$
c _ {i j} = a _ {i 1} b _ {1 j} + a _ {i 2} b _ {2 j} + \dots + a _ {i k} b _ {k j}
$$

在图1中， $\mathbf{A}$ 的灰色行和 $\mathbf{B}$ 的灰色列用于计算 $\mathbf{AB}$ 的元素 $c_{ij}$ 。当第一个矩阵的列数和第二个矩阵的行数不相等时两个矩阵的乘积无定义。

![](245d0298734daa054794cc243b244dadcd4d924d844627149e4962f48b3653f9.jpg)  
图1 $A = [a_{ij}]$ 和 $\pmb {B} = [b_{ij}]$ 之乘积

现在举几个矩阵乘积的例子。

例3 令

Extra Examples

$$
\mathbf {A} = \left[ \begin{array}{l l l} 1 & 0 & 4 \\ 2 & 1 & 1 \\ 3 & 1 & 0 \\ 0 & 2 & 2 \end{array} \right] \quad \mathbf {B} = \left[ \begin{array}{l l} 2 & 4 \\ 1 & 1 \\ 3 & 0 \end{array} \right]
$$

求 $AB$ （如果有定义）。

解 因为 $A$ 是 $4 \times 3$ 矩阵而 $B$ 是 $3 \times 2$ 矩阵，所以 $A$ 和 $B$ 的乘积有定义且是 $4 \times 2$ 矩阵。要计算 $AB$ 的元素，首先把 $A$ 的行和 $B$ 的列的对应元素相乘，然后再把这些乘积加起来。例如， $AB$ 的(3，1)位置的元素是 $A$ 的第三行和 $B$ 的第一列对应元素的乘积之和，即 $3 \cdot 2 + 1 \cdot 1 + 0 \cdot 3 = 7$ 。计算出 $AB$ 的所有元素后，得到

$$
\mathbf {A B} = \left[ \begin{array}{l l} 1 4 & 4 \\ 8 & 9 \\ 7 & 1 3 \\ 8 & 2 \end{array} \right]
$$

虽然矩阵乘法是可结合的，很容易利用实数加法和乘法的结合律来证明，但是，矩阵乘法不是可交换的。也就是说，如果 $A$ 和 $B$ 为矩阵， $AB$ 和 $BA$ 不一定相同。事实上可能这两个乘积中只有一个有定义。例如如果 $A$ 是 $2 \times 3$ 矩阵， $B$ 是 $3 \times 4$ 矩阵，那么 $AB$ 有定义且是 $2 \times 4$ 矩阵； $BA$ 没有定义，因为 $3 \times 4$ 矩阵和 $2 \times 3$ 矩阵无法相乘。

一般来说，假定 $\mathbf{A}$ 是 $m\times n$ 矩阵， $\pmb{B}$ 是 $r\times s$ 矩阵。则只有当 $n = r$ 时 $\mathbf{AB}$ 才有定义，当 $s = m$ 时BA才有定义。不仅如此，即使 $\mathbf{AB}$ 和BA均有定义，也不一定具有同样大小除非 $m = n = r = s$ 。因此，如果AB和BA均有定义且有相同大小，则 $\mathbf{A}$ 和 $\pmb{B}$ 必定是方阵且具有同样大小。再者，即使 $\mathbf{A}$ 和 $\pmb{B}$ 均为 $n\times n$ 矩阵， $\mathbf{AB}$ 和BA也不一定会相等，如例4所示。

例4 令

$$
\mathbf {A} = \left[ \begin{array}{c c} 1 & 1 \\ 2 & 1 \end{array} \right] \quad \mathbf {B} = \left[ \begin{array}{c c} 2 & 1 \\ 1 & 1 \end{array} \right]
$$

是否有 $AB = BA$ ？

解 经计算得

$$
\mathbf {A} \mathbf {B} = \left[ \begin{array}{l l} 3 & 2 \\ 5 & 3 \end{array} \right] \quad \mathbf {B} \mathbf {A} = \left[ \begin{array}{l l} 4 & 3 \\ 3 & 2 \end{array} \right]
$$

所以， $AB\neq BA$

# 2.6.3 矩阵的转置和幂

现在引入一个元素为0和1的重要矩阵。

定义5 $n$ 阶单位矩阵（identity matrix of order $n$ ）是 $n \times n$ 矩阵 $\mathbf{I}_n = [\delta_{ij}]$ （克罗内克积（kronecker delta）），其中 $\delta_{ij} = 1$ 如果 $i = j$ ， $\delta_{ij} = 0$ 如果 $i \neq j$ 。因此

$$
\boldsymbol {I} _ {n} = \left[ \begin{array}{c c c c} 1 & 0 & \dots & 0 \\ 0 & 1 & \dots & 0 \\ \vdots & \vdots & & \vdots \\ 0 & 0 & \dots & 1 \end{array} \right]
$$

一个矩阵乘以一个大小合适的单位阵不会改变该矩阵。换言之，当 $\mathbf{A}$ 是一个 $m \times n$ 矩阵时，有

$$
A I _ {n} = I _ {m} A = A
$$

可以定义方阵的幂次。当 $\mathbf{A}$ 是一个 $n\times n$ 矩阵时，则有

$$
\boldsymbol {A} _ {0} = \boldsymbol {I} _ {n}, \quad \boldsymbol {A} ^ {r} = \underbrace {\boldsymbol {A A A} \cdots \boldsymbol {A}} _ {(r \text {个 相 乘})}
$$

有些场合中需要有交换一个方阵的行和列的运算。

定义6 令 $A = [a_{ij}]$ 为 $m \times n$ 矩阵。 $A$ 的转置(transpose)记作 $A^{\mathrm{T}}$ ，是通过交换 $A$ 的行和列所得到的 $n \times m$ 矩阵。换言之，如果 $A^{\mathrm{T}} = [b_{ij}]$ ，则 $b_{ij} = a_{ji}$ ， $i = 1, 2, \dots, n$ ， $j = 1, 2, \dots, m$ 。

例5 矩阵 $\left[ \begin{array}{lll}1 & 2 & 3\\ 4 & 5 & 6 \end{array} \right]$ 的转置是矩阵 $\left[ \begin{array}{ll}1 & 4\\ 2 & 5\\ 3 & 6 \end{array} \right].$

有一类很重要的矩阵在交换行和列之后依然保持不变。

定义7方阵 $\mathbf{A}$ 称为对称的（symmetric），如果 $A = A^{\mathrm{T}}$ 。因此 $A = [a_{ij}]$ 为对称的，如果对所有 $i$ 和 $j$ （ $1 \leqslant i \leqslant n, 1 \leqslant j \leqslant n$ ），有 $a_{ij} = a_{ji}$ 。

注意一个矩阵是对称的当且仅当它是方阵且相对于主对角线（对所有 $i$ ，由第 $i$ 行第 $i$ 列的元素组成）是对称的。这一对称性如图2所示。

例6 矩阵 $\begin{bmatrix} 1 & 1 & 0 \\ 1 & 0 & 1 \\ 0 & 1 & 0 \end{bmatrix}$ 是对称的。

# 2.6.4 0-1矩阵

所有元素非0即1的矩阵称为0-1矩阵。0-1矩阵经常用来表示各种离散结构，在第9章和第10章将会看到。使用这些结构的算法是基于

![](7eee5adb9955e304422349f297b9137e0235ba4ec274762fd1953d3be24d2313.jpg)  
图2 对称矩阵

0-1矩阵的布尔算术运算。该算术运算基于布尔运算 $\wedge$ 和 $\vee$ ，作用在成对的比特上，定义如下：

$$
b _ {1} \wedge b _ {2} = \left\{ \begin{array}{l l} 1 & \text {如 果} b _ {1} = b _ {2} = 1 \\ 0 & \text {否 则} \end{array} \right.
$$

$$
b _ {1} \vee b _ {2} = \left\{ \begin{array}{l l} 1 & \text {如 果} b _ {1} = 1 \text {或 者} b _ {2} = 1 \\ 0 & \text {否 则} \end{array} \right.
$$

定义8 令 $A = [a_{ij}]$ 和 $\pmb{B} = [b_{ij}]$ 为 $m \times n$ 阶0-1矩阵。 $\pmb{A}$ 和 $\pmb{B}$ 的并是0-1矩阵，其 $(i,j)$ 元素为 $a_{ij} \lor b_{ij}$ 。 $\pmb{A}$ 和 $\pmb{B}$ 的并记作 $\mathbf{A} \lor \mathbf{B}$ 。 $\pmb{A}$ 和 $\pmb{B}$ 的交是0-1矩阵，其 $(i,j)$ 元素是 $a_{ij} \land b_{ij}$ 。 $\pmb{A}$ 和 $\pmb{B}$ 的交记作 $\mathbf{A} \land \mathbf{B}$ 。

例7 求0-1矩阵的并和交。

$$
\mathbf {A} = \left[ \begin{array}{c c c} 1 & 0 & 1 \\ 0 & 1 & 0 \end{array} \right], \quad \mathbf {B} = \left[ \begin{array}{c c c} 0 & 1 & 0 \\ 1 & 1 & 0 \end{array} \right]
$$

解 $A$ 和 $\pmb{B}$ 的并是

$$
\mathbf {A} \vee \mathbf {B} = \left[ \begin{array}{l l l l l l} 1 & \vee & 0 & 0 & \vee & 1 & 1 & \vee & 0 \\ 0 & \vee & 1 & 1 & \vee & 1 & 0 & \vee & 0 \end{array} \right] = \left[ \begin{array}{l l l} 1 & 1 & 1 \\ 1 & 1 & 0 \end{array} \right]
$$

$\mathbf{A}$ 和 $\pmb{B}$ 的交是

$$
\mathbf {A} \wedge \mathbf {B} = \left[ \begin{array}{l l l l l l} 1 & \wedge & 0 & 0 & \wedge & 1 & 1 & \wedge & 0 \\ 0 & \wedge & 1 & 1 & \wedge & 1 & 0 & \wedge & 0 \end{array} \right] = \left[ \begin{array}{l l l} 0 & 0 & 0 \\ 0 & 1 & 0 \end{array} \right]
$$

现在定义两个矩阵的布尔积。

定义9 令 $A = [a_{ij}]$ 为 $m \times k$ 阶0-1矩阵， $B = [b_{ij}]$ 为 $k \times n$ 阶0-1矩阵。 $A$ 和 $B$ 的布尔积（Boolean product），记作 $A \odot B$ ，是 $m \times n$ 矩阵 $[c_{ij}]$ ，其中

$$
c _ {i j} = \left(a _ {i 1} \wedge b _ {1 j}\right) \vee \left(a _ {i 2} \wedge b _ {2 j}\right) \vee \dots \vee \left(a _ {i k} \wedge b _ {k j}\right)
$$

注意 $\mathbf{A}$ 和 $\pmb{B}$ 的布尔积的计算方法类似于这两个矩阵的普通乘积，但要用运算 $\vee$ 代替加法，用运算 $\wedge$ 代替乘法。下面给出一个矩阵布尔乘法的例子。

例8 求 $\mathbf{A}$ 和 $\pmb{B}$ 的布尔积，其中

$$
\mathbf {A} = \left[ \begin{array}{l l} 1 & 0 \\ 0 & 1 \\ 1 & 0 \end{array} \right], \quad \mathbf {B} = \left[ \begin{array}{l l l} 1 & 1 & 0 \\ 0 & 1 & 1 \end{array} \right]
$$

解 $A$ 和 $\pmb{B}$ 的布尔积 $A\odot B$ 由下式给出：

$$
\begin{array}{l} \mathbf {A} \odot \mathbf {B} = \left[ \begin{array}{l l l l l l} (1 \wedge 1) \vee (0 \wedge 0) & (1 \wedge 1) \vee (0 \wedge 1) & (1 \wedge 0) \vee (0 \wedge 1) \\ (0 \wedge 1) \vee (1 \wedge 0) & (0 \wedge 1) \vee (1 \wedge 1) & (0 \wedge 0) \vee (1 \wedge 1) \\ (1 \wedge 1) \vee (0 \wedge 0) & (1 \wedge 1) \vee (0 \wedge 1) & (1 \wedge 0) \vee (0 \wedge 1) \end{array} \right] \\ = \left[ \begin{array}{l l l l l l} 1 & \vee & 0 & 1 & \vee & 0 & 0 & \vee & 0 \\ 0 & \vee & 0 & 0 & \vee & 1 & 0 & \vee & 1 \\ 1 & \vee & 0 & 1 & \vee & 0 & 0 & \vee & 0 \end{array} \right] = \left[ \begin{array}{l l l} 1 & 1 & 0 \\ 0 & 1 & 1 \\ 1 & 1 & 0 \end{array} \right] \\ \end{array}
$$

我们还可以定义0-1方阵的布尔幂。这些幂将用于以后研究图论中的路径，它通常用来为诸如计算机网络中通信路径建立模型。

定义10 令 $\mathbf{A}$ 为0-1方阵， $r$ 为正整数。 $\mathbf{A}$ 的 $r$ 次布尔幂是 $r$ 个 $\mathbf{A}$ 的布尔积。 $\mathbf{A}$ 的 $r$ 次布尔幂记作 $\mathbf{A}^{[r]}$ 。因此

$$
\boldsymbol {A} ^ {[ r ]} = \underbrace {\boldsymbol {A} \odot \boldsymbol {A} \odot \boldsymbol {A} \odot \cdots \odot \boldsymbol {A}} _ {(r \text {个} A)}
$$

（这是良定义的，因为矩阵的布尔积是可结合的。）另外我们定义 $A^{[0]}$ 为 $\pmb{I}_n$

例9 令 $\mathbf{A} = \begin{bmatrix} 0 & 0 & 1\\ 1 & 0 & 0\\ 1 & 1 & 0 \end{bmatrix}$ 。对所有正整数 $n$ 求 $\mathbf{A}^{[n]}$ 。

解 计算可得

$$
\boldsymbol {A} ^ {[ 2 ]} = \boldsymbol {A} \odot \boldsymbol {A} = \left[ \begin{array}{l l l} 1 & 1 & 0 \\ 0 & 0 & 1 \\ 1 & 0 & 1 \end{array} \right]
$$

还可以计算得出

$$
\mathbf {A} ^ {[ 3 ]} = \mathbf {A} ^ {[ 2 ]} \odot \mathbf {A} = \left[ \begin{array}{l l l} 1 & 0 & 1 \\ 1 & 1 & 0 \\ 1 & 1 & 1 \end{array} \right], \quad \mathbf {A} ^ {[ 4 ]} = \mathbf {A} ^ {[ 3 ]} \odot \mathbf {A} = \left[ \begin{array}{l l l} 1 & 1 & 1 \\ 1 & 0 & 1 \\ 1 & 1 & 1 \end{array} \right]
$$

进一步的计算表明

$$
\mathbf {A} ^ {[ 5 ]} = \left[ \begin{array}{l l l} 1 & 1 & 1 \\ 1 & 1 & 1 \\ 1 & 1 & 1 \end{array} \right]
$$

读者现在可以看出对所有正整数 $n$ ， $n\geqslant 5$ ，有 $\mathbf{A}^{[n]} = \mathbf{A}^{[5]}$ 。

练习

1. 令 $A = \begin{bmatrix} 1 & 1 & 1 & 3 \\ 2 & 0 & 4 & 6 \\ 1 & 1 & 3 & 7 \end{bmatrix}$ 。

a) $A$ 的尺寸是什么？  
b) $A$ 的第3列是什么？

c) $A$ 的第2行是什么？  
d) $A$ 在（3，2）位置上的元素是什么？  
e) $\mathbf{A}^{\mathrm{T}}$ 是什么？

2. 求 $A + B$ ，其中

$$
\begin{array}{l} \mathbf {a}) \mathbf {A} = \left[ \begin{array}{r r r} 1 & 0 & 4 \\ - 1 & 2 & 2 \\ 0 & - 2 & - 3 \end{array} \right], \mathbf {B} = \left[ \begin{array}{r r r} - 1 & 3 & 5 \\ 2 & 2 & - 3 \\ 2 & - 3 & 0 \end{array} \right] \\ \mathbf {b}) \boldsymbol {A} = \left[ \begin{array}{r r r r} - 1 & 0 & 5 & 6 \\ - 4 & - 3 & 5 & - 2 \end{array} \right], \quad \boldsymbol {B} = \left[ \begin{array}{r r r r} - 3 & 9 & - 3 & 4 \\ 0 & - 2 & - 1 & 2 \end{array} \right] \\ \end{array}
$$

3. 求 $AB$ ，如果

$$
\begin{array}{l} \mathbf {a}) \boldsymbol {A} = \left[ \begin{array}{l l} 2 & 1 \\ 3 & 2 \end{array} \right], \quad \boldsymbol {B} = \left[ \begin{array}{l l} 0 & 4 \\ 1 & 3 \end{array} \right] \\ \mathbf {b}) \mathbf {A} = \left[ \begin{array}{c c} 1 & - 1 \\ 0 & 1 \\ 2 & 3 \end{array} \right], \mathbf {B} = \left[ \begin{array}{c c c} 3 & - 2 & - 1 \\ 1 & 0 & 2 \end{array} \right] \\ \mathbf {c}) \boldsymbol {A} = \left[ \begin{array}{r r} 4 & - 3 \\ 3 & - 1 \\ 0 & - 2 \\ - 1 & 5 \end{array} \right], \boldsymbol {B} = \left[ \begin{array}{r r r r} - 1 & 3 & 2 & - 2 \\ 0 & - 1 & 4 & - 3 \end{array} \right] \\ \end{array}
$$

4. 求乘积 $AB$ ，其中

$$
\begin{array}{l} \mathbf {a}) \mathbf {A} = \left[ \begin{array}{r r r} 1 & 0 & 1 \\ 0 & - 1 & - 1 \\ - 1 & 1 & 0 \end{array} \right], \mathbf {B} = \left[ \begin{array}{r r r} 0 & 1 & - 1 \\ 1 & - 1 & 0 \\ - 1 & 0 & 1 \end{array} \right] \\ \mathbf {b}) \mathbf {A} = \left[ \begin{array}{c c c} 1 & - 3 & 0 \\ 1 & 2 & 2 \\ 2 & 1 & - 1 \end{array} \right], \mathbf {B} = \left[ \begin{array}{c c c c} 1 & - 1 & 2 & 3 \\ - 1 & 0 & 3 & - 1 \\ - 3 & - 2 & 0 & 2 \end{array} \right] \\ \mathbf {c}) \boldsymbol {A} = \left[ \begin{array}{r r} 0 & - 1 \\ 7 & 2 \\ - 4 & 3 \end{array} \right], \boldsymbol {B} = \left[ \begin{array}{r r r r r} 4 & - 1 & 2 & 3 & 0 \\ - 2 & 0 & 3 & 4 & 1 \end{array} \right] \\ \end{array}
$$

5. 求矩阵 $\mathbf{A}$ 使得 $\left[ \begin{array}{ll}2 & 3\\ 1 & 4 \end{array} \right]\mathbf{A} = \left[ \begin{array}{ll}3 & 0\\ 1 & 2 \end{array} \right]$ 。[提示：求解 $\mathbf{A}$ 需要解线性方程组。]

6. 求矩阵 $\mathbf{A}$ 使得 $\begin{bmatrix} 1 & 3 & 2 \\ 2 & 1 & 1 \\ 4 & 0 & 3 \end{bmatrix} \mathbf{A} = \begin{bmatrix} 7 & 1 & 3 \\ 1 & 0 & 3 \\ -1 & -3 & 7 \end{bmatrix}$ 。

7. 令 $A$ 为 $m \times n$ 矩阵，0 为元素全为 0 的 $m \times n$ 矩阵。证明 $A = 0 + A = A + 0$ 。

8. 证明矩阵加法是可交换的，即证明如果 $A$ 和 $B$ 均为 $m \times n$ 矩阵，则 $A + B = B + A$ 。

9. 证明矩阵加法是可结合的，即证明如果 $A$ 、 $B$ 和 $C$ 均为 $m \times n$ 矩阵，则 $A + (B + C) = (A + B) + C$ 。

10. 令 $A$ 为 $3 \times 4$ 矩阵， $B$ 为 $4 \times 5$ 矩阵， $C$ 是 $4 \times 4$ 矩阵。判断下列哪些乘积有定义并求出有定义的那些矩阵的尺寸。

a)AB

b)BA

c)AC

d)CA

e)BC

f)CB

11. 如果乘积 $AB$ 和 $BA$ 均有定义，关于矩阵 $A$ 和 $B$ 的尺寸能知道些什么？

12. 本题要证明矩阵乘法对矩阵加法的分配律。

a)假定 $A$ 、 $\pmb{B}$ 均为 $m\times k$ 矩阵， $C$ 为 $k\times n$ 矩阵。证明 $(A + B)C = AC + BC.$   
b)假定 $C$ 是 $m\times k$ 矩阵， $\mathbf{A}$ 和 $\pmb{B}$ 为 $k\times n$ 矩阵。证明 $C(A + B) = CA + CB_{\circ}$

13. 本题要证明矩阵乘法的结合律。假定 $A$ 是 $m \times p$ 矩阵， $B$ 是 $p \times k$ 矩阵， $C$ 是 $k \times n$ 矩阵。证明 $A(BC) = (AB)C$ 。

14. $n \times n$ 矩阵 $\mathbf{A} = [a_{ij}]$ 称为对角矩阵，如果对所有 $i \neq j$ 有 $a_{ij} = 0$ 。证明两个 $n \times n$ 对角矩阵的乘积仍是对角矩阵。给出计算这一乘积的一个简单规则。

15. 令 $A = \begin{bmatrix} 1 & 1 \\ 0 & 1 \end{bmatrix}$ 。找出计算 $A^n$ 的公式，其中 $n$ 为正整数。

16. 证明 $(\mathbf{A}^{\mathrm{T}})^{\mathrm{T}} = \mathbf{A}$

17. 令 $\mathbf{A}$ 和 $\pmb{B}$ 为两个 $n\times n$ 矩阵。证明

a) $(\mathbf{A} + \mathbf{B})^{\mathrm{T}} = \mathbf{A}^{\mathrm{T}} + \mathbf{B}^{\mathrm{T}}$   
b) $(\mathbf{A}\mathbf{B})^{\mathrm{T}} = \mathbf{B}^{\mathrm{T}}\mathbf{A}^{\mathrm{T}}$

如果 $\mathbf{A}$ 和 $\pmb{B}$ 是 $n\times n$ 矩阵且 $\mathbf{AB} = \mathbf{BA} = \mathbf{I}_n$ ，则 $\pmb{B}$ 称为是 $\mathbf{A}$ 的逆（这一术语是合适的，因为这样的 $\pmb{B}$ 是唯一的）而 $\mathbf{A}$ 称为是可逆的。记号 $\pmb {B} = \pmb{A}^{-1}$ 表示 $\pmb{B}$ 是 $\mathbf{A}$ 的逆。

18.证明 $\left[ \begin{array}{rrr}2 & 3 & -1\\ 1 & 2 & 1\\ -1 & -1 & 3 \end{array} \right]$ 是 $\left[ \begin{array}{rrr}7 & -8 & 5\\ -4 & 5 & -3\\ 1 & -1 & 1 \end{array} \right]$ 的逆。  
19. 令 $A$ 为 $2 \times 2$ 矩阵， $A = \begin{bmatrix} a & b \\ c & d \end{bmatrix}$ 。

证明如果 $ad - bc \neq 0$ ，则 $\mathbf{A}^{-1} = \begin{bmatrix} \frac{d}{ad - bc} & \frac{-b}{ad - bc} \\ \frac{-c}{ad - bc} & \frac{a}{ad - bc} \end{bmatrix}$ 。

20. 令 $A = \left[ \begin{array}{ll} -1 & 2\\ 1 & 3 \end{array} \right].$

a)求 $A^{-1}$ [提示：利用练习19的结果]。  
b)求 $A^3$   
c)求 $(A^{-1})^3$   
d)用b和c的答案证明 $(A^{-1})^3$ 是 $A^3$ 的逆。

21. 令 $\mathbf{A}$ 为可逆矩阵。证明当 $n$ 是正整数时就有 $(\mathbf{A}^n)^{-1} = (\mathbf{A}^{-1})^n$   
22. 令 $\mathbf{A}$ 为矩阵。证明 $\mathbf{A}\mathbf{A}^{\mathrm{T}}$ 是对称的。[提示：借助于练习17b来证明这一矩阵等于其转置。]  
23. 假设 $\mathbf{A}$ 是 $n \times n$ 矩阵，其中 $n$ 是正整数。证明 $\mathbf{A} + \mathbf{A}^{\mathrm{T}}$ 是对称的。  
24. a) 证明以 $x_{1}, x_{2}, \cdots, x_{n}$ 为变量的线性方程组

$$
a _ {1 1} x _ {1} + a _ {1 2} x _ {2} + \dots + a _ {1 n} x _ {n} = b _ {1}
$$

$$
a _ {2 1} x _ {1} + a _ {2 2} x _ {2} + \dots + a _ {2 n} x _ {n} = b _ {2}
$$

中

$$
a _ {n 1} x _ {1} + a _ {n 2} x _ {2} + \dots + a _ {n n} x _ {n} = b _ {n}
$$

可以表示为 $AX = B$ ，其中 $A = [a_{ij}]$ ， $\pmb{X}$ 是 $n\times 1$ 矩阵且 $x_{i}$ 就是其第 $i$ 行， $\pmb{B}$ 是 $n\times 1$ 矩阵且 $b_{i}$ 是其第 $i$ 行。

b) 证明如果矩阵 $\mathbf{A} = \left[a_{ij}\right]$ 是可逆的（在练习18前面定义了可逆），则a) 中方程组的解可以用等式 $\mathbf{X} = \mathbf{A}^{-1}\mathbf{B}$ 得出。

25. 用练习18和24解方程组

$$
\left\{ \begin{array}{l} 7 x _ {1} - 8 x _ {2} + 5 x _ {3} = 5 \\ - 4 x _ {1} + 5 x _ {2} - 3 x _ {3} = - 3 \\ x _ {1} - x _ {2} + x _ {3} = 0 \end{array} \right.
$$

26. 令 $A = \begin{bmatrix} 1 & 1 \\ 0 & 1 \end{bmatrix}$ 和 $B = \begin{bmatrix} 0 & 1 \\ 1 & 0 \end{bmatrix}$ 。求

a) $A \vee B$

b) $A\wedge B$

c) $A\odot B$

27. 令 $A = \begin{bmatrix} 1 & 0 & 1\\ 1 & 1 & 0\\ 0 & 0 & 1 \end{bmatrix}$ 和 $\pmb {B} = \begin{bmatrix} 0 & 1 & 1\\ 1 & 0 & 1\\ 1 & 0 & 1 \end{bmatrix}$ 。求

a) $A \vee B$

b) $A\wedge B$

c) $A \odot B$

28. 求 $A$ 和 $B$ 的布尔积，其中

$$
\mathbf {A} = \left[ \begin{array}{l l l l} 1 & 0 & 0 & 1 \\ 0 & 1 & 0 & 1 \\ 1 & 1 & 1 & 1 \end{array} \right], \mathbf {B} = \left[ \begin{array}{l l} 1 & 0 \\ 0 & 1 \\ 1 & 1 \\ 1 & 0 \end{array} \right]
$$

1 0 0 29.令 $A = \begin{bmatrix} 1 & 0 & 0\\ 1 & 0 & 1\\ 0 & 1 & 0 \end{bmatrix}$ ，求

a)A[2]

b) $A^{[3]}$

c) $A \vee A^{[2]} \vee A^{[3]}$

30. 令 $\mathbf{A}$ 为0-1矩阵。证明

a) $A \vee A = A$

b) $A\wedge A = A$

31. 本题证明交和并运算是可交换的。令 $A$ 和 $B$ 为 $m \times n$ 阶0-1矩阵。证明

a) $A \vee B = B \vee A$

b) $B\wedge A = A\wedge B$

32. 本题证明交和并运算是可结合的。令 $A$ 、 $B$ 和 $C$ 为 $m \times n$ 阶 0-1 矩阵。证明

a) $(A\lor B)\lor C = A\lor (B\lor C)$

b) $(A\wedge B)\wedge C = A\wedge (B\wedge C)$

33. 本题建立交对并运算的分配律。令 $A$ 、 $B$ 和 $C$ 为 $m \times n$ 阶 0-1 矩阵。证明

a) $A \vee (B \wedge C) = (A \vee B) \wedge (A \vee C)$

b) $A \wedge (B \vee C) = (A \wedge B) \vee (A \wedge C)$

34. 令 $\mathbf{A}$ 为 $n \times n$ 阶0-1矩阵，令 $\mathbf{I}$ 为 $n \times n$ 单位矩阵。证明 $\mathbf{A} \odot \mathbf{I} = \mathbf{I} \odot \mathbf{A} = \mathbf{A}$

35. 本题证明0-1矩阵的布尔积是可结合的。假定 $\mathbf{A}$ 是 $m \times p$ 阶0-1矩阵， $\mathbf{B}$ 是 $p \times k$ 阶0-1矩阵， $C$ 是 $k \times n$ 阶0-1矩阵。证明 $\mathbf{A} \odot (\mathbf{B} \odot \mathbf{C}) = (\mathbf{A} \odot \mathbf{B}) \odot \mathbf{C}$ 。

# 关键术语和结论

# 术语

集合(set)：一组不同对象的聚集。

公理（axiom）：一个理论的基本假设。

悖论(paradox)：逻辑上不一致性。

集合的元素、成员（element，member of a set）：集合中的一个对象。

花名册方法（roster method）：通过列出元素来描述一个集合的方法。

集合构造器记号(set builder notation)：通过叙述一个元素要成为成员必须满足的性质来描述一个集合的记号。

$\varnothing$ （空集，empty set，null set）：没有成员的集合。

全集（universal set）：包含当前考虑的所有对象的集合。

文氏图（Venn diagram）：一个或多个集合的一种图形表示。

$S = T$ （集合相等，set equality）： $S$ 和 $T$ 有相同的元素。

$S \subseteq T$ ( $S$ 是 $T$ 的子集， $S$ isa subset of $T$ )： $S$ 的每个元素也是 $T$ 的元素。

$S \subset T$ ( $S$ 是 $T$ 的真子集， $S$ is a proper subset of $T$ )： $S$ 是 $T$ 的子集，且 $S \neq T$ 。

有限集（finite set）：含 $n$ 个元素的集合，其中 $n$ 是非负整数。

无限集(infinite set)：不是有限集的集合。

$|S|$ （ $S$ 的基数，the cardinality of $S$ ）： $S$ 中元素的个数。

$P(S)$ (S的幂集，the power set of $S$ )： $S$ 的所有子集的集合。

$\mathbf{A} \cup \mathbf{B}(A$ 和 $B$ 的并集，the union of $A$ and $B)$ ：包含那些至少属于 $A$ 和 $B$ 之一的元素的集合。

$A \cap B (A$ 和 $B$ 的交集，the intersection of $A$ and $B)$ ：包含那些既属于 $A$ 又属于 $B$ 的元素的集合。

$A - B(A$ 和 $B$ 的差集，the difference of $A$ and $B$ ）：包含那些属于 $A$ 而不属于 $B$ 的元素的集合。

$\overline{A}(A$ 的补集，the complement of $A$ ）：全集中但不属于 $A$ 的元素的集合。

$A \oplus B$ ( $A$ 和 $B$ 的对称差，the symmetric difference of $A$ and $B$ )：包含恰属于 $A$ 和 $B$ 之一的那些元素的集合。

成员表(membership table)：显示集合中元素的成员关系的表格。

从 $A$ 到 $B$ 的函数(function from $A$ to $B$ ): 为 $A$ 中每个元素指派恰好一个 $B$ 中的元素。

$f$ 的定义域（domain of $f$ ）：集合 $A$ ，这里 $f$ 是从 $A$ 到 $B$ 的函数。

$f$ 的陪域（codomain of $f$ ）：集合 $B$ ，这里 $f$ 是从 $A$ 到 $B$ 的函数。

$b$ 是 $f$ 之下 $\pmb{a}$ 的像（ $b$ is the image of $a$ under $f$ ）： $b = f(a)$ 。

$a$ 是 $f$ 之下 $b$ 的原像（ $a$ is a pre-image of $b$ under $f$ ）： $f(a) = b$ 。

$f$ 的值域(range of $f$ ): $f$ 的像的集合。

映上函数，满射（onto function, surjection）：从 $A$ 到 $B$ 的函数使得 $B$ 的每个元素都是 $A$ 中某元素的像。

一对一函数，内射(one-to-one function, injection)：定义域中每个元素的像都不相同的函数。

一一对应，双射(one-to-one correspondence， bijection)：既是一对一又是映上的函数。

$f$ 的逆(inverse of $f$ ): (当 $f$ 是双射时)颠倒 $f$ 给出的对应关系所得的函数。

$f \circ g (f$ 和 $g$ 的组合，composition of $f$ and $g)$ ：为 $x$ 指派 $f(g(x))$ 的函数。

$\lfloor x \rfloor$ （下取整函数，floor function）：不超过 $x$ 的最大整数。

$\left[x\right]$ （上取整函数，ceilingfunction）：大于或等于 $x$ 的最小整数。

部分函数（partial function），为定义域的一个子集的每个元素指派唯一一个陪域中的元素。

序列（sequence）：以整数集的子集为定义域的函数。

几何级数（geometricprogression）：形如 $a$ ， $ar$ ， $ar^2$ ，…的序列，其中 $a$ 和 $r$ 都是实数。

算术级数(arithmeticprogression)：形如 $a$ ， $a + d$ ， $a + 2d$ ，…的序列，其中 $a$ 和 $d$ 都是实数。

串（string）：有限序列。

空串（empty string）：长度为0的串。

递推关系（recurrence relation）：对于所有大于某个整数的 $n$ ，用序列中先前的一项或多项来表示序列中的第 $n$ 项 $a_{n}$ 的一个等式。

$\sum_{i = 1}^{n}a_{i}$ ：求和式 $a_1 + a_2 + \dots +a_n$

$\prod_{i = 1}^{n}a_{i}$ ：乘积式 $a_1a_2\dots a_n$ 。

基数（cardinality）：两个集合 $A$ 和 $B$ 具有相同的基数，如果有一个从 $A$ 到 $B$ 的一一对应。

可数集(countable set)：有限集或与正整数集存在一一对应的集合。

不可数集（uncountable set）：不是可数的集合。

$\S 0$ （阿里夫零，aleph null）：可数集的基数。

$c$ ：实数集的基数。

康托尔对角线法（Cantor diagonalization argument）：用来证明实数集是不可数的一种证明技术。

可计算函数（computable function）：存在用某种编程语言写的计算机程序可以计算其值的函数。

不可计算函数（uncomputable function）：不存在用某种编程语言写的计算机程序可以计算其值的函数。

连续统假设（continuum hypothesis）：一个命题叙述不存在集合 $A$ 使得 $\aleph_0 < |A| < c$ 。

矩阵（matrix）：矩形数组。

矩阵加法（matrix addition）：参见2.6.2节定义3。

矩阵乘法（matrix multiplication）：参见2.6.2节定义4。

$I_{n}(n$ 阶单位矩阵，identity matrix of order $n$ ）：对角线元素为1、其他元素为0的 $n\times n$ 阶矩阵。

$\mathbf{A}^{\mathrm{T}}(\mathbf{A}$ 的转置，transpose of $A$ ）：交换 $\mathbf{A}$ 的行和列得到的矩阵。

对称矩阵（symmetric matrix）：一个矩阵是对称的，如果它与其转置相等。

0-1 矩阵(zero-one matrix)：矩阵的元素非 0 即 1。

$A \vee B$ ( $A$ 和 $B$ 的并，the join of $A$ and $B$ )：参见2.6.4节定义8。

$A \wedge B (A$ 和 $B$ 的交，the meet of $A$ and $B$ ）：参见2.6.4节定义8。

$\mathbf{A} \odot \mathbf{B} (\mathbf{A}$ 和 $\mathbf{B}$ 的布尔积，the Boolean product of $\mathbf{A}$ and $\mathbf{B}$ ）：参见2.6.4节定义9。

# 结论

2.2 节表 1 给出的集合恒等式。  
2.4 节表 2 给出的求和公式。

有理数集是可数的。

实数集是不可数的。

# 复习题

1. 试解释一个集合是另一个集合子集的含义。如何证明一个集合是另一个集合的子集？

2. 什么是空集？证明空集是任何集合的子集。

3. a) 试定义 $|S|$ （集合 $S$ 的基数）。

b) 试给出计算 $|A \cup B|$ 的公式，其中 $A$ 、 $B$ 均为集合。

4. a) 试定义集合 $S$ 的幂集。

b) 什么时候空集在集合 $S$ 的幂集中？  
c)具有 $n$ 个元素的集合 $S$ 的幂集含有多少个元素？

5. a) 试定义两个集合的并集、交集、差集以及对称差。

b)正整数集与奇数集的并集、交集、差集及对称差分别是什么？

6. a) 试解释两集合相等的含义。

b)尽可能多地描述证明两个集合相等的方法。  
c)用至少两种不同的方法证明 $A - (B\cap C)$ 与 $(A - B)\bigcup (A - C)$ 是相等的。

7. 试解释逻辑等价式与集合恒等式之间的关系。

8. a) 试定义一个函数的定义域、陪域及值域。

b) 令 $f(n)$ 为从整数集到整数集的函数使得 $f(n) = n^2 + 1$ 。该函数的定义域、陪域、值域分别是什么？

9. a) 试解释从正整数集到正整数集的函数是一对一的含义。

b) 试解释从正整数集到正整数集的函数是映上的含义。  
c) 给出一个从正整数集到正整数集的既一对一又映上的函数的例子。  
d) 给出一个从正整数集到正整数集的一对一而非映上的函数的例子。  
e) 给出一个从正整数集到正整数集的非一对一但映上的函数的例子。  
f) 给出一个从正整数集到正整数集的既非一对一又非映上的函数的例子。

10. a) 试定义一个函数的逆。

b)什么时候一个函数存在逆？  
c)从整数集合到整数集合的函数 $f(n) = 10 - n$ 是否有逆？如果有，其逆函数是什么？

11. a) 试定义从实数集到整数集的下取整函数和上取整函数。

b)对于哪些实数 $x$ 而言 $\lfloor x\rfloor = \lceil x\rceil$ 为真？

12. 为以8，14，32，86，248开头的序列推测一个项的表达式，并找求出该序列后续三项。  
13. 假设 $a_{n} = a_{n - 1} - 5$ ， $n = 1$ ，2…。为 $a_{n}$ 找出一个公式。  
14. 当 $r \neq 1$ 时，几何级数的各项之和 $a + ar + \dots + ar^n$ 是多少？  
15. 证明奇数集合是可数的。  
16. 给出一个不可数集合的例子。  
17. 试定义两个矩阵 $\mathbf{A}$ 和 $\mathbf{B}$ 的乘积。这一乘积何时有定义？  
18. 证明矩阵乘积是不可交换的。

# 补充练习

1. 令 $A$ 为包含字母 $x$ 的英文单词集合， $B$ 为包含字母 $q$ 的英文单词集合。试用 $A$ 、 $B$ 的组合来表示下列集合：

a)不包含字母 $x$ 的英文单词集合。  
b)包含字母 $x$ 和 $q$ 的英文单词集合。  
c)包含字母 $x$ 而不包含字母 $q$ 的英文单词集合。

d)不包含字母 $x$ 或 $q$ 的英文单词集合。  
e)包含 $x$ 或 $q$ 但不同时包含二者的英文单词集合。

2. 证明如果 $A$ 是 $B$ 的子集，则 $A$ 的幂集是 $B$ 的幂集的子集。  
3. 假定 $A$ 和 $B$ 为集合使得 $A$ 的幂集是 $B$ 的幂集的子集。是否一定有 $A$ 是 $B$ 的子集？  
4. 令E表示偶整数集合，O表示奇整数集合。令Z表示整数集合。确定下列每个集合。

a)EUO

b)E∩O

c)Z-E

d)Z-O

5. 证明如果 $A$ 和 $B$ 为集合，则 $A - (A - B) = A \cap B$ 。  
6. 令 $A$ 和 $B$ 为集合。证明 $A \subseteq B$ 当且仅当 $A \cap B = A$   
7. 令 $A$ 、 $B$ 、和 $C$ 为集合。证明 $(A - B) - C$ 不一定等于 $A - (B - C)$ 。  
8. 假定 $A$ 、 $B$ 、和 $C$ 为集合。证明或反驳 $(A - B) - C = (A - C) - B$ 。  
9. 假定 $A$ 、 $B$ 、 $C$ 和 $D$ 为集合。证明或反驳 $(A - B) - (C - D) = (A - C) - (B - D)$ 。  
10. 证明如果 $A$ 和 $B$ 为有限集合，则 $\left| A \cap B \right| \leqslant \left| A \cup B \right|$ 。判断什么时候等号成立。  
11. 令 $A$ 和 $B$ 为有限全集 $U$ 的两个子集。按照递增顺序列出下列各项：

a) $|A|$ ， $|A \cup B|$ ， $|A \cap B|$ ， $|U|$ ， $|\varnothing|$   
b) $|A - B|$ , $|A \oplus B|$ , $|A| + |B|$ , $|A \cup B|$ , $|\varnothing|$

12. 令 $A$ 和 $B$ 为有限全集 $U$ 的两个子集。证明 $\left| \overline{A} \cap \overline{B} \right| = |U| - |A| - |B| + |A \cap B|$ 。  
13. 令 $f$ 和 $g$ 分别为从 $\{1, 2, 3, 4\}$ 到 $\{a, b, c, d\}$ 和从 $\{a, b, c, d\}$ 到 $\{1, 2, 3, 4\}$ 的两个函数，且 $f(1) = d$ ， $f(2) = c$ ， $f(3) = a$ ， $f(4) = b$ ，以及 $g(a) = 2$ ， $g(b) = 1$ ， $g(c) = 3$ ， $g(d) = 2$ 。

a) $f$ 是否是一对一的？ $g$ 是否是一对一的？  
b) $f$ 是否是映上的？ $g$ 是否是映上的？  
c) $f$ 或 $g$ 是否有逆？如果有，求出其逆函数。

14. 假设 $f$ 是一个从 $A$ 到 $B$ 的函数，其中 $A$ 和 $B$ 为有限集。试解释为什么对于 $A$ 的所有子集均有 $|f(S)| \leqslant |S|$ 。  
15. 假设 $f$ 是一个从 $A$ 到 $B$ 的函数，其中 $A$ 和 $B$ 为有限集。试解释为什么对于 $A$ 的所有子集 $|f(S)| = |S|$ 成立当且仅当 $f$ 是一对一的。

假定 $f$ 是一个从 $A$ 到 $B$ 的函数。我们按照如下规则定义从 $\mathcal{P}(A)$ 到 $\mathcal{P}(B)$ 的函数 $S_{f}$ ：对于 $A$ 的每个子集 $X$ 有 $S_{f}(X) = f(X)$ 。类似地，我们定义从 $\mathcal{P}(B)$ 到 $\mathcal{P}(A)$ 的函数 $S_{f}^{-1}$ ：对于 $B$ 的每个子集 $Y$ 有 $S_{f}^{-1}(Y) = f^{-1}(Y)$ 。这里我们用到了2.3节的定义4以及练习42前言中对一个集合的逆像的定义。

* 16. 假设 $f$ 是一个从 $A$ 到 $B$ 的函数。证明

a)如果 $f$ 是一对一函数，则 $S_{f}$ 是从 $\mathcal{P}(A)$ 到 $\mathcal{P}(B)$ 的一对一函数。  
b)如果 $f$ 是映上函数，则 $S_{f}$ 是从 $\mathcal{P}(A)$ 到 $\mathcal{P}(B)$ 的映上函数。  
c)如果 $f$ 是映上函数，则 $S_{f^{-1}}$ 是从 $\mathcal{P}(B)$ 到 $\mathcal{P}(A)$ 的一对一函数。  
d)如果 $f$ 是一对一函数，则 $S_{f^{-1}}$ 是从 $\mathcal{P}(B)$ 到 $\mathcal{P}(A)$ 的映上函数。  
e)如果 $f$ 是一个一一对应，则 $S_{f}$ 是从 $\mathcal{P}(A)$ 到 $\mathcal{P}(B)$ 的一一对应并且 $S_{f}^{-1}$ 是从 $\mathcal{P}(B)$ 到 $\mathcal{P}(A)$ 的一一对应。[提示：利用a)-d)。]

17. 证明如果 $f$ 和 $g$ 均为从 $A$ 到 $B$ 的函数并且 $S_{f} = S_{g}$ （使用练习16前言中的定义），则对于所有 $x \in A$ 必有 $f(x) = g(x)$ 。  
18. 证明如果 $n$ 是一个整数，则 $n = \lceil n / 2 \rceil + \lfloor n / 2 \rfloor$ 。  
19. 对于哪些实数 $x, y$ 有 $\lfloor x + y \rfloor = \lfloor x \rfloor + \lfloor y \rfloor$ 为真？  
20. 对于哪些实数 $x, y$ 有 $\lceil x + y\rceil = \lceil x\rceil +\lceil y\rceil$ 为真？  
21. 对于哪些实数 $x, y$ 有 $\left[x + y\right] = \left[x\right] + \left\lfloor y\right\rfloor$ 为真？  
22. 证明对于所有整数 $n$ 有 $\lfloor n / 2\rfloor \left\lceil n / 2\right\rceil = \lfloor n^2 /4\rfloor$   
23. 证明如果 $m$ 是整数，则有 $\lfloor x\rfloor +\lfloor m - x\rfloor = m - 1$ 除非 $x$ 是整数；当 $x$ 为整数时表达式等于 $m$ 。  
24. 证明如果 $x$ 是实数，则有 $\left\lfloor \frac{x}{2} \right\rfloor = \left\lfloor \frac{x}{4} \right\rfloor$ 。  
25. 证明如果 $n$ 是奇数，则有 $\left\lceil n^{2} / 4\right\rceil = (n^{2} + 3) / 4$   
26. 证明如果 $m, n$ 均为正整数，而 $x$ 为实数，则有

$$
\left\lfloor \frac {\lfloor x \rfloor + n}{m} \right\rfloor = \left\lfloor \frac {x + n}{m} \right\rfloor
$$

* 27. 证明如果 $m$ 是正整数，而 $x$ 是实数，则有

$$
\lfloor m x \rfloor = \lfloor x \rfloor + \left\lfloor x + \frac {1}{m} \right\rfloor + \left\lfloor x + \frac {2}{m} \right\rfloor + \dots + \left\lfloor x + \frac {m - 1}{m} \right\rfloor
$$

* 28. 我们定义乌拉姆数(Ulam number)：设 $u_{1} = 1$ 和 $u_{2} = 2$ 。再者，在判断小于 $n$ 的整数是否是乌拉姆数之后，如果 $n$ 可以被唯一地写成两个不同的乌拉姆数之和，则设 $n$ 为下一个乌拉姆数。注意， $u_{3} = 3$ ， $u_{4} = 4$ ， $u_{5} = 6$ ， $u_{6} = 8$ 。

a)求前20个乌拉姆数。   
b) 证明存在无穷多个乌拉姆数。

29. 求 $\prod_{k=1}^{100} \frac{k+1}{k}$ 的值（此处所使用的乘积符号在 2.4 节练习 43 前言有定义）。

* 30. 试给出一个规则以产生以1，3，4，8，15，27，50，92，…开头的序列项，并求出该序列的后续四项。  
*31. 试给出一个规则以产生以2，3，3，5，10，13，39，43，172，177，885，891，…开头的序列项，并求出该序列的后续四项。

32. 证明无理数集是不可数集。  
33. 证明集合 $S$ 是可数集，如果存在一个从 $S$ 到正整数集的函数使得只要当 $j$ 是一个正整数时 $f^{-1}(j)$ 是可数的。  
34. 证明正整数集合的所有有限子集的集合是一个可数集。

**35. 证明 $|\mathbf{R} \times \mathbf{R}| = |\mathbf{R}|$ 。[提示：利用Schröder-Bernstein定理证明 $|(0,1) \times (0,1)| = |(0,1)|$ 。构造一个从 $(0,1) \times (0,1)$ 到 $(0,1)$ 的单射函数，假设 $(x,y) \in (0,1) \times (0,1)$ 。将 $(x,y)$ 映射到这样一个数，其十进制展开式交替取自 $x$ 和 $y$ 的十进制展开式中的数字，这里的数均不以9的无限循环结尾。]  
**36. 证明复数集合 $\mathbf{C}$ 具有和实数集合 $\mathbf{R}$ 同样的基数。  
37. 计算 $A^n$ ，如果 $A$ 是 $\left[ \begin{array}{rr}0 & 1\\ -1 & 0 \end{array} \right]$ 。  
38. 证明如果 $A = cI$ ，这里 $c$ 是一个实数而 $I$ 是 $n \times n$ 单位矩阵，则当 $B$ 是一个 $n \times n$ 矩阵时有 $AB = BA$ 。  
39. 证明如果 $A$ 一个 $2 \times 2$ 矩阵使得当 $B$ 是一个 $2 \times 2$ 矩阵时有 $AB = BA$ ，则有 $A = cI$ ，这里 $c$ 是一个实数而 $I$ 是 $2 \times 2$ 单位矩阵。  
40. 证明如果 $A$ 和 $B$ 是可逆的矩阵且 $AB$ 存在，则 $(AB)^{-1} = B^{-1}A^{-1}$ 。  
41. 令 $A$ 是一个 $n \times n$ 矩阵，令 0 是一个所有元素都是 0 的 $n \times n$ 矩阵。证明下列式子为真。

a) $A\odot 0 = 0\odot A = 0$   
b) $A \vee 0 = 0 \vee A = A$   
c) $A\wedge 0 = 0\wedge A = 0$

# 计算机课题

# 按给定的输入和输出写程序。

1. 给定含有 $n$ 个元素集合的两个子集 $A$ 和 $B$ ，利用比特串求出 $\overline{A}$ 、 $A \cup B$ 、 $A \cap B$ 、 $A - B$ 、 $A \oplus B$ 。  
2. 给定来自同一全集的两个多重集合 $A$ 和 $B$ ，试求 $A \cup B$ 、 $A \cap B$ 、 $A - B$ 以及 $A + B$ （参见2.2节练习61的前言）。  
3. 给定模糊集合 $A$ 和 $B$ ，试求 $\overline{A}$ 、 $A\bigcup B$ 以及 $A\cap B$ （参见2.2节练习73的前言）。  
4. 给定一个从 $\{1, 2, \dots, n\}$ 到整数集合的函数 $f$ ，判断 $f$ 是否是一对一函数。  
5. 给定一个从 $\{1, 2, \dots, n\}$ 到其自身的函数 $f$ ，判断 $f$ 是否是映上函数。  
6. 给定一个从 $\{1, 2, \dots, n\}$ 到其自身的双射函数 $f$ ，求 $f^{-1}$ 。  
7. 给定一个 $m \times k$ 矩阵 $\mathbf{A}$ 和一个 $k \times n$ 矩阵 $\mathbf{B}$ ，求 $\mathbf{AB}$ 。  
8. 给定一个方阵 $A$ 和一个正整数 $n$ ，求 $A^n$ 。  
9. 给定一个方阵，判断其是否对称。  
10. 给定两个 $m \times n$ 布尔矩阵，求其交和并。  
11. 给定一个 $m \times k$ 布尔矩阵 $\mathbf{A}$ 和一个 $k \times n$ 布尔矩阵 $\mathbf{B}$ ，求 $\mathbf{A}$ 和 $\mathbf{B}$ 的布尔积。  
12. 给定一个布尔方阵 $A$ 和一个正整数 $n$ ，求 $A^{[n]}$ 。

# 计算和探索

使用一个计算程序或你自己编写的计算程序做下面的练习。

1. 给定两个有限集，试列出这两个集合笛卡儿积中的所有元素。  
2. 给定一个有限集，试列出其幂集中的所有元素。  
3. 计算从集合 $S$ 到集合 $T$ 的一对一函数的数量，其中 $S$ 和 $T$ 均为任意大小的有限集。你能否确定一个这样的函数数量的公式？（我们将在第 6 章寻找这样的公式。）  
4. 计算从集合 $S$ 到集合 $T$ 的映上函数的数量，其中 $S$ 和 $T$ 均为任意大小的有限集。你能否确定一个这样的函数数量的公式？（我们将在第8章寻找这样的公式。）  
5. 给定正整数 $n$ ，生成前 $n$ 个斐波那契数。查看这些项，为之猜想一个公式（比如查看其大小、不同因子的整除性或不同项之间可能的恒等式）。  
* 6. 设计一组用于生成序列项的不同规则，并开发一程序能随机选取一个规则，以及由这些该规则产生的特定序列。将程序设计成交互方式，通过提示该序列的后续项，并判断解答是否是预期的后续项。

# 写作课题

用本教材以外的资料，按下列要求写成论文。

1. 讨论开发公理化集合论来避免罗素悖论（参见2.1节练习50）。  
2. 研究函数概念最早出现在什么场合，试描述当时这个概念是如何被运用的。  
3. 试从几个不同方面来解释《整数序列大百科》(Encyclopededia of Integer Sequences)的巨大作用。并描述该大百科中一些非比寻常的序列以及它们是如何出现的。  
4. 定义最新提出的 EKG 序列并描述它的某些性质以及有关它的一些未解问题。  
5. 查阅超越数的定义。解释如何证明这样的数存在以及这些数是如何被构造出来的。哪些著名的数可以被证明是超越数，而哪些著名的数仍然未知是否是超越数？  
6. 扩展讨论书本中的连续统假设。

# 第3章

Discrete Mathematics and Its Applications, 8E

# 算法

许多问题都可以作为一般性问题的特例来解决。例如，寻找序列101，12，144，212，98中最大整数的问题。这是寻找整数序列中最大整数问题的一个特例。为解决这个一般性问题，我们必须给出一个算法，它指定了一系列步骤来解决这个一般性问题。本书我们将研究解决许多不同类型问题的算法。例如，本章将介绍计算机科学中最重要的两个算法：在一个列表中搜索一个元素；将一个列表进行分类使得其元素按某种规定的顺序（如升序、降序或字母序）排序。后续章节将介绍更多算法来求解两个整数的最大公约数、产生一个有限集的所有排序、寻找网络中两个节点间的最短路径，以及其他许多问题。

我们将介绍算法范例的概念，它为设计算法提供了通用方法。特别是我们会讨论蛮力算法，它不用任何智慧而直接用最简单的方法来寻求答案。我们还将讨论贪婪算法，这是一类用于求解最优化问题的算法。证明在算法研究中也很重要。在本章中我们通过证明一个特定的贪婪算法总能找到最优解来进行解释。

对于一个算法，需要重点考虑的是其计算复杂度，它用来衡量该算法在解决一定规模问题时所需要的处理时间和计算机存储空间。为了度量算法的复杂度，我们使用大 $O$ 和大 $\Theta$ 记号，本章将介绍这些记号。在本章中我们将解释算法复杂度的分析，侧重于算法求解问题时所需要的时间。另外还将讨论就实践和理论而言算法的时间复杂度意味着什么。

# 3.1 算法

# 3.1.1 引言

离散数学中有多种一般性问题。例如，已知一串整数，求最大的一个；已知一个集合，列出其所有子集；给定一个整数集合，把这些整数从小到大排序；已知一个网络，找出两个顶点之间的最短路径等。遇到这样的问题时，首先要做的就是构造一个模型把问题转换为数学问题。在这种模型中用到的离散结构包括第2章中讨论过的集合、序列和函数，以及后续章节将要讨论的置换、关系、图、树、网络和有限状态机等概念。

建立合适的数学模型只是解题的第一步。完整的解题还需要利用这一模型解决一般性问题的方法。理想的情况是需要一个过程，它能够遵循一系列步骤导致找到所求的答案。这一系列步骤就称为一个算法（algorithm）。

定义1 算法是进行一项计算或解决一个问题的精确指令的有限序列。

# Links

![](175168a5e9562f41aa16ba0e90fb5c14d95d32aee3a693b2627704b1c6161312.jpg)  
$\odot$ dbimages/Alamy Stock Photo

阿布·贾法尔·穆罕默德·伊本·穆萨·花剌子密（Abu Ja'far Mohammed ibn Musa al-khowarizmi，大约公元780—850）花剌子密是天文学家和数学家，是巴格达一个科学家组织“智慧之家”的成员。花剌子密这一名字的含义是“来自花剌子模（Kowarzizm)镇”，当时是波斯的一部分；现称为卡瓦(Khiva)，是乌兹别克斯坦的一部分。花剌子密著有关于数学、天文学和几何学的书。西欧人最初从他的著作中了解代数。代数(algebra)一词源自al-jabr，这是他的书《Kitab al-jabr w'al muquabala》标题的一部分。这本书曾被译为拉丁文并广泛用做课本。他关于印度数字的书描述了使用这些数字作算术运算的过程。欧洲的作者使用了他的名字的一个拉丁讹音来表

示用印度数字做算术的内容，后来演变为algorithm(算法)一词。

术语算法（algorithm）一词是对9世纪的一位数学家花拉子密(al-khowarizmi)的名字的讹用，他论述印度数字的书是现代十进制记号的基础。起初algorism一词用于表示使用十进制记号做算术运算的规则。到18世纪时algorism演变成algorithm。随着人们对计算机的兴趣日益增长，算法的概念被赋予更通用的含义，不仅包含做算术的过程，而且包含所有用于解题的确定性的过程。（第4章将讨论做整数算术的算法。）

本书将讨论解决各种问题的算法。本节我们将利用有限整数序列中寻找最大整数这一问题来解释算法的概念和算法具有的性质。此外，还会描述在有限集合中寻找一个特定元素的算法。以后各节将讨论求两个整数的最大公约数的过程，求网络上两点之间的最短路径的过程，矩阵相乘的过程等。

例1 描述在一个有限整数序列中寻找最大值的算法。

尽管在一个有限序列中寻找最大元素的问题相对简单，但它能很好地解释算法的概念。另外，在很多实例中需要用到有限整数序列中的最大整数。例如，大学可能要找出几千名学生参加竞赛的最高分。或者一个体育组织可能需要确定每个月成绩最好的成员。我们要开发这样一个算法，每当需要在有限整数序列中寻找最大元素的问题时就可以使用该算法。

可以用几种不同的方式给出解决这一问题的过程。一种方法是直接用中文描述需要用到一系列步骤。下面给出这样一个解。

解 执行下面的步骤。

1）设临时最大值等于序列中第一个整数。（整个过程的每一阶段，临时最大值都等于已检查过的最大整数。）  
2）将序列中的下一个整数与临时最大值比较，如果这个数大于临时最大值，置临时最大值为这个整数。  
3）如果序列中还有其他整数，重复前一个步骤。  
4）当序列中不再有其他整数时停止。此刻的临时最大值就是序列中的最大整数。

算法也可以用计算机语言来描述。但这样做时，只能使用这种语言所允许的指令。这样做常常导致算法的描述既复杂又难以理解。另外，许多程序设计语言都很常用的，从中选用特定的某种语言是不可取的。因此本书中不采用任何一种特定的计算机语言描述算法，而是使用在附录3中描述的伪代码(pseudocode)的形式。（我们也可以用中文来描述算法。）伪代码提供的是在算法的中文描述及该算法的一种编程语言实现之间的中间一步。算法步骤用模仿程序设计语言指令的伪指令来描述。不过在伪代码中使用的指令可以包括任何良定义的运算或语句。以伪代码描述为起点，可以生成用任何一种计算机语言描述的计算机程序。

本书使用的伪代码的设计是易于理解的。在用各种不同编程语言之一来构造实现算法的程序时，可以用它作为一种中间步骤。尽管该伪代码并不遵循Java、C、 $\mathrm{C} + +$ 或其他编程语言的语法，但熟悉一种编程语言的学生会发现它容易理解。该伪代码与编程语言代码的一个主要差别是我们可以使用任何良定义的指令，即使可能需要用许多行代码来实现该指令。附录3给出了本书使用的伪代码的细节。需要时读者应参考该附录。

下面是求有限序列中的最大元素算法的伪代码描述。

算法1 求有限序列中的最大元素

procedure $\max (a_1,a_2,\dots ,a_n$ ：整数）

max:=a1

for $i\coloneqq 2$ to $n$

if $\max < a_{i}$ then $\max := a_{i}$

return max{max是最大元素}

该算法首先把序列的首项 $a_1$ 赋给变量 $\max$ 。“for”循环用于逐个检查序列中的项。如果某一项大于 $\max$ 的当前值，就将其赋给 $\max$ 成为新值。当所有项都检查完毕，算法终止。终止时 $\max$ 的值就是序列中的最大元素。

为了深入了解算法的工作原理，在给定特定输入时构建一条显示其步骤的轨迹是很有帮助的。比如，算法1给定输入为8，4，11，3，10，轨迹开始时设置max为8，即初始项的值。然后，比较第二项4和max当前值8。因为 $4 \leqslant 8$ ，所以max不变。接下来算法比较第三项11和max当前值8。因为 $8 < 11$ ，所以max被设置为11。算法接着比较第四项3和max当前值11。因为 $3 \leqslant 11$ ，所以max不变。最后，算法比较最后一项10和max当前值11。因为 $10 \leqslant 11$ ，所以max维持不变。由于只有5项，即 $n = 5$ ，因此，在检查最后一项10之后，算法终止，并且 $\max = 11$ 。当算法终止时，它报告11是序列中最大的一项。

算法的性质 算法一般都共有一些性质。当描述算法时牢记这些性质是有益的。这些性质是：

- 输入，算法从一个指定的集合得到输入值。  
- 输出，对每个输入值集合，算法都要从一个指定的集合中产生输出值。输出值就是问题的解。  
$\bullet$ 确定性，算法的步骤必须是准确定义的。  
- 正确性，对每一组输入值，算法都应产生正确的输出值。  
- 有限性，对任何输入算法都应在有限（可能很多）步之后产生期望的输出。  
- 有效性，算法的每一步都应能够准确地在有限时间内完成。  
- 通用性，算法过程应该可以应用于期望形式的所有问题，而不只是用于一组特定的输入值。

例2 证明求有限整数序列最大元素的算法1具有上面列出的所有性质。

解 算法1的输入是一个整数序列。输出是该序列的最大整数。算法的每一步都是准确定义的，因为只出现了赋值、有限循环和条件语句。为了证明算法是正确的，必须证明当算法终止时，变量max的值等于序列的最大项。为了看明白这一点，注意max的初值是序列的第一项。随着不断检查序列中的各项，如果有一项超过已检查项的最大值，就把max更新为该项的值。这个(非形式化的)论证证明了当检查完所有的项时，max就等于最大项的值。（这个事实的严格证明需要用到5.1节介绍的证明技术——数学归纳法。）该算法只使用了有限的步骤数，因为在检查了该序列中所有整数以后算法就终止。算法可以在有限时间内完成，因为每一步要么是比较，要么是赋值，而且只有有限这样的步骤，所以这两个操作都能在有限时间内完成。最后，算法1是通用的，因为该算法可用于求任何有限整数序列的最大元素。

# 3.1.2 搜索算法

在有序表中定位一个元素的问题经常会出现各种应用场景。例如检查单词拼写的程序要在字典中搜索，而字典其实就是单词的有序表。这一类问题称为搜索问题。本节将讨论几个搜索算法。3.3节将介绍这些算法各自所需的步骤数。

一般性的搜索问题可以描述如下：在不同元素 $a_1, a_2, \dots, a_n$ 的列表中定位元素 $x$ ，或判定 $x$ 不在该表中。这一搜索问题的解就是列表中等于 $x$ 的那一项的位置（即如果 $x = a_i$ ，那么 $i$ 就是解），而当 $x$ 不在列表中时为 0。

Links

线性搜索 将介绍的第一个算法称为线性搜索或顺序搜索算法。线性搜索算法从比较 $x$ 和 $a_1$ 开始。如果 $x = a_1$ ，那么解就是 $a_1$ 的位置，即 1 。当 $x \neq a_1$ 时，比较 $x$ 和 $a_2$ 。如果 $x = a_2$ ，解就是 $a_2$ 的位置，即 2 。当 $x \neq a_2$ 时，比较 $x$ 与 $a_3$ 。继续这一过程，逐一比较 $x$ 和列表中的每一项直到找到匹配为止，这里解就是该项的位置除非没有匹配。如果已搜索了整个列表却不能

定位 $x$ ，那么解是0。该线性搜索算法的伪代码如算法2所示。

# 算法2 线性搜索算法

procedure linear search(x：整数， $a_1$ ， $a_2$ ，…， $a_{n}$ ：不同整数） $i:=1$ while $(i\leqslant n$ 和 $x\neq a_i)$ （204 $i:=i+1$ if $i\leqslant n$ then location $\coloneqq i$ else location $\coloneqq 0$ return location{location是等于 $x$ 的项的下标，或者是0（如果找不到 $x$ ）}

二分搜索 现在考虑另一个搜索算法。当列表中各项以升序出现时可以用这一算法（例如，如果项为数值，则按从最小到最大顺序排列；如果是单词，则可以按字典序或字母序排列）。这个算法称为二分搜索算法。它是通过比较要搜索的元素与列表的中间项进行的。然后此列表就分成两个较小的长度相等的子列表，或其中较短的列表比另一个少一项。根据与中间项的比较结果，可以将搜索局限于一个合适的子列表继续进行。3.3节将证明二分搜索算法比线性搜索算法的效率高很多。例3说明二分搜索是如何工作的。

例3 在下面的列表中搜索19

1,2,3,5,6,7,8,10,12,13,15,16,18,19,20,22

第一步把有16个项的这个列表分成各含8项的两个较小的列表，即

1,2,3,5,6,7,8,10 12,13,15,16,18,19,20,22

然后比较19和第一个列表的最大项。因为 $10 < 19$ ，所以对19的搜索可以局限于包含原列表第 $9\sim 16$ 项的列表中。下一步把含8项的这个列表分成两个含4项的小列表，即

12,13,15,16 18,19,20,22

因为 $16 < 19$ （将19与第一个列表的最大项比较），所以搜索可局限于这两个列表中的第二个，它包含原列表的第 $13\sim 16$ 项。列表18，19，20，22再分成两个，即

18,19 20,22

因为19不大于两个列表中第一个的最大项，这最大项也是19，搜索可局限于第一个列表：18和19，它包含原列表的第13、14项。下一步，这个含两项的列表被分成各含一项的两个列表18和19。因为 $18 < 19$ ，搜索可局限于第二个列表：该列表只含原列表第14项，即19。现在搜索已经被局限到了一项上，经过一次比较，19定位为原列表的第14项。

现在给出二分搜索算法的步骤。要在列表 $a_1, a_2, \cdots, a_n$ 中搜索整数 $x$ ，其中 $a_1 < a_2 < \cdots < a_n$ ，从比较 $x$ 和列表的中间项 $a_m$ 开始，其中 $m = \lfloor (n + 1) / 2 \rfloor$ 。（回忆一下， $\lfloor x \rfloor$ 是不超过 $x$ 的最大整数。）如果 $x > a_m$ ，搜索可以限定在列表的后半段，即 $a_{m+1}, a_{m+2}, \cdots, a_n$ 。如果 $x$ 不大于 $a_m$ ，搜索可限定在列表的前半段，即 $a_1, a_2, \cdots, a_m$ 。

现在搜索的范围限于一个不超过 $\lceil n / 2\rceil$ 个元素的列表。（回忆一下，「x]是大于等于 $x$ 的最小整数。）用同样的过程，比较 $x$ 和这个限定列表的中间项。然后把搜索限于该限定列表的前半段或后半段。这样重复直到得到只含一项的列表。然后判断这项是否就是 $x$ 。二分搜索算法的伪代码如算法3所示。

# 算法3 二分搜索算法

procedure binary search $(x$ ：整数， $a_1$ ， $a_2$ ，…， $a_{n}$ ：递增整数）

$i:=1\{i$ 是搜索区间的左端点 $\}$

$j:=n\{j$ 是搜索区间的右端点 $\}$

while $i <   j$ $\begin{array}{rl}m: & = \left\lfloor (i + j) / 2\right\rfloor \\ \text{if} x > a_m\text{then} i & := m + 1\\ \text{else} j & := m \end{array}$ if $x = a_{i}$ then location $:=i$ else location $:=0$ return location{location是等于 $x$ 的项 $a_{i}$ 的下标 $i$ ，或是0如果找不到 $x$ }

算法3是通过不断缩小被搜索的部分序列而进行的。在任何阶段都只有从 $a_{i}$ 到 $a_{j}$ 的这些项需要考虑。换言之， $i$ 和 $j$ 分别是剩余项的最小和最大下标。算法3不断缩小需搜索的序列，直到序列中只剩下一项为止。此时，需要一次比较来看这一项是否等于 $x$ 。

# 3.1.3 排序

对一个列表中的元素排序是一个常见问题。例如，为了制作电话簿，就要按字母顺序排列用户姓名。类似地，可供下载的歌曲目录需要将其曲目名称按字母顺序排列。电子邮件列表中的地址按序排列有助于确定是否有重复地址。创建一个有用的字典需要把单词按字母顺序排列。同样，生成一份配件表也需要将配件按配件号升序排列。

假定有一个集合元素的列表。再假设有一种方式可以给集合的元素排序。（给集合元素排序的概念将在9.6节详细讨论。）排序（sorting)就是把这些元素排成一个列表，其中元素按照升序排列。例如，对列表7，2，1，4，5，9的排序就产生列表1，2，4，5，7，9。对列表 $d$ ， $h$ ， $c$ ， $a$ ， $f$ 的排序(利用字母序)就产生列表 $a$ ， $c$ ， $d$ ， $f$ ， $h$ 。

计算资源中有相当大的比例是关注对各种事物进行排序。因此，人们致力于开发排序算法。采用不同策略设计的排序算法数量多得惊人，而且经常有新的算法产生。高德纳·克努特(Donald Knuth)在其奠基性著作《计算机程序设计艺术》(The Art of Computer Programming)的第三卷中用了近400页篇幅叙述排序，详细讨论了大约15种不同的排序算法！已经有100多种排序算法，并且令人惊奇的是不久还会有新的排序算法出现。在最新的排序算法中最吸引人的包括2002年发明的广泛使用的算法Timsort和2006年发明的图书馆排序，也称为是空隙插入排序。

计算机科学家和数学家对排序算法感兴趣有很多的原因。其中包括：有些算法更容易实现，有些算法更有效（在一般情况下，或当已知输入带有某种特征（比如稍有错位的列表）时），有些算法利用特殊的计算机体系结构，有些算法特别智能等。本节介绍两种排序算法：冒泡排序和插入排序。本节的练习中会介绍另外两种排序算法：选择排序和二分插入排序，而在补充练习中会介绍剃刀(shaker)排序。5.4节将讨论归并排序并在该节的练习中介绍快速排序；11.2节的练习中介绍竞赛排序。我们之所以讨论排序算法是因为：排序是一个重要课题；这些算法可作为许多重要概念的例子。

冒泡排序冒泡排序(bubble sort)是最简单的，但不是最有效的排序算法之一。冒泡排序通过连续比较相邻的元素，如果相邻元素顺序不对就交换相邻元素，从而把一个列表排列成升序。为了实现冒泡排序，我们执行基本操作，即交换一个较大元素与紧跟其后的较小元素，从列表头开始完整地执行一遍。迭代这个过程直到排序完成。算法4给出冒泡排序的伪代码。可以想象把列表中的元素排成一列。在冒泡排序中，较小的元素随着与较大的元素交换而“冒泡”到顶端。较大的元素则“下沉”到底部。该过程如例4所示。

例4 用冒泡排序把3，2，4，1，5排列成升序。

图1冒泡排序的步骤。

解 这个算法的步骤如图1所示。首先比较前两个元素3和2。因为 $3 > 2$ ，交换3与2，产生2，3，4，1，5。因为 $3 < 4$ ，继续比较4和1。因为 $4 > 1$ ，交换4与1，产生2，3，1，4，

5。因为 $4 < 5$ ，第一遍就完成了。第一遍保证了最大元素5在正确位置上。

![](1e17dd3b83a58a02d9dde51319491c7bd6bdfbf146d412d417c20032abedb25c.jpg)  
图1 冒泡排序的步骤

第二遍首先比较2和3。因为这两个数顺序正确，就比较3和1。因为 $3 > 1$ ，交换这两个数，产生2，1，3，4，5。因为 $3 < 4$ ，这两个数顺序正确。这一遍不必进一步比较了，因为5已经在正确位置上。第二遍保证两个最大元素4和5都在正确位置上。

第三遍首先比较2和1。因为 $2 > 1$ ，交换这两个数，产生1，2，3，4，5。因为 $2 < 3$ ，所以这两个数顺序正确。这一遍不必进一步比较了，因为4和5都已经在正确位置上。第三遍保证三个最大元素3、4和5都在正确位置上。

第四遍包括一次比较，即1和2的比较。因为 $1 < 2$ ，所以这两个数顺序正确。这样就完成了冒泡排序。

# 算法4 冒泡排序

procedure bubblesort $(a_{1},\dots ,a_{n}$ ：实数， $n\geqslant 2$

for $i\coloneqq 1$ to $n - 1$

for $j\coloneqq 1$ to $n - i$

if $a_{j} > a_{j + 1}$ then交换 $a_{j}$ 与 $a_{j + 1}$

$\{a_{1}, \cdots, a_{n}$ 按升序排列}

插入排序 插入排序 insertsort)是一种简单的排序算法，但通常不是很有效的。为了给 $n$ 个元素的列表排序，插入排序从第二个元素开始。插入排序将这第二个元素与第一个元素比较：如果它不大于第一个元素，就把它插入到第一个元素前面；如果它大于第一个元素，就把它插入到第一个元素后面。此时前两个元素顺序正确。然后第三个元素与第一个元素比较，如果它大于第一个元素，再与第二个元素比较；它将插入到前三个元素中的正确位置上。

一般来说，在插入排序第 $j$ 步上，列表的第 $j$ 个元素插入到已经排序的 $j - 1$ 个元素的列表的正确位置上。为了在列表中插入第 $j$ 个元素，使用线性搜索技术（参见练习45）。从列表头开始，第 $j$ 个元素依次与已经排序的 $j - 1$ 个元素比较，直到发现第一个不小于这个元素的元素为止，或者直到这个元素已经与所有 $j - 1$ 个元素都比较过为止。第 $j$ 个元素就被插入到正确位置上使得前 $j$ 个元素排好顺序。继续该算法直到最后一个元素被放置到相对于前 $n - 1$ 个元素已经排序的列表中的正确位置上。插入排序的伪代码描述如算法5所示。

例5 用插入排序把列表3，2，4，1，5排列成升序。

解插入排序首先比较2和3。因为 $3 > 2$ ，把2插入前一个位置，产生列表2，3，4，1，5（列表中已排序部分用黑体表示）。此时，2和3的顺序正确。通过比较 $4 > 2$ 和 $4 > 3$ 把第三个元素4插入列表的已排序部分。因为 $4 > 3$ ，把4保留在第三个位置上。此时列表是2，3，4，1，5，并且我们知道前三个元素的顺序是正确的。接下来我们要为第四个元素1寻找在已排序元素2，3，4中的正确位置。因为 $1 < 2$ ，得到列表1，2，3，4，5。最后依次比较5与1，2，3和4，

把5插入正确位置。因为 $5 > 4$ ，所以5就留在表的尾部，产生整个列表的正确顺序。

# 算法5 插入排序

procedure insertion sort $(a_{1}, a_{2}, \dots, a_{n}$ ：实数， $n \geqslant 2$ ）  
for $j := 2$ to $n$ \[
\begin{aligned}
i &:= 1 \\
\text{while } a_{j} > a_{i} \\
i &:= i + 1 \\
m &:= a_{j} \\
\text{for } k := 0 \text{ to } j - i - 1 \\
a_{j-k} &:= a_{j-k-1} \\
a_{i} &:= m
\end{aligned}
\] $\{a_{1}, a_{2}, \dots, a_{n}$ 已排序}

# 3.1.4 字符串匹配

虽然搜索和排序是计算机科学中最常见的问题，但其他问题也会经常遇见。其中之一是：一个特定的字符串 $P$ （称为模式（pattern））出现在另外一个字符串 $T$ （称为文本（text））的什么位置上（如果有的话）？比如，能否在串11001011中找到模式101？通过检查，我们发现偏移4个字符位置就能在文本11001011中看到101，因为，文本中第5、6、7个字符正好构成字符串101。另一方面，模式11并没有出现在文本110110001101中。

在文本中寻找一个模式出现的位置称为字符串匹配（string matching）。字符串匹配在许多应用领域起着重要作用：文本编辑、垃圾邮件过滤、计算机网络中的攻击检测系统、搜索引擎、抄袭检测、生物信息学等。例如，在文本编辑中，当我们需要用一个字符串替代另一个字符串时，就需要找出该字符串的所有出现位置，这就是字符串匹配。搜索引擎则查看搜索关键词和网页中词语的匹配。生物信息学中的许多问题是研究由4个碱基——胸腺嘧啶(T)、腺嘌呤(A)、胞嘧啶(C)和鸟嘌呤(G)——构成的DNA分子。DNA序列的处理是确定4个碱基在DNA中的顺序，这就涉及由T、A、C和G这4个字母构成的字符串的匹配问题。比如，我们会问模式CAG是否出现在文本CATCACAGAGA中？答案是肯定的，因为它出现在移位5个字符的位置处。求解基因组相关的问题需要用到更为有效的字符串匹配算法，因为表示人类基因组的字符串有大约 $3 \times 10^{9}$ 个字符的长度。

我们现在来描述一个用于字符串匹配的蛮力算法——算法6，称为朴素字符串匹配器（naive string matcher）。算法的输入是我们希望匹配的模式 $P = p_{1}p_{2}\dots p_{m}$ 和文本 $T = t_{1}t_{2}\dots t_{n}$ 。当这个模式在文本 $T$ 的第 $s + 1$ 个位置开始时，即当 $t_{s + 1} = p_{1}$ ， $t_{s + 2} = p_{2}$ ，…， $t_{s + m} = p_{m}$ 时，我们就说 $P$ 出现在 $T$ 中偏移（shift） $s$ 处。为了寻找所有有效偏移，朴素字符串匹配器将遍历所有可能的偏移 $s$ ，即从 $s = 0$ 到 $s = n - m$ ，判断 $s$ 是否是有效偏移。图2展示了利用算法6在文本 $T = eceyeye$ 中搜索模式 $P = eye$ 时的操作步骤。

# 算法6 朴素字符串匹配器

procedure string match(n, m: 正整数， $m \leqslant n$ ， $t_1$ ， $t_2$ ，…， $t_n$ ， $p_1$ ， $p_2$ ，…， $p_m$ ：字符）  
for $s := 0$ to $n - m$ $\begin{array}{l} j := 1 \\ \text{while} (j \leqslant m \text{ and } t_{s + j} = p_j) \\ \quad j := j + 1 \\ \text{if } j > m \text{ then print "s is a valid shift"} \end{array}$

![](7cab92ebfe608336e6716449f4874144b123da0135dbad9cc105704a0340d14a.jpg)  
图2 朴素字符串匹配器在 $T = eceye$ 中搜索 $P = \text{eye}$ 时的步骤。用实线表示匹配，用折线表示不匹配。算法找到两个有效偏移： $s = 2$ 和 $s = 4$

除了朴素字符串匹配器，人们已经开发了许多其他字符串匹配算法。这些算法利用各种不同的方法使其比朴素字符串匹配器更加有效。想了解这些算法，可以参考[CoLeRiSt09]，以及生物信息学算法方面的书籍。

# 3.1.5 贪婪算法

本书中要学习的许多算法都用于解决最优化问题（optimization problem）。这种问题的目标是寻找给定问题满足某个参数值最小化或最大化的解。本书后续要研究的最优化问题包括：寻找两个城市之间总里程最短的路线；确定一种用尽可能少的位数进行消息编码的方式；以及寻找一组在网络节点之间使用最少量光纤的光纤连接。

令人惊奇的是，一种最简单的方法常常能导致最优化问题的一个解。这种方法在每一步都选择最好的选项，而不是通盘考虑可能导致最优解的全部步骤序列。在每一步都选择看起来“最好的”选项的算法称为贪婪算法（greedy algorithm）。一旦贪婪算法求出了一个可行解，就要确定它是否找到了一个最优解。为此，要么证明这个解是最优的，要么证明该算法产生了一个非最优解的反例。为了更具体地说明这些概念，下面考虑一个实现硬币找零钱的收银员算法（cashier's algorithm）（之所以被称为收银员算法，是因为在收银机全电子化之前收银员得经常用该算法来找零）。

例6 考虑用25美分、10美分、5美分和1美分硬币找 $n$ 美分零钱的问题，使硬币总数尽可能少。可以通过在每一步都做局部最优的选择来设计一个找 $n$ 美分零钱的贪婪算法，即在每一步选择可能的最大面值硬币使得加入到零钱后其总额不超过 $n$ 美分。例如，要找67美分零钱，首先选择一个25美分（剩下42美分）。接着选择第二个25美分（剩下17美分），随后选择一个10美分（剩下7美分），随后选择一个5美分（剩下2美分），随后选择一个1美分（剩下1美分），最后选择一个1美分。

用任何一组不同面值的硬币找 $n$ 美分零钱的收银员算法如算法7所示。

# 算法7 收银员算法

procedure change $(c_{1}, c_{2}, \dots, c_{r}$ ：硬币的面值，其中 $c_{1} > c_{2} > \dots > c_{r}$ ； $n$ ：正整数）

$$
\text {f o r} i: = 1 \text {t o} r
$$

$d_{i}:=0\{d_{i}$ 统计使用面值为 $c_{i}$ 的硬币数}

$$
\text {w h i l e} n \geqslant c _ {i}
$$

$d_{i}:= d_{i}+1$ {增加一个面值 $c_{i}$ 的硬币}

$$
n := n - c _ {i}
$$

$\{d_{i}$ 是零钱中面值为 $c_{i}$ 的硬币的数量， $i = 1$ ，2，…， $r\}$

我们描述了一个用任意一组有限的面值为 $c_{1}$ ， $c_{2}$ ，…， $c_{r}$ 的硬币找零钱的贪婪算法——收银员算法。在有四种面值为25美分、10美分、5美分和1美分硬币的特例中，我们有 $c_{1} = 25$ ， $c_{2} = 10$ ， $c_{3} = 5$ 和 $c_{4} = 1$ 。对于这种情形，我们证明这个算法在使用尽可能少硬币的意义下能求